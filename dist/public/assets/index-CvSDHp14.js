var uG=Object.defineProperty;var qP=e=>{throw TypeError(e)};var dG=(e,t,n)=>t in e?uG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>dG(e,typeof t!="symbol"?t+"":t,n),Zb=(e,t,n)=>t.has(e)||qP("Cannot "+n);var Q=(e,t,n)=>(Zb(e,t,"read from private field"),n?n.call(e):t.get(e)),gt=(e,t,n)=>t.has(e)?qP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),nt=(e,t,n,r)=>(Zb(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vt=(e,t,n)=>(Zb(e,t,"access private method"),n);var mx=(e,t,n,r)=>({set _(a){nt(e,t,a,n)},get _(){return Q(e,t,r)}});function fG(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i5={exports:{}},Jv={},o5={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),hG=Symbol.for("react.portal"),mG=Symbol.for("react.fragment"),pG=Symbol.for("react.strict_mode"),xG=Symbol.for("react.profiler"),gG=Symbol.for("react.provider"),yG=Symbol.for("react.context"),vG=Symbol.for("react.forward_ref"),bG=Symbol.for("react.suspense"),jG=Symbol.for("react.memo"),wG=Symbol.for("react.lazy"),WP=Symbol.iterator;function _G(e){return e===null||typeof e!="object"?null:(e=WP&&e[WP]||e["@@iterator"],typeof e=="function"?e:null)}var l5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c5=Object.assign,u5={};function Of(e,t,n){this.props=e,this.context=t,this.refs=u5,this.updater=n||l5}Of.prototype.isReactComponent={};Of.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Of.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d5(){}d5.prototype=Of.prototype;function rS(e,t,n){this.props=e,this.context=t,this.refs=u5,this.updater=n||l5}var sS=rS.prototype=new d5;sS.constructor=rS;c5(sS,Of.prototype);sS.isPureReactComponent=!0;var UP=Array.isArray,f5=Object.prototype.hasOwnProperty,aS={current:null},h5={key:!0,ref:!0,__self:!0,__source:!0};function m5(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)f5.call(t,r)&&!h5.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Ap,type:e,key:i,ref:o,props:a,_owner:aS.current}}function NG(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function SG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var VP=/\/+/g;function Jb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SG(""+e.key):t.toString(36)}function gg(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ap:case hG:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Jb(o,0):r,UP(a)?(n="",e!=null&&(n=e.replace(VP,"$&/")+"/"),gg(a,t,n,"",function(u){return u})):a!=null&&(iS(a)&&(a=NG(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(VP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",UP(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Jb(i,l);o+=gg(i,t,n,c,a)}else if(c=_G(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Jb(i,l++),o+=gg(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xx(e,t,n){if(e==null)return e;var r=[],a=0;return gg(e,r,"","",function(i){return t.call(n,i,a++)}),r}function CG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gs={current:null},yg={transition:null},PG={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:yg,ReactCurrentOwner:aS};function p5(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:xx,forEach:function(e,t,n){xx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xx(e,function(){t++}),t},toArray:function(e){return xx(e,function(t){return t})||[]},only:function(e){if(!iS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Of;Xt.Fragment=mG;Xt.Profiler=xG;Xt.PureComponent=rS;Xt.StrictMode=pG;Xt.Suspense=bG;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PG;Xt.act=p5;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=c5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=aS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)f5.call(t,c)&&!h5.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ap,type:e.type,key:a,ref:i,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:yG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gG,_context:e},e.Consumer=e};Xt.createElement=m5;Xt.createFactory=function(e){var t=m5.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:vG,render:e}};Xt.isValidElement=iS;Xt.lazy=function(e){return{$$typeof:wG,_payload:{_status:-1,_result:e},_init:CG}};Xt.memo=function(e,t){return{$$typeof:jG,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=yg.transition;yg.transition={};try{e()}finally{yg.transition=t}};Xt.unstable_act=p5;Xt.useCallback=function(e,t){return gs.current.useCallback(e,t)};Xt.useContext=function(e){return gs.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return gs.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return gs.current.useEffect(e,t)};Xt.useId=function(){return gs.current.useId()};Xt.useImperativeHandle=function(e,t,n){return gs.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return gs.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return gs.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return gs.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return gs.current.useReducer(e,t,n)};Xt.useRef=function(e){return gs.current.useRef(e)};Xt.useState=function(e){return gs.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return gs.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return gs.current.useTransition()};Xt.version="18.3.1";o5.exports=Xt;var x=o5.exports;const D=pn(x),Bi=fG({__proto__:null,default:D},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EG=x,kG=Symbol.for("react.element"),AG=Symbol.for("react.fragment"),OG=Object.prototype.hasOwnProperty,TG=EG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MG={key:!0,ref:!0,__self:!0,__source:!0};function x5(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OG.call(t,r)&&!MG.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:kG,type:e,key:i,ref:o,props:a,_owner:TG.current}}Jv.Fragment=AG;Jv.jsx=x5;Jv.jsxs=x5;i5.exports=Jv;var s=i5.exports,g5={exports:{}},na={},y5={exports:{}},v5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,T){var J=M.length;M.push(T);e:for(;0<J;){var re=J-1>>>1,X=M[re];if(0<a(X,T))M[re]=T,M[J]=X,J=re;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var T=M[0],J=M.pop();if(J!==T){M[0]=J;e:for(var re=0,X=M.length,ye=X>>>1;re<ye;){var Re=2*(re+1)-1,Je=M[Re],lt=Re+1,je=M[lt];if(0>a(Je,J))lt<X&&0>a(je,Je)?(M[re]=je,M[lt]=J,re=lt):(M[re]=Je,M[Re]=J,re=Re);else if(lt<X&&0>a(je,J))M[re]=je,M[lt]=J,re=lt;else break e}}return T}function a(M,T){var J=M.sortIndex-T.sortIndex;return J!==0?J:M.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=M)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function w(M){if(p=!1,j(M),!v)if(n(c)!==null)v=!0,$(N);else{var T=n(u);T!==null&&R(w,T.startTime-M)}}function N(M,T){v=!1,p&&(p=!1,y(C),C=-1),m=!0;var J=h;try{for(j(T),f=n(c);f!==null&&(!(f.expirationTime>T)||M&&!A());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var X=re(f.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),j(T)}else r(c);f=n(c)}if(f!==null)var ye=!0;else{var Re=n(u);Re!==null&&R(w,Re.startTime-T),ye=!1}return ye}finally{f=null,h=J,m=!1}}var S=!1,_=null,C=-1,E=5,P=-1;function A(){return!(e.unstable_now()-P<E)}function O(){if(_!==null){var M=e.unstable_now();P=M;var T=!0;try{T=_(!0,M)}finally{T?I():(S=!1,_=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=O,I=function(){B.postMessage(null)}}else I=function(){g(O,0)};function $(M){_=M,S||(S=!0,I())}function R(M,T){C=g(function(){M(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var J=h;h=T;try{return M()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,T){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=h;h=M;try{return T()}finally{h=J}},e.unstable_scheduleCallback=function(M,T,J){var re=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,M){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,M={id:d++,callback:T,priorityLevel:M,startTime:J,expirationTime:X,sortIndex:-1},J>re?(M.sortIndex=J,t(u,M),n(c)===null&&M===n(u)&&(p?(y(C),C=-1):p=!0,R(w,J-re))):(M.sortIndex=X,t(c,M),v||m||(v=!0,$(N))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var T=h;return function(){var J=h;h=T;try{return M.apply(this,arguments)}finally{h=J}}}})(v5);y5.exports=v5;var $G=y5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DG=x,ea=$G;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b5=new Set,lm={};function xu(e,t){$d(e,t),$d(e+"Capture",t)}function $d(e,t){for(lm[e]=t,e=0;e<t.length;e++)b5.add(t[e])}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rw=Object.prototype.hasOwnProperty,IG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KP={},HP={};function RG(e){return Rw.call(HP,e)?!0:Rw.call(KP,e)?!1:IG.test(e)?HP[e]=!0:(KP[e]=!0,!1)}function FG(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LG(e,t,n,r){if(t===null||typeof t>"u"||FG(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ys(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qr[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qr[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qr[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var oS=/[\-:]([a-z])/g;function lS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oS,lS);qr[t]=new ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oS,lS);qr[t]=new ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oS,lS);qr[t]=new ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});qr.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qr[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function cS(e,t,n,r){var a=qr.hasOwnProperty(t)?qr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LG(t,n,a,r)&&(n=null),r||a===null?RG(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Do=DG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gx=Symbol.for("react.element"),zu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),j5=Symbol.for("react.provider"),w5=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),fS=Symbol.for("react.memo"),Jo=Symbol.for("react.lazy"),_5=Symbol.for("react.offscreen"),GP=Symbol.iterator;function ah(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var Zn=Object.assign,ej;function kh(e){if(ej===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ej=t&&t[1]||""}return`
`+ej+e}var tj=!1;function nj(e,t){if(!e||tj)return"";tj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{tj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kh(e):""}function BG(e){switch(e.tag){case 5:return kh(e.type);case 16:return kh("Lazy");case 13:return kh("Suspense");case 19:return kh("SuspenseList");case 0:case 2:case 15:return e=nj(e.type,!1),e;case 11:return e=nj(e.type.render,!1),e;case 1:return e=nj(e.type,!0),e;default:return""}}function zw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qu:return"Fragment";case zu:return"Portal";case Fw:return"Profiler";case uS:return"StrictMode";case Lw:return"Suspense";case Bw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w5:return(e.displayName||"Context")+".Consumer";case j5:return(e._context.displayName||"Context")+".Provider";case dS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fS:return t=e.displayName||null,t!==null?t:zw(e.type)||"Memo";case Jo:t=e._payload,e=e._init;try{return zw(e(t))}catch{}}return null}function zG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zw(t);case 8:return t===uS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qG(e){var t=N5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yx(e){e._valueTracker||(e._valueTracker=qG(e))}function S5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=N5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qw(e,t){var n=t.checked;return Zn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function C5(e,t){t=t.checked,t!=null&&cS(e,"checked",t,!1)}function Ww(e,t){C5(e,t);var n=Dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uw(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uw(e,t,n){(t!=="number"||Wg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ah=Array.isArray;function ad(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Vw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Zn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Me(92));if(Ah(n)){if(1<n.length)throw Error(Me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dl(n)}}function P5(e,t){var n=Dl(t.value),r=Dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ZP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vx,k5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vx=vx||document.createElement("div"),vx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WG=["Webkit","ms","Moz","O"];Object.keys(Bh).forEach(function(e){WG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bh[t]=Bh[e]})});function A5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bh.hasOwnProperty(e)&&Bh[e]?(""+t).trim():t+"px"}function O5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=A5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var UG=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(e,t){if(t){if(UG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function Gw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=null;function hS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qw=null,id=null,od=null;function JP(e){if(e=Mp(e)){if(typeof Qw!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=s0(t),Qw(e.stateNode,e.type,t))}}function T5(e){id?od?od.push(e):od=[e]:id=e}function M5(){if(id){var e=id,t=od;if(od=id=null,JP(e),t)for(e=0;e<t.length;e++)JP(t[e])}}function $5(e,t){return e(t)}function D5(){}var rj=!1;function I5(e,t,n){if(rj)return e(t,n);rj=!0;try{return $5(e,t,n)}finally{rj=!1,(id!==null||od!==null)&&(D5(),M5())}}function um(e,t){var n=e.stateNode;if(n===null)return null;var r=s0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Me(231,t,typeof n));return n}var Xw=!1;if(_o)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){Xw=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{Xw=!1}function VG(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zh=!1,Ug=null,Vg=!1,Zw=null,KG={onError:function(e){zh=!0,Ug=e}};function HG(e,t,n,r,a,i,o,l,c){zh=!1,Ug=null,VG.apply(KG,arguments)}function GG(e,t,n,r,a,i,o,l,c){if(HG.apply(this,arguments),zh){if(zh){var u=Ug;zh=!1,Ug=null}else throw Error(Me(198));Vg||(Vg=!0,Zw=u)}}function gu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function R5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eE(e){if(gu(e)!==e)throw Error(Me(188))}function YG(e){var t=e.alternate;if(!t){if(t=gu(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return eE(a),e;if(i===r)return eE(a),t;i=i.sibling}throw Error(Me(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?e:t}function F5(e){return e=YG(e),e!==null?L5(e):null}function L5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L5(e);if(t!==null)return t;e=e.sibling}return null}var B5=ea.unstable_scheduleCallback,tE=ea.unstable_cancelCallback,QG=ea.unstable_shouldYield,XG=ea.unstable_requestPaint,lr=ea.unstable_now,ZG=ea.unstable_getCurrentPriorityLevel,mS=ea.unstable_ImmediatePriority,z5=ea.unstable_UserBlockingPriority,Kg=ea.unstable_NormalPriority,JG=ea.unstable_LowPriority,q5=ea.unstable_IdlePriority,e0=null,Ni=null;function eY(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ka=Math.clz32?Math.clz32:rY,tY=Math.log,nY=Math.LN2;function rY(e){return e>>>=0,e===0?32:31-(tY(e)/nY|0)|0}var bx=64,jx=4194304;function Oh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Oh(l):(i&=o,i!==0&&(r=Oh(i)))}else o=n&~a,o!==0?r=Oh(o):i!==0&&(r=Oh(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ka(t),a=1<<n,r|=e[n],t&=~a;return r}function sY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aY(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ka(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=sY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Jw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W5(){var e=bx;return bx<<=1,!(bx&4194240)&&(bx=64),e}function sj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Op(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ka(t),e[t]=n}function iY(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ka(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function pS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ka(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var gn=0;function U5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V5,xS,K5,H5,G5,e_=!1,wx=[],wl=null,_l=null,Nl=null,dm=new Map,fm=new Map,rl=[],oY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(e,t){switch(e){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":dm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fm.delete(t.pointerId)}}function oh(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mp(t),t!==null&&xS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lY(e,t,n,r,a){switch(t){case"focusin":return wl=oh(wl,e,t,n,r,a),!0;case"dragenter":return _l=oh(_l,e,t,n,r,a),!0;case"mouseover":return Nl=oh(Nl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return dm.set(i,oh(dm.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,fm.set(i,oh(fm.get(i)||null,e,t,n,r,a)),!0}return!1}function Y5(e){var t=jc(e.target);if(t!==null){var n=gu(t);if(n!==null){if(t=n.tag,t===13){if(t=R5(n),t!==null){e.blockedOn=t,G5(e.priority,function(){K5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yw=r,n.target.dispatchEvent(r),Yw=null}else return t=Mp(n),t!==null&&xS(t),e.blockedOn=n,!1;t.shift()}return!0}function rE(e,t,n){vg(e)&&n.delete(t)}function cY(){e_=!1,wl!==null&&vg(wl)&&(wl=null),_l!==null&&vg(_l)&&(_l=null),Nl!==null&&vg(Nl)&&(Nl=null),dm.forEach(rE),fm.forEach(rE)}function lh(e,t){e.blockedOn===t&&(e.blockedOn=null,e_||(e_=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,cY)))}function hm(e){function t(a){return lh(a,e)}if(0<wx.length){lh(wx[0],e);for(var n=1;n<wx.length;n++){var r=wx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wl!==null&&lh(wl,e),_l!==null&&lh(_l,e),Nl!==null&&lh(Nl,e),dm.forEach(t),fm.forEach(t),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)Y5(n),n.blockedOn===null&&rl.shift()}var ld=Do.ReactCurrentBatchConfig,Gg=!0;function uY(e,t,n,r){var a=gn,i=ld.transition;ld.transition=null;try{gn=1,gS(e,t,n,r)}finally{gn=a,ld.transition=i}}function dY(e,t,n,r){var a=gn,i=ld.transition;ld.transition=null;try{gn=4,gS(e,t,n,r)}finally{gn=a,ld.transition=i}}function gS(e,t,n,r){if(Gg){var a=t_(e,t,n,r);if(a===null)mj(e,t,r,Yg,n),nE(e,r);else if(lY(a,e,t,n,r))r.stopPropagation();else if(nE(e,r),t&4&&-1<oY.indexOf(e)){for(;a!==null;){var i=Mp(a);if(i!==null&&V5(i),i=t_(e,t,n,r),i===null&&mj(e,t,r,Yg,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else mj(e,t,r,null,n)}}var Yg=null;function t_(e,t,n,r){if(Yg=null,e=hS(r),e=jc(e),e!==null)if(t=gu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=R5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yg=e,null}function Q5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZG()){case mS:return 1;case z5:return 4;case Kg:case JG:return 16;case q5:return 536870912;default:return 16}default:return 16}}var gl=null,yS=null,bg=null;function X5(){if(bg)return bg;var e,t=yS,n=t.length,r,a="value"in gl?gl.value:gl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return bg=a.slice(e,1<r?1-r:void 0)}function jg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _x(){return!0}function sE(){return!1}function ra(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_x:sE,this.isPropagationStopped=sE,this}return Zn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_x)},persist:function(){},isPersistent:_x}),t}var Tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vS=ra(Tf),Tp=Zn({},Tf,{view:0,detail:0}),fY=ra(Tp),aj,ij,ch,t0=Zn({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ch&&(ch&&e.type==="mousemove"?(aj=e.screenX-ch.screenX,ij=e.screenY-ch.screenY):ij=aj=0,ch=e),aj)},movementY:function(e){return"movementY"in e?e.movementY:ij}}),aE=ra(t0),hY=Zn({},t0,{dataTransfer:0}),mY=ra(hY),pY=Zn({},Tp,{relatedTarget:0}),oj=ra(pY),xY=Zn({},Tf,{animationName:0,elapsedTime:0,pseudoElement:0}),gY=ra(xY),yY=Zn({},Tf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vY=ra(yY),bY=Zn({},Tf,{data:0}),iE=ra(bY),jY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_Y[e])?!!t[e]:!1}function bS(){return NY}var SY=Zn({},Tp,{key:function(e){if(e.key){var t=jY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bS,charCode:function(e){return e.type==="keypress"?jg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CY=ra(SY),PY=Zn({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oE=ra(PY),EY=Zn({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bS}),kY=ra(EY),AY=Zn({},Tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),OY=ra(AY),TY=Zn({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MY=ra(TY),$Y=[9,13,27,32],jS=_o&&"CompositionEvent"in window,qh=null;_o&&"documentMode"in document&&(qh=document.documentMode);var DY=_o&&"TextEvent"in window&&!qh,Z5=_o&&(!jS||qh&&8<qh&&11>=qh),lE=" ",cE=!1;function J5(e,t){switch(e){case"keyup":return $Y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wu=!1;function IY(e,t){switch(e){case"compositionend":return e3(t);case"keypress":return t.which!==32?null:(cE=!0,lE);case"textInput":return e=t.data,e===lE&&cE?null:e;default:return null}}function RY(e,t){if(Wu)return e==="compositionend"||!jS&&J5(e,t)?(e=X5(),bg=yS=gl=null,Wu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z5&&t.locale!=="ko"?null:t.data;default:return null}}var FY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FY[e.type]:t==="textarea"}function t3(e,t,n,r){T5(r),t=Qg(t,"onChange"),0<t.length&&(n=new vS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wh=null,mm=null;function LY(e){f3(e,0)}function n0(e){var t=Ku(e);if(S5(t))return e}function BY(e,t){if(e==="change")return t}var n3=!1;if(_o){var lj;if(_o){var cj="oninput"in document;if(!cj){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),cj=typeof dE.oninput=="function"}lj=cj}else lj=!1;n3=lj&&(!document.documentMode||9<document.documentMode)}function fE(){Wh&&(Wh.detachEvent("onpropertychange",r3),mm=Wh=null)}function r3(e){if(e.propertyName==="value"&&n0(mm)){var t=[];t3(t,mm,e,hS(e)),I5(LY,t)}}function zY(e,t,n){e==="focusin"?(fE(),Wh=t,mm=n,Wh.attachEvent("onpropertychange",r3)):e==="focusout"&&fE()}function qY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n0(mm)}function WY(e,t){if(e==="click")return n0(t)}function UY(e,t){if(e==="input"||e==="change")return n0(t)}function VY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:VY;function pm(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Rw.call(t,a)||!ei(e[a],t[a]))return!1}return!0}function hE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mE(e,t){var n=hE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hE(n)}}function s3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a3(){for(var e=window,t=Wg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wg(e.document)}return t}function wS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KY(e){var t=a3(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s3(n.ownerDocument.documentElement,n)){if(r!==null&&wS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=mE(n,i);var o=mE(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HY=_o&&"documentMode"in document&&11>=document.documentMode,Uu=null,n_=null,Uh=null,r_=!1;function pE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r_||Uu==null||Uu!==Wg(r)||(r=Uu,"selectionStart"in r&&wS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uh&&pm(Uh,r)||(Uh=r,r=Qg(n_,"onSelect"),0<r.length&&(t=new vS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uu)))}function Nx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vu={animationend:Nx("Animation","AnimationEnd"),animationiteration:Nx("Animation","AnimationIteration"),animationstart:Nx("Animation","AnimationStart"),transitionend:Nx("Transition","TransitionEnd")},uj={},i3={};_o&&(i3=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function r0(e){if(uj[e])return uj[e];if(!Vu[e])return e;var t=Vu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in i3)return uj[e]=t[n];return e}var o3=r0("animationend"),l3=r0("animationiteration"),c3=r0("animationstart"),u3=r0("transitionend"),d3=new Map,xE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(e,t){d3.set(e,t),xu(t,[e])}for(var dj=0;dj<xE.length;dj++){var fj=xE[dj],GY=fj.toLowerCase(),YY=fj[0].toUpperCase()+fj.slice(1);Yl(GY,"on"+YY)}Yl(o3,"onAnimationEnd");Yl(l3,"onAnimationIteration");Yl(c3,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(u3,"onTransitionEnd");$d("onMouseEnter",["mouseout","mouseover"]);$d("onMouseLeave",["mouseout","mouseover"]);$d("onPointerEnter",["pointerout","pointerover"]);$d("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function gE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GG(r,t,void 0,e),e.currentTarget=null}function f3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;gE(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;gE(a,l,u),i=c}}}if(Vg)throw e=Zw,Vg=!1,Zw=null,e}function Rn(e,t){var n=t[l_];n===void 0&&(n=t[l_]=new Set);var r=e+"__bubble";n.has(r)||(h3(t,e,2,!1),n.add(r))}function hj(e,t,n){var r=0;t&&(r|=4),h3(n,e,r,t)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function xm(e){if(!e[Sx]){e[Sx]=!0,b5.forEach(function(n){n!=="selectionchange"&&(QY.has(n)||hj(n,!1,e),hj(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sx]||(t[Sx]=!0,hj("selectionchange",!1,t))}}function h3(e,t,n,r){switch(Q5(t)){case 1:var a=uY;break;case 4:a=dY;break;default:a=gS}n=a.bind(null,t,n,e),a=void 0,!Xw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function mj(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=jc(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}I5(function(){var u=i,d=hS(n),f=[];e:{var h=d3.get(e);if(h!==void 0){var m=vS,v=e;switch(e){case"keypress":if(jg(n)===0)break e;case"keydown":case"keyup":m=CY;break;case"focusin":v="focus",m=oj;break;case"focusout":v="blur",m=oj;break;case"beforeblur":case"afterblur":m=oj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kY;break;case o3:case l3:case c3:m=gY;break;case u3:m=OY;break;case"scroll":m=fY;break;case"wheel":m=MY;break;case"copy":case"cut":case"paste":m=vY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oE}var p=(t&4)!==0,g=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,j;b!==null;){j=b;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,y!==null&&(w=um(b,y),w!=null&&p.push(gm(b,w,j)))),g)break;b=b.return}0<p.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Yw&&(v=n.relatedTarget||n.fromElement)&&(jc(v)||v[No]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?jc(v):null,v!==null&&(g=gu(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=aE,w="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=oE,w="onPointerLeave",y="onPointerEnter",b="pointer"),g=m==null?h:Ku(m),j=v==null?h:Ku(v),h=new p(w,b+"leave",m,n,d),h.target=g,h.relatedTarget=j,w=null,jc(d)===u&&(p=new p(y,b+"enter",v,n,d),p.target=j,p.relatedTarget=g,w=p),g=w,m&&v)t:{for(p=m,y=v,b=0,j=p;j;j=ku(j))b++;for(j=0,w=y;w;w=ku(w))j++;for(;0<b-j;)p=ku(p),b--;for(;0<j-b;)y=ku(y),j--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=ku(p),y=ku(y)}p=null}else p=null;m!==null&&yE(f,h,m,p,!1),v!==null&&g!==null&&yE(f,g,v,p,!0)}}e:{if(h=u?Ku(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=BY;else if(uE(h))if(n3)N=UY;else{N=qY;var S=zY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=WY);if(N&&(N=N(e,u))){t3(f,N,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Uw(h,"number",h.value)}switch(S=u?Ku(u):window,e){case"focusin":(uE(S)||S.contentEditable==="true")&&(Uu=S,n_=u,Uh=null);break;case"focusout":Uh=n_=Uu=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,pE(f,n,d);break;case"selectionchange":if(HY)break;case"keydown":case"keyup":pE(f,n,d)}var _;if(jS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wu?J5(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Z5&&n.locale!=="ko"&&(Wu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wu&&(_=X5()):(gl=d,yS="value"in gl?gl.value:gl.textContent,Wu=!0)),S=Qg(u,C),0<S.length&&(C=new iE(C,e,null,n,d),f.push({event:C,listeners:S}),_?C.data=_:(_=e3(n),_!==null&&(C.data=_)))),(_=DY?IY(e,n):RY(e,n))&&(u=Qg(u,"onBeforeInput"),0<u.length&&(d=new iE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}f3(f,t)})}function gm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=um(e,n),i!=null&&r.unshift(gm(e,i,a)),i=um(e,t),i!=null&&r.push(gm(e,i,a))),e=e.return}return r}function ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yE(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=um(n,i),c!=null&&o.unshift(gm(n,c,l))):a||(c=um(n,i),c!=null&&o.push(gm(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XY=/\r\n?/g,ZY=/\u0000|\uFFFD/g;function vE(e){return(typeof e=="string"?e:""+e).replace(XY,`
`).replace(ZY,"")}function Cx(e,t,n){if(t=vE(t),vE(e)!==t&&n)throw Error(Me(425))}function Xg(){}var s_=null,a_=null;function i_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var o_=typeof setTimeout=="function"?setTimeout:void 0,JY=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,eQ=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(e){return bE.resolve(null).then(e).catch(tQ)}:o_;function tQ(e){setTimeout(function(){throw e})}function pj(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),hm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);hm(t)}function Sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),xi="__reactFiber$"+Mf,ym="__reactProps$"+Mf,No="__reactContainer$"+Mf,l_="__reactEvents$"+Mf,nQ="__reactListeners$"+Mf,rQ="__reactHandles$"+Mf;function jc(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[No]||n[xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jE(e);e!==null;){if(n=e[xi])return n;e=jE(e)}return t}e=n,n=e.parentNode}return null}function Mp(e){return e=e[xi]||e[No],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function s0(e){return e[ym]||null}var c_=[],Hu=-1;function Ql(e){return{current:e}}function zn(e){0>Hu||(e.current=c_[Hu],c_[Hu]=null,Hu--)}function An(e,t){Hu++,c_[Hu]=e.current,e.current=t}var Il={},Xr=Ql(Il),Es=Ql(!1),Kc=Il;function Dd(e,t){var n=e.type.contextTypes;if(!n)return Il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ks(e){return e=e.childContextTypes,e!=null}function Zg(){zn(Es),zn(Xr)}function wE(e,t,n){if(Xr.current!==Il)throw Error(Me(168));An(Xr,t),An(Es,n)}function m3(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Me(108,zG(e)||"Unknown",a));return Zn({},n,r)}function Jg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Il,Kc=Xr.current,An(Xr,e),An(Es,Es.current),!0}function _E(e,t,n){var r=e.stateNode;if(!r)throw Error(Me(169));n?(e=m3(e,t,Kc),r.__reactInternalMemoizedMergedChildContext=e,zn(Es),zn(Xr),An(Xr,e)):zn(Es),An(Es,n)}var ao=null,a0=!1,xj=!1;function p3(e){ao===null?ao=[e]:ao.push(e)}function sQ(e){a0=!0,p3(e)}function Xl(){if(!xj&&ao!==null){xj=!0;var e=0,t=gn;try{var n=ao;for(gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ao=null,a0=!1}catch(a){throw ao!==null&&(ao=ao.slice(e+1)),B5(mS,Xl),a}finally{gn=t,xj=!1}}return null}var Gu=[],Yu=0,ey=null,ty=0,da=[],fa=0,Hc=null,co=1,uo="";function hc(e,t){Gu[Yu++]=ty,Gu[Yu++]=ey,ey=e,ty=t}function x3(e,t,n){da[fa++]=co,da[fa++]=uo,da[fa++]=Hc,Hc=e;var r=co;e=uo;var a=32-Ka(r)-1;r&=~(1<<a),n+=1;var i=32-Ka(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,co=1<<32-Ka(t)+a|n<<a|r,uo=i+e}else co=1<<i|n<<a|r,uo=e}function _S(e){e.return!==null&&(hc(e,1),x3(e,1,0))}function NS(e){for(;e===ey;)ey=Gu[--Yu],Gu[Yu]=null,ty=Gu[--Yu],Gu[Yu]=null;for(;e===Hc;)Hc=da[--fa],da[fa]=null,uo=da[--fa],da[fa]=null,co=da[--fa],da[fa]=null}var Ys=null,Gs=null,Un=!1,za=null;function g3(e,t){var n=ma(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function NE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ys=e,Gs=Sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ys=e,Gs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hc!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ma(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ys=e,Gs=null,!0):!1;default:return!1}}function u_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d_(e){if(Un){var t=Gs;if(t){var n=t;if(!NE(e,t)){if(u_(e))throw Error(Me(418));t=Sl(n.nextSibling);var r=Ys;t&&NE(e,t)?g3(r,n):(e.flags=e.flags&-4097|2,Un=!1,Ys=e)}}else{if(u_(e))throw Error(Me(418));e.flags=e.flags&-4097|2,Un=!1,Ys=e}}}function SE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ys=e}function Px(e){if(e!==Ys)return!1;if(!Un)return SE(e),Un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!i_(e.type,e.memoizedProps)),t&&(t=Gs)){if(u_(e))throw y3(),Error(Me(418));for(;t;)g3(e,t),t=Sl(t.nextSibling)}if(SE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gs=Sl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gs=null}}else Gs=Ys?Sl(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=Gs;e;)e=Sl(e.nextSibling)}function Id(){Gs=Ys=null,Un=!1}function SS(e){za===null?za=[e]:za.push(e)}var aQ=Do.ReactCurrentBatchConfig;function uh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,e))}return e}function Ex(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CE(e){var t=e._init;return t(e._payload)}function v3(e){function t(y,b){if(e){var j=y.deletions;j===null?(y.deletions=[b],y.flags|=16):j.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=kl(y,b),y.index=0,y.sibling=null,y}function i(y,b,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<b?(y.flags|=2,b):j):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,j,w){return b===null||b.tag!==6?(b=_j(j,y.mode,w),b.return=y,b):(b=a(b,j),b.return=y,b)}function c(y,b,j,w){var N=j.type;return N===qu?d(y,b,j.props.children,w,j.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Jo&&CE(N)===b.type)?(w=a(b,j.props),w.ref=uh(y,b,j),w.return=y,w):(w=Eg(j.type,j.key,j.props,null,y.mode,w),w.ref=uh(y,b,j),w.return=y,w)}function u(y,b,j,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Nj(j,y.mode,w),b.return=y,b):(b=a(b,j.children||[]),b.return=y,b)}function d(y,b,j,w,N){return b===null||b.tag!==7?(b=Bc(j,y.mode,w,N),b.return=y,b):(b=a(b,j),b.return=y,b)}function f(y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_j(""+b,y.mode,j),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gx:return j=Eg(b.type,b.key,b.props,null,y.mode,j),j.ref=uh(y,null,b),j.return=y,j;case zu:return b=Nj(b,y.mode,j),b.return=y,b;case Jo:var w=b._init;return f(y,w(b._payload),j)}if(Ah(b)||ah(b))return b=Bc(b,y.mode,j,null),b.return=y,b;Ex(y,b)}return null}function h(y,b,j,w){var N=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(y,b,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gx:return j.key===N?c(y,b,j,w):null;case zu:return j.key===N?u(y,b,j,w):null;case Jo:return N=j._init,h(y,b,N(j._payload),w)}if(Ah(j)||ah(j))return N!==null?null:d(y,b,j,w,null);Ex(y,j)}return null}function m(y,b,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(j)||null,l(b,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gx:return y=y.get(w.key===null?j:w.key)||null,c(b,y,w,N);case zu:return y=y.get(w.key===null?j:w.key)||null,u(b,y,w,N);case Jo:var S=w._init;return m(y,b,j,S(w._payload),N)}if(Ah(w)||ah(w))return y=y.get(j)||null,d(b,y,w,N,null);Ex(b,w)}return null}function v(y,b,j,w){for(var N=null,S=null,_=b,C=b=0,E=null;_!==null&&C<j.length;C++){_.index>C?(E=_,_=null):E=_.sibling;var P=h(y,_,j[C],w);if(P===null){_===null&&(_=E);break}e&&_&&P.alternate===null&&t(y,_),b=i(P,b,C),S===null?N=P:S.sibling=P,S=P,_=E}if(C===j.length)return n(y,_),Un&&hc(y,C),N;if(_===null){for(;C<j.length;C++)_=f(y,j[C],w),_!==null&&(b=i(_,b,C),S===null?N=_:S.sibling=_,S=_);return Un&&hc(y,C),N}for(_=r(y,_);C<j.length;C++)E=m(_,y,C,j[C],w),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),b=i(E,b,C),S===null?N=E:S.sibling=E,S=E);return e&&_.forEach(function(A){return t(y,A)}),Un&&hc(y,C),N}function p(y,b,j,w){var N=ah(j);if(typeof N!="function")throw Error(Me(150));if(j=N.call(j),j==null)throw Error(Me(151));for(var S=N=null,_=b,C=b=0,E=null,P=j.next();_!==null&&!P.done;C++,P=j.next()){_.index>C?(E=_,_=null):E=_.sibling;var A=h(y,_,P.value,w);if(A===null){_===null&&(_=E);break}e&&_&&A.alternate===null&&t(y,_),b=i(A,b,C),S===null?N=A:S.sibling=A,S=A,_=E}if(P.done)return n(y,_),Un&&hc(y,C),N;if(_===null){for(;!P.done;C++,P=j.next())P=f(y,P.value,w),P!==null&&(b=i(P,b,C),S===null?N=P:S.sibling=P,S=P);return Un&&hc(y,C),N}for(_=r(y,_);!P.done;C++,P=j.next())P=m(_,y,C,P.value,w),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?C:P.key),b=i(P,b,C),S===null?N=P:S.sibling=P,S=P);return e&&_.forEach(function(O){return t(y,O)}),Un&&hc(y,C),N}function g(y,b,j,w){if(typeof j=="object"&&j!==null&&j.type===qu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case gx:e:{for(var N=j.key,S=b;S!==null;){if(S.key===N){if(N=j.type,N===qu){if(S.tag===7){n(y,S.sibling),b=a(S,j.props.children),b.return=y,y=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Jo&&CE(N)===S.type){n(y,S.sibling),b=a(S,j.props),b.ref=uh(y,S,j),b.return=y,y=b;break e}n(y,S);break}else t(y,S);S=S.sibling}j.type===qu?(b=Bc(j.props.children,y.mode,w,j.key),b.return=y,y=b):(w=Eg(j.type,j.key,j.props,null,y.mode,w),w.ref=uh(y,b,j),w.return=y,y=w)}return o(y);case zu:e:{for(S=j.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(y,b.sibling),b=a(b,j.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=Nj(j,y.mode,w),b.return=y,y=b}return o(y);case Jo:return S=j._init,g(y,b,S(j._payload),w)}if(Ah(j))return v(y,b,j,w);if(ah(j))return p(y,b,j,w);Ex(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(y,b.sibling),b=a(b,j),b.return=y,y=b):(n(y,b),b=_j(j,y.mode,w),b.return=y,y=b),o(y)):n(y,b)}return g}var Rd=v3(!0),b3=v3(!1),ny=Ql(null),ry=null,Qu=null,CS=null;function PS(){CS=Qu=ry=null}function ES(e){var t=ny.current;zn(ny),e._currentValue=t}function f_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cd(e,t){ry=e,CS=Qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ss=!0),e.firstContext=null)}function wa(e){var t=e._currentValue;if(CS!==e)if(e={context:e,memoizedValue:t,next:null},Qu===null){if(ry===null)throw Error(Me(308));Qu=e,ry.dependencies={lanes:0,firstContext:e}}else Qu=Qu.next=e;return t}var wc=null;function kS(e){wc===null?wc=[e]:wc.push(e)}function j3(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,kS(t)):(n.next=a.next,a.next=n),t.interleaved=n,So(e,r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var el=!1;function AS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,So(e,n)}return a=r.interleaved,a===null?(t.next=t,kS(r)):(t.next=a.next,a.next=t),r.interleaved=t,So(e,n)}function wg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pS(e,n)}}function PE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sy(e,t,n,r){var a=e.updateQueue;el=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Zn({},f,h);break e;case 2:el=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yc|=o,e.lanes=o,e.memoizedState=f}}function EE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Me(191,a));a.call(r)}}}var $p={},Si=Ql($p),vm=Ql($p),bm=Ql($p);function _c(e){if(e===$p)throw Error(Me(174));return e}function OS(e,t){switch(An(bm,t),An(vm,e),An(Si,$p),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kw(t,e)}zn(Si),An(Si,t)}function Fd(){zn(Si),zn(vm),zn(bm)}function _3(e){_c(bm.current);var t=_c(Si.current),n=Kw(t,e.type);t!==n&&(An(vm,e),An(Si,n))}function TS(e){vm.current===e&&(zn(Si),zn(vm))}var Gn=Ql(0);function ay(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gj=[];function MS(){for(var e=0;e<gj.length;e++)gj[e]._workInProgressVersionPrimary=null;gj.length=0}var _g=Do.ReactCurrentDispatcher,yj=Do.ReactCurrentBatchConfig,Gc=0,Xn=null,vr=null,kr=null,iy=!1,Vh=!1,jm=0,iQ=0;function Wr(){throw Error(Me(321))}function $S(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function DS(e,t,n,r,a,i){if(Gc=i,Xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_g.current=e===null||e.memoizedState===null?uQ:dQ,e=n(r,a),Vh){i=0;do{if(Vh=!1,jm=0,25<=i)throw Error(Me(301));i+=1,kr=vr=null,t.updateQueue=null,_g.current=fQ,e=n(r,a)}while(Vh)}if(_g.current=oy,t=vr!==null&&vr.next!==null,Gc=0,kr=vr=Xn=null,iy=!1,t)throw Error(Me(300));return e}function IS(){var e=jm!==0;return jm=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Xn.memoizedState=kr=e:kr=kr.next=e,kr}function _a(){if(vr===null){var e=Xn.alternate;e=e!==null?e.memoizedState:null}else e=vr.next;var t=kr===null?Xn.memoizedState:kr.next;if(t!==null)kr=t,vr=e;else{if(e===null)throw Error(Me(310));vr=e,e={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},kr===null?Xn.memoizedState=kr=e:kr=kr.next=e}return kr}function wm(e,t){return typeof t=="function"?t(e):t}function vj(e){var t=_a(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=vr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Gc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Xn.lanes|=d,Yc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ei(r,t.memoizedState)||(Ss=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Xn.lanes|=i,Yc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bj(e){var t=_a(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ei(i,t.memoizedState)||(Ss=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function N3(){}function S3(e,t){var n=Xn,r=_a(),a=t(),i=!ei(r.memoizedState,a);if(i&&(r.memoizedState=a,Ss=!0),r=r.queue,RS(E3.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||kr!==null&&kr.memoizedState.tag&1){if(n.flags|=2048,_m(9,P3.bind(null,n,r,a,t),void 0,null),Tr===null)throw Error(Me(349));Gc&30||C3(n,t,a)}return a}function C3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P3(e,t,n,r){t.value=n,t.getSnapshot=r,k3(t)&&A3(e)}function E3(e,t,n){return n(function(){k3(t)&&A3(e)})}function k3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ei(e,n)}catch{return!0}}function A3(e){var t=So(e,1);t!==null&&Ha(t,e,1,-1)}function kE(e){var t=fi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:e},t.queue=e,e=e.dispatch=cQ.bind(null,Xn,e),[t.memoizedState,e]}function _m(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function O3(){return _a().memoizedState}function Ng(e,t,n,r){var a=fi();Xn.flags|=e,a.memoizedState=_m(1|t,n,void 0,r===void 0?null:r)}function i0(e,t,n,r){var a=_a();r=r===void 0?null:r;var i=void 0;if(vr!==null){var o=vr.memoizedState;if(i=o.destroy,r!==null&&$S(r,o.deps)){a.memoizedState=_m(t,n,i,r);return}}Xn.flags|=e,a.memoizedState=_m(1|t,n,i,r)}function AE(e,t){return Ng(8390656,8,e,t)}function RS(e,t){return i0(2048,8,e,t)}function T3(e,t){return i0(4,2,e,t)}function M3(e,t){return i0(4,4,e,t)}function $3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D3(e,t,n){return n=n!=null?n.concat([e]):null,i0(4,4,$3.bind(null,t,e),n)}function FS(){}function I3(e,t){var n=_a();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$S(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function R3(e,t){var n=_a();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$S(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F3(e,t,n){return Gc&21?(ei(n,t)||(n=W5(),Xn.lanes|=n,Yc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n)}function oQ(e,t){var n=gn;gn=n!==0&&4>n?n:4,e(!0);var r=yj.transition;yj.transition={};try{e(!1),t()}finally{gn=n,yj.transition=r}}function L3(){return _a().memoizedState}function lQ(e,t,n){var r=El(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B3(e))z3(t,n);else if(n=j3(e,t,n,r),n!==null){var a=ms();Ha(n,e,r,a),q3(n,t,r)}}function cQ(e,t,n){var r=El(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B3(e))z3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,ei(l,o)){var c=t.interleaved;c===null?(a.next=a,kS(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=j3(e,t,a,r),n!==null&&(a=ms(),Ha(n,e,r,a),q3(n,t,r))}}function B3(e){var t=e.alternate;return e===Xn||t!==null&&t===Xn}function z3(e,t){Vh=iy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q3(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pS(e,n)}}var oy={readContext:wa,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},uQ={readContext:wa,useCallback:function(e,t){return fi().memoizedState=[e,t===void 0?null:t],e},useContext:wa,useEffect:AE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ng(4194308,4,$3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var n=fi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lQ.bind(null,Xn,e),[r.memoizedState,e]},useRef:function(e){var t=fi();return e={current:e},t.memoizedState=e},useState:kE,useDebugValue:FS,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=kE(!1),t=e[0];return e=oQ.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xn,a=fi();if(Un){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=t(),Tr===null)throw Error(Me(349));Gc&30||C3(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,AE(E3.bind(null,r,i,e),[e]),r.flags|=2048,_m(9,P3.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=fi(),t=Tr.identifierPrefix;if(Un){var n=uo,r=co;n=(r&~(1<<32-Ka(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iQ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dQ={readContext:wa,useCallback:I3,useContext:wa,useEffect:RS,useImperativeHandle:D3,useInsertionEffect:T3,useLayoutEffect:M3,useMemo:R3,useReducer:vj,useRef:O3,useState:function(){return vj(wm)},useDebugValue:FS,useDeferredValue:function(e){var t=_a();return F3(t,vr.memoizedState,e)},useTransition:function(){var e=vj(wm)[0],t=_a().memoizedState;return[e,t]},useMutableSource:N3,useSyncExternalStore:S3,useId:L3,unstable_isNewReconciler:!1},fQ={readContext:wa,useCallback:I3,useContext:wa,useEffect:RS,useImperativeHandle:D3,useInsertionEffect:T3,useLayoutEffect:M3,useMemo:R3,useReducer:bj,useRef:O3,useState:function(){return bj(wm)},useDebugValue:FS,useDeferredValue:function(e){var t=_a();return vr===null?t.memoizedState=e:F3(t,vr.memoizedState,e)},useTransition:function(){var e=bj(wm)[0],t=_a().memoizedState;return[e,t]},useMutableSource:N3,useSyncExternalStore:S3,useId:L3,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=Zn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function h_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var o0={isMounted:function(e){return(e=e._reactInternals)?gu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ms(),a=El(e),i=go(r,a);i.payload=t,n!=null&&(i.callback=n),t=Cl(e,i,a),t!==null&&(Ha(t,e,a,r),wg(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ms(),a=El(e),i=go(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cl(e,i,a),t!==null&&(Ha(t,e,a,r),wg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ms(),r=El(e),a=go(n,r);a.tag=2,t!=null&&(a.callback=t),t=Cl(e,a,r),t!==null&&(Ha(t,e,r,n),wg(t,e,r))}};function OE(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pm(n,r)||!pm(a,i):!0}function W3(e,t,n){var r=!1,a=Il,i=t.contextType;return typeof i=="object"&&i!==null?i=wa(i):(a=ks(t)?Kc:Xr.current,r=t.contextTypes,i=(r=r!=null)?Dd(e,a):Il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function TE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&o0.enqueueReplaceState(t,t.state,null)}function m_(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},AS(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wa(i):(i=ks(t)?Kc:Xr.current,a.context=Dd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(h_(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&o0.enqueueReplaceState(a,a.state,null),sy(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ld(e,t){try{var n="",r=t;do n+=BG(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function p_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hQ=typeof WeakMap=="function"?WeakMap:Map;function U3(e,t,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cy||(cy=!0,S_=r),p_(e,t)},n}function V3(e,t,n){n=go(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){p_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){p_(e,t),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ME(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hQ;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=PQ.bind(null,e,t,n),t.then(e,e))}function $E(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function DE(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=go(-1,1),t.tag=2,Cl(n,t,1))),n.lanes|=1),e)}var mQ=Do.ReactCurrentOwner,Ss=!1;function as(e,t,n,r){t.child=e===null?b3(t,null,n,r):Rd(t,e.child,n,r)}function IE(e,t,n,r,a){n=n.render;var i=t.ref;return cd(t,a),r=DS(e,t,n,r,i,a),n=IS(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Co(e,t,a)):(Un&&n&&_S(t),t.flags|=1,as(e,t,r,a),t.child)}function RE(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!KS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,K3(e,t,i,r,a)):(e=Eg(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pm,n(o,r)&&e.ref===t.ref)return Co(e,t,a)}return t.flags|=1,e=kl(i,r),e.ref=t.ref,e.return=t,t.child=e}function K3(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(pm(i,r)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ss=!0);else return t.lanes=e.lanes,Co(e,t,a)}return x_(e,t,n,r,a)}function H3(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(Zu,qs),qs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,An(Zu,qs),qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,An(Zu,qs),qs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,An(Zu,qs),qs|=r;return as(e,t,a,n),t.child}function G3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function x_(e,t,n,r,a){var i=ks(n)?Kc:Xr.current;return i=Dd(t,i),cd(t,a),n=DS(e,t,n,r,i,a),r=IS(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Co(e,t,a)):(Un&&r&&_S(t),t.flags|=1,as(e,t,n,a),t.child)}function FE(e,t,n,r,a){if(ks(n)){var i=!0;Jg(t)}else i=!1;if(cd(t,a),t.stateNode===null)Sg(e,t),W3(t,n,r),m_(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wa(u):(u=ks(n)?Kc:Xr.current,u=Dd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&TE(t,o,r,u),el=!1;var h=t.memoizedState;o.state=h,sy(t,r,o,a),c=t.memoizedState,l!==r||h!==c||Es.current||el?(typeof d=="function"&&(h_(t,n,d,r),c=t.memoizedState),(l=el||OE(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,w3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wa(c):(c=ks(n)?Kc:Xr.current,c=Dd(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&TE(t,o,r,c),el=!1,h=t.memoizedState,o.state=h,sy(t,r,o,a);var v=t.memoizedState;l!==f||h!==v||Es.current||el?(typeof m=="function"&&(h_(t,n,m,r),v=t.memoizedState),(u=el||OE(t,n,u,r,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return g_(e,t,n,r,i,a)}function g_(e,t,n,r,a,i){G3(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&_E(t,n,!1),Co(e,t,i);r=t.stateNode,mQ.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Rd(t,e.child,null,i),t.child=Rd(t,null,l,i)):as(e,t,l,i),t.memoizedState=r.state,a&&_E(t,n,!0),t.child}function Y3(e){var t=e.stateNode;t.pendingContext?wE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wE(e,t.context,!1),OS(e,t.containerInfo)}function LE(e,t,n,r,a){return Id(),SS(a),t.flags|=256,as(e,t,n,r),t.child}var y_={dehydrated:null,treeContext:null,retryLane:0};function v_(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q3(e,t,n){var r=t.pendingProps,a=Gn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),An(Gn,a&1),e===null)return d_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=u0(o,r,0,null),e=Bc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=v_(n),t.memoizedState=y_,e):LS(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pQ(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=kl(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=kl(l,i):(i=Bc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?v_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=y_,r}return i=e.child,e=i.sibling,r=kl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function LS(e,t){return t=u0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kx(e,t,n,r){return r!==null&&SS(r),Rd(t,e.child,null,n),e=LS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pQ(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jj(Error(Me(422))),kx(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=u0({mode:"visible",children:r.children},a,0,null),i=Bc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Rd(t,e.child,null,o),t.child.memoizedState=v_(o),t.memoizedState=y_,i);if(!(t.mode&1))return kx(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Me(419)),r=jj(i,r,void 0),kx(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ss||l){if(r=Tr,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,So(e,a),Ha(r,e,a,-1))}return VS(),r=jj(Error(Me(421))),kx(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=EQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Gs=Sl(a.nextSibling),Ys=t,Un=!0,za=null,e!==null&&(da[fa++]=co,da[fa++]=uo,da[fa++]=Hc,co=e.id,uo=e.overflow,Hc=t),t=LS(t,r.children),t.flags|=4096,t)}function BE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f_(e.return,t,n)}function wj(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function X3(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(as(e,t,r.children,n),r=Gn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BE(e,n,t);else if(e.tag===19)BE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(An(Gn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ay(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),wj(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ay(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}wj(t,!0,n,null,i);break;case"together":wj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Co(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,n=kl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xQ(e,t,n){switch(t.tag){case 3:Y3(t),Id();break;case 5:_3(t);break;case 1:ks(t.type)&&Jg(t);break;case 4:OS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;An(ny,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(An(Gn,Gn.current&1),t.flags|=128,null):n&t.child.childLanes?Q3(e,t,n):(An(Gn,Gn.current&1),e=Co(e,t,n),e!==null?e.sibling:null);An(Gn,Gn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return X3(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),An(Gn,Gn.current),r)break;return null;case 22:case 23:return t.lanes=0,H3(e,t,n)}return Co(e,t,n)}var Z3,b_,J3,eF;Z3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b_=function(){};J3=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,_c(Si.current);var i=null;switch(n){case"input":a=qw(e,a),r=qw(e,r),i=[];break;case"select":a=Zn({},a,{value:void 0}),r=Zn({},r,{value:void 0}),i=[];break;case"textarea":a=Vw(e,a),r=Vw(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xg)}Hw(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eF=function(e,t,n,r){n!==r&&(t.flags|=4)};function dh(e,t){if(!Un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gQ(e,t,n){var r=t.pendingProps;switch(NS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return ks(t.type)&&Zg(),Ur(t),null;case 3:return r=t.stateNode,Fd(),zn(Es),zn(Xr),MS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Px(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,za!==null&&(E_(za),za=null))),b_(e,t),Ur(t),null;case 5:TS(t);var a=_c(bm.current);if(n=t.type,e!==null&&t.stateNode!=null)J3(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return Ur(t),null}if(e=_c(Si.current),Px(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xi]=t,r[ym]=i,e=(t.mode&1)!==0,n){case"dialog":Rn("cancel",r),Rn("close",r);break;case"iframe":case"object":case"embed":Rn("load",r);break;case"video":case"audio":for(a=0;a<Th.length;a++)Rn(Th[a],r);break;case"source":Rn("error",r);break;case"img":case"image":case"link":Rn("error",r),Rn("load",r);break;case"details":Rn("toggle",r);break;case"input":YP(r,i),Rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Rn("invalid",r);break;case"textarea":XP(r,i),Rn("invalid",r)}Hw(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cx(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cx(r.textContent,l,e),a=["children",""+l]):lm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Rn("scroll",r)}switch(n){case"input":yx(r),QP(r,i,!0);break;case"textarea":yx(r),ZP(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xi]=t,e[ym]=r,Z3(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gw(n,r),n){case"dialog":Rn("cancel",e),Rn("close",e),a=r;break;case"iframe":case"object":case"embed":Rn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Th.length;a++)Rn(Th[a],e);a=r;break;case"source":Rn("error",e),a=r;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),a=r;break;case"details":Rn("toggle",e),a=r;break;case"input":YP(e,r),a=qw(e,r),Rn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Zn({},r,{value:void 0}),Rn("invalid",e);break;case"textarea":XP(e,r),a=Vw(e,r),Rn("invalid",e);break;default:a=r}Hw(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?O5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k5(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&cm(e,c):typeof c=="number"&&cm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Rn("scroll",e):c!=null&&cS(e,i,c,o))}switch(n){case"input":yx(e),QP(e,r,!1);break;case"textarea":yx(e),ZP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ad(e,!!r.multiple,i,!1):r.defaultValue!=null&&ad(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)eF(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(n=_c(bm.current),_c(Si.current),Px(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(i=r.nodeValue!==n)&&(e=Ys,e!==null))switch(e.tag){case 3:Cx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cx(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=t,t.stateNode=r}return Ur(t),null;case 13:if(zn(Gn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Un&&Gs!==null&&t.mode&1&&!(t.flags&128))y3(),Id(),t.flags|=98560,i=!1;else if(i=Px(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Me(317));i[xi]=t}else Id(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),i=!1}else za!==null&&(E_(za),za=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Gn.current&1?wr===0&&(wr=3):VS())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return Fd(),b_(e,t),e===null&&xm(t.stateNode.containerInfo),Ur(t),null;case 10:return ES(t.type._context),Ur(t),null;case 17:return ks(t.type)&&Zg(),Ur(t),null;case 19:if(zn(Gn),i=t.memoizedState,i===null)return Ur(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)dh(i,!1);else{if(wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ay(e),o!==null){for(t.flags|=128,dh(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return An(Gn,Gn.current&1|2),t.child}e=e.sibling}i.tail!==null&&lr()>Bd&&(t.flags|=128,r=!0,dh(i,!1),t.lanes=4194304)}else{if(!r)if(e=ay(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Un)return Ur(t),null}else 2*lr()-i.renderingStartTime>Bd&&n!==1073741824&&(t.flags|=128,r=!0,dh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lr(),t.sibling=null,n=Gn.current,An(Gn,r?n&1|2:n&1),t):(Ur(t),null);case 22:case 23:return US(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qs&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function yQ(e,t){switch(NS(t),t.tag){case 1:return ks(t.type)&&Zg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fd(),zn(Es),zn(Xr),MS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return TS(t),null;case 13:if(zn(Gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));Id()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zn(Gn),null;case 4:return Fd(),null;case 10:return ES(t.type._context),null;case 22:case 23:return US(),null;case 24:return null;default:return null}}var Ax=!1,Gr=!1,vQ=typeof WeakSet=="function"?WeakSet:Set,it=null;function Xu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tr(e,t,r)}else n.current=null}function j_(e,t,n){try{n()}catch(r){tr(e,t,r)}}var zE=!1;function bQ(e,t){if(s_=Gg,e=a3(),wS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(a_={focusedElem:e,selectionRange:n},Gg=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Da(t.type,p),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(w){tr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return v=zE,zE=!1,v}function Kh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&j_(t,n,i)}a=a.next}while(a!==r)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function w_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tF(e){var t=e.alternate;t!==null&&(e.alternate=null,tF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[ym],delete t[l_],delete t[nQ],delete t[rQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nF(e){return e.tag===5||e.tag===3||e.tag===4}function qE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function __(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xg));else if(r!==4&&(e=e.child,e!==null))for(__(e,t,n),e=e.sibling;e!==null;)__(e,t,n),e=e.sibling}function N_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(N_(e,t,n),e=e.sibling;e!==null;)N_(e,t,n),e=e.sibling}var Fr=null,Fa=!1;function Wo(e,t,n){for(n=n.child;n!==null;)rF(e,t,n),n=n.sibling}function rF(e,t,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(e0,n)}catch{}switch(n.tag){case 5:Gr||Xu(n,t);case 6:var r=Fr,a=Fa;Fr=null,Wo(e,t,n),Fr=r,Fa=a,Fr!==null&&(Fa?(e=Fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fr.removeChild(n.stateNode));break;case 18:Fr!==null&&(Fa?(e=Fr,n=n.stateNode,e.nodeType===8?pj(e.parentNode,n):e.nodeType===1&&pj(e,n),hm(e)):pj(Fr,n.stateNode));break;case 4:r=Fr,a=Fa,Fr=n.stateNode.containerInfo,Fa=!0,Wo(e,t,n),Fr=r,Fa=a;break;case 0:case 11:case 14:case 15:if(!Gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&j_(n,t,o),a=a.next}while(a!==r)}Wo(e,t,n);break;case 1:if(!Gr&&(Xu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tr(n,t,l)}Wo(e,t,n);break;case 21:Wo(e,t,n);break;case 22:n.mode&1?(Gr=(r=Gr)||n.memoizedState!==null,Wo(e,t,n),Gr=r):Wo(e,t,n);break;default:Wo(e,t,n)}}function WE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vQ),t.forEach(function(r){var a=kQ.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Oa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fr=l.stateNode,Fa=!1;break e;case 3:Fr=l.stateNode.containerInfo,Fa=!0;break e;case 4:Fr=l.stateNode.containerInfo,Fa=!0;break e}l=l.return}if(Fr===null)throw Error(Me(160));rF(i,o,a),Fr=null,Fa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){tr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sF(t,e),t=t.sibling}function sF(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oa(t,e),di(e),r&4){try{Kh(3,e,e.return),l0(3,e)}catch(p){tr(e,e.return,p)}try{Kh(5,e,e.return)}catch(p){tr(e,e.return,p)}}break;case 1:Oa(t,e),di(e),r&512&&n!==null&&Xu(n,n.return);break;case 5:if(Oa(t,e),di(e),r&512&&n!==null&&Xu(n,n.return),e.flags&32){var a=e.stateNode;try{cm(a,"")}catch(p){tr(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&C5(a,i),Gw(l,o);var u=Gw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?O5(a,f):d==="dangerouslySetInnerHTML"?k5(a,f):d==="children"?cm(a,f):cS(a,d,f,u)}switch(l){case"input":Ww(a,i);break;case"textarea":P5(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ad(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ad(a,!!i.multiple,i.defaultValue,!0):ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[ym]=i}catch(p){tr(e,e.return,p)}}break;case 6:if(Oa(t,e),di(e),r&4){if(e.stateNode===null)throw Error(Me(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){tr(e,e.return,p)}}break;case 3:if(Oa(t,e),di(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hm(t.containerInfo)}catch(p){tr(e,e.return,p)}break;case 4:Oa(t,e),di(e);break;case 13:Oa(t,e),di(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(qS=lr())),r&4&&WE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Gr=(u=Gr)||d,Oa(t,e),Gr=u):Oa(t,e),di(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kh(4,h,h.return);break;case 1:Xu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){tr(r,n,p)}}break;case 5:Xu(h,h.return);break;case 22:if(h.memoizedState!==null){VE(f);continue}}m!==null?(m.return=h,it=m):VE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=A5("display",o))}catch(p){tr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){tr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oa(t,e),di(e),r&4&&WE(e);break;case 21:break;default:Oa(t,e),di(e)}}function di(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nF(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(cm(a,""),r.flags&=-33);var i=qE(e);N_(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qE(e);__(e,l,o);break;default:throw Error(Me(161))}}catch(c){tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jQ(e,t,n){it=e,aF(e)}function aF(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var a=it,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ax;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Gr;l=Ax;var u=Gr;if(Ax=o,(Gr=c)&&!u)for(it=a;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?KE(a):c!==null?(c.return=o,it=c):KE(a);for(;i!==null;)it=i,aF(i),i=i.sibling;it=a,Ax=l,Gr=u}UE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,it=i):UE(e)}}function UE(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gr||l0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Da(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&EE(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}EE(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Gr||t.flags&512&&w_(t)}catch(h){tr(t,t.return,h)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function VE(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function KE(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{l0(4,t)}catch(c){tr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){tr(t,a,c)}}var i=t.return;try{w_(t)}catch(c){tr(t,i,c)}break;case 5:var o=t.return;try{w_(t)}catch(c){tr(t,o,c)}}}catch(c){tr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var wQ=Math.ceil,ly=Do.ReactCurrentDispatcher,BS=Do.ReactCurrentOwner,xa=Do.ReactCurrentBatchConfig,on=0,Tr=null,mr=null,zr=0,qs=0,Zu=Ql(0),wr=0,Nm=null,Yc=0,c0=0,zS=0,Hh=null,Ns=null,qS=0,Bd=1/0,ro=null,cy=!1,S_=null,Pl=null,Ox=!1,yl=null,uy=0,Gh=0,C_=null,Cg=-1,Pg=0;function ms(){return on&6?lr():Cg!==-1?Cg:Cg=lr()}function El(e){return e.mode&1?on&2&&zr!==0?zr&-zr:aQ.transition!==null?(Pg===0&&(Pg=W5()),Pg):(e=gn,e!==0||(e=window.event,e=e===void 0?16:Q5(e.type)),e):1}function Ha(e,t,n,r){if(50<Gh)throw Gh=0,C_=null,Error(Me(185));Op(e,n,r),(!(on&2)||e!==Tr)&&(e===Tr&&(!(on&2)&&(c0|=n),wr===4&&sl(e,zr)),As(e,r),n===1&&on===0&&!(t.mode&1)&&(Bd=lr()+500,a0&&Xl()))}function As(e,t){var n=e.callbackNode;aY(e,t);var r=Hg(e,e===Tr?zr:0);if(r===0)n!==null&&tE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tE(n),t===1)e.tag===0?sQ(HE.bind(null,e)):p3(HE.bind(null,e)),eQ(function(){!(on&6)&&Xl()}),n=null;else{switch(U5(r)){case 1:n=mS;break;case 4:n=z5;break;case 16:n=Kg;break;case 536870912:n=q5;break;default:n=Kg}n=hF(n,iF.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iF(e,t){if(Cg=-1,Pg=0,on&6)throw Error(Me(327));var n=e.callbackNode;if(ud()&&e.callbackNode!==n)return null;var r=Hg(e,e===Tr?zr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dy(e,r);else{t=r;var a=on;on|=2;var i=lF();(Tr!==e||zr!==t)&&(ro=null,Bd=lr()+500,Lc(e,t));do try{SQ();break}catch(l){oF(e,l)}while(!0);PS(),ly.current=i,on=a,mr!==null?t=0:(Tr=null,zr=0,t=wr)}if(t!==0){if(t===2&&(a=Jw(e),a!==0&&(r=a,t=P_(e,a))),t===1)throw n=Nm,Lc(e,0),sl(e,r),As(e,lr()),n;if(t===6)sl(e,r);else{if(a=e.current.alternate,!(r&30)&&!_Q(a)&&(t=dy(e,r),t===2&&(i=Jw(e),i!==0&&(r=i,t=P_(e,i))),t===1))throw n=Nm,Lc(e,0),sl(e,r),As(e,lr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:mc(e,Ns,ro);break;case 3:if(sl(e,r),(r&130023424)===r&&(t=qS+500-lr(),10<t)){if(Hg(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ms(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=o_(mc.bind(null,e,Ns,ro),t);break}mc(e,Ns,ro);break;case 4:if(sl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ka(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wQ(r/1960))-r,10<r){e.timeoutHandle=o_(mc.bind(null,e,Ns,ro),r);break}mc(e,Ns,ro);break;case 5:mc(e,Ns,ro);break;default:throw Error(Me(329))}}}return As(e,lr()),e.callbackNode===n?iF.bind(null,e):null}function P_(e,t){var n=Hh;return e.current.memoizedState.isDehydrated&&(Lc(e,t).flags|=256),e=dy(e,t),e!==2&&(t=Ns,Ns=n,t!==null&&E_(t)),e}function E_(e){Ns===null?Ns=e:Ns.push.apply(Ns,e)}function _Q(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ei(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sl(e,t){for(t&=~zS,t&=~c0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ka(t),r=1<<n;e[n]=-1,t&=~r}}function HE(e){if(on&6)throw Error(Me(327));ud();var t=Hg(e,0);if(!(t&1))return As(e,lr()),null;var n=dy(e,t);if(e.tag!==0&&n===2){var r=Jw(e);r!==0&&(t=r,n=P_(e,r))}if(n===1)throw n=Nm,Lc(e,0),sl(e,t),As(e,lr()),n;if(n===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mc(e,Ns,ro),As(e,lr()),null}function WS(e,t){var n=on;on|=1;try{return e(t)}finally{on=n,on===0&&(Bd=lr()+500,a0&&Xl())}}function Qc(e){yl!==null&&yl.tag===0&&!(on&6)&&ud();var t=on;on|=1;var n=xa.transition,r=gn;try{if(xa.transition=null,gn=1,e)return e()}finally{gn=r,xa.transition=n,on=t,!(on&6)&&Xl()}}function US(){qs=Zu.current,zn(Zu)}function Lc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JY(n)),mr!==null)for(n=mr.return;n!==null;){var r=n;switch(NS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zg();break;case 3:Fd(),zn(Es),zn(Xr),MS();break;case 5:TS(r);break;case 4:Fd();break;case 13:zn(Gn);break;case 19:zn(Gn);break;case 10:ES(r.type._context);break;case 22:case 23:US()}n=n.return}if(Tr=e,mr=e=kl(e.current,null),zr=qs=t,wr=0,Nm=null,zS=c0=Yc=0,Ns=Hh=null,wc!==null){for(t=0;t<wc.length;t++)if(n=wc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}wc=null}return e}function oF(e,t){do{var n=mr;try{if(PS(),_g.current=oy,iy){for(var r=Xn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}iy=!1}if(Gc=0,kr=vr=Xn=null,Vh=!1,jm=0,BS.current=null,n===null||n.return===null){wr=1,Nm=t,mr=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=zr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$E(o);if(m!==null){m.flags&=-257,DE(m,o,l,i,t),m.mode&1&&ME(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){ME(i,u,t),VS();break e}c=Error(Me(426))}}else if(Un&&l.mode&1){var g=$E(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),DE(g,o,l,i,t),SS(Ld(c,l));break e}}i=c=Ld(c,l),wr!==4&&(wr=2),Hh===null?Hh=[i]:Hh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=U3(i,c,t);PE(i,y);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Pl===null||!Pl.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=V3(i,l,t);PE(i,w);break e}}i=i.return}while(i!==null)}uF(n)}catch(N){t=N,mr===n&&n!==null&&(mr=n=n.return);continue}break}while(!0)}function lF(){var e=ly.current;return ly.current=oy,e===null?oy:e}function VS(){(wr===0||wr===3||wr===2)&&(wr=4),Tr===null||!(Yc&268435455)&&!(c0&268435455)||sl(Tr,zr)}function dy(e,t){var n=on;on|=2;var r=lF();(Tr!==e||zr!==t)&&(ro=null,Lc(e,t));do try{NQ();break}catch(a){oF(e,a)}while(!0);if(PS(),on=n,ly.current=r,mr!==null)throw Error(Me(261));return Tr=null,zr=0,wr}function NQ(){for(;mr!==null;)cF(mr)}function SQ(){for(;mr!==null&&!QG();)cF(mr)}function cF(e){var t=fF(e.alternate,e,qs);e.memoizedProps=e.pendingProps,t===null?uF(e):mr=t,BS.current=null}function uF(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yQ(n,t),n!==null){n.flags&=32767,mr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wr=6,mr=null;return}}else if(n=gQ(n,t,qs),n!==null){mr=n;return}if(t=t.sibling,t!==null){mr=t;return}mr=t=e}while(t!==null);wr===0&&(wr=5)}function mc(e,t,n){var r=gn,a=xa.transition;try{xa.transition=null,gn=1,CQ(e,t,n,r)}finally{xa.transition=a,gn=r}return null}function CQ(e,t,n,r){do ud();while(yl!==null);if(on&6)throw Error(Me(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(iY(e,i),e===Tr&&(mr=Tr=null,zr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ox||(Ox=!0,hF(Kg,function(){return ud(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xa.transition,xa.transition=null;var o=gn;gn=1;var l=on;on|=4,BS.current=null,bQ(e,n),sF(n,e),KY(a_),Gg=!!s_,a_=s_=null,e.current=n,jQ(n),XG(),on=l,gn=o,xa.transition=i}else e.current=n;if(Ox&&(Ox=!1,yl=e,uy=a),i=e.pendingLanes,i===0&&(Pl=null),eY(n.stateNode),As(e,lr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(cy)throw cy=!1,e=S_,S_=null,e;return uy&1&&e.tag!==0&&ud(),i=e.pendingLanes,i&1?e===C_?Gh++:(Gh=0,C_=e):Gh=0,Xl(),null}function ud(){if(yl!==null){var e=U5(uy),t=xa.transition,n=gn;try{if(xa.transition=null,gn=16>e?16:e,yl===null)var r=!1;else{if(e=yl,yl=null,uy=0,on&6)throw Error(Me(331));var a=on;for(on|=4,it=e.current;it!==null;){var i=it,o=i.child;if(it.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:Kh(8,d,i)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,m=d.return;if(tF(d),d===u){it=null;break}if(h!==null){h.return=m,it=h;break}it=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}it=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,it=o;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,it=y;break e}it=i.return}}var b=e.current;for(it=b;it!==null;){o=it;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,it=j;else e:for(o=b;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:l0(9,l)}}catch(N){tr(l,l.return,N)}if(l===o){it=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,it=w;break e}it=l.return}}if(on=a,Xl(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(e0,e)}catch{}r=!0}return r}finally{gn=n,xa.transition=t}}return!1}function GE(e,t,n){t=Ld(n,t),t=U3(e,t,1),e=Cl(e,t,1),t=ms(),e!==null&&(Op(e,1,t),As(e,t))}function tr(e,t,n){if(e.tag===3)GE(e,e,n);else for(;t!==null;){if(t.tag===3){GE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){e=Ld(n,e),e=V3(t,e,1),t=Cl(t,e,1),e=ms(),t!==null&&(Op(t,1,e),As(t,e));break}}t=t.return}}function PQ(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ms(),e.pingedLanes|=e.suspendedLanes&n,Tr===e&&(zr&n)===n&&(wr===4||wr===3&&(zr&130023424)===zr&&500>lr()-qS?Lc(e,0):zS|=n),As(e,t)}function dF(e,t){t===0&&(e.mode&1?(t=jx,jx<<=1,!(jx&130023424)&&(jx=4194304)):t=1);var n=ms();e=So(e,t),e!==null&&(Op(e,t,n),As(e,n))}function EQ(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dF(e,n)}function kQ(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),dF(e,n)}var fF;fF=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Es.current)Ss=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ss=!1,xQ(e,t,n);Ss=!!(e.flags&131072)}else Ss=!1,Un&&t.flags&1048576&&x3(t,ty,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sg(e,t),e=t.pendingProps;var a=Dd(t,Xr.current);cd(t,n),a=DS(null,t,r,e,a,n);var i=IS();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(r)?(i=!0,Jg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,AS(t),a.updater=o0,t.stateNode=a,a._reactInternals=t,m_(t,r,e,n),t=g_(null,t,r,!0,i,n)):(t.tag=0,Un&&i&&_S(t),as(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sg(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=OQ(r),e=Da(r,e),a){case 0:t=x_(null,t,r,e,n);break e;case 1:t=FE(null,t,r,e,n);break e;case 11:t=IE(null,t,r,e,n);break e;case 14:t=RE(null,t,r,Da(r.type,e),n);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),x_(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),FE(e,t,r,a,n);case 3:e:{if(Y3(t),e===null)throw Error(Me(387));r=t.pendingProps,i=t.memoizedState,a=i.element,w3(e,t),sy(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ld(Error(Me(423)),t),t=LE(e,t,r,n,a);break e}else if(r!==a){a=Ld(Error(Me(424)),t),t=LE(e,t,r,n,a);break e}else for(Gs=Sl(t.stateNode.containerInfo.firstChild),Ys=t,Un=!0,za=null,n=b3(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Id(),r===a){t=Co(e,t,n);break e}as(e,t,r,n)}t=t.child}return t;case 5:return _3(t),e===null&&d_(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,i_(r,a)?o=null:i!==null&&i_(r,i)&&(t.flags|=32),G3(e,t),as(e,t,o,n),t.child;case 6:return e===null&&d_(t),null;case 13:return Q3(e,t,n);case 4:return OS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rd(t,null,r,n):as(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),IE(e,t,r,a,n);case 7:return as(e,t,t.pendingProps,n),t.child;case 8:return as(e,t,t.pendingProps.children,n),t.child;case 12:return as(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,An(ny,r._currentValue),r._currentValue=o,i!==null)if(ei(i.value,o)){if(i.children===a.children&&!Es.current){t=Co(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=go(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),f_(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Me(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),f_(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}as(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,cd(t,n),a=wa(a),r=r(a),t.flags|=1,as(e,t,r,n),t.child;case 14:return r=t.type,a=Da(r,t.pendingProps),a=Da(r.type,a),RE(e,t,r,a,n);case 15:return K3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),Sg(e,t),t.tag=1,ks(r)?(e=!0,Jg(t)):e=!1,cd(t,n),W3(t,r,a),m_(t,r,a,n),g_(null,t,r,!0,e,n);case 19:return X3(e,t,n);case 22:return H3(e,t,n)}throw Error(Me(156,t.tag))};function hF(e,t){return B5(e,t)}function AQ(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(e,t,n,r){return new AQ(e,t,n,r)}function KS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OQ(e){if(typeof e=="function")return KS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dS)return 11;if(e===fS)return 14}return 2}function kl(e,t){var n=e.alternate;return n===null?(n=ma(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eg(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")KS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qu:return Bc(n.children,a,i,t);case uS:o=8,a|=8;break;case Fw:return e=ma(12,n,t,a|2),e.elementType=Fw,e.lanes=i,e;case Lw:return e=ma(13,n,t,a),e.elementType=Lw,e.lanes=i,e;case Bw:return e=ma(19,n,t,a),e.elementType=Bw,e.lanes=i,e;case _5:return u0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j5:o=10;break e;case w5:o=9;break e;case dS:o=11;break e;case fS:o=14;break e;case Jo:o=16,r=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=ma(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Bc(e,t,n,r){return e=ma(7,e,r,t),e.lanes=n,e}function u0(e,t,n,r){return e=ma(22,e,r,t),e.elementType=_5,e.lanes=n,e.stateNode={isHidden:!1},e}function _j(e,t,n){return e=ma(6,e,null,t),e.lanes=n,e}function Nj(e,t,n){return t=ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TQ(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sj(0),this.expirationTimes=sj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sj(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function HS(e,t,n,r,a,i,o,l,c){return e=new TQ(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ma(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},AS(i),e}function MQ(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mF(e){if(!e)return Il;e=e._reactInternals;e:{if(gu(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var n=e.type;if(ks(n))return m3(e,n,t)}return t}function pF(e,t,n,r,a,i,o,l,c){return e=HS(n,r,!0,e,a,i,o,l,c),e.context=mF(null),n=e.current,r=ms(),a=El(n),i=go(r,a),i.callback=t??null,Cl(n,i,a),e.current.lanes=a,Op(e,a,r),As(e,r),e}function d0(e,t,n,r){var a=t.current,i=ms(),o=El(a);return n=mF(n),t.context===null?t.context=n:t.pendingContext=n,t=go(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cl(a,t,o),e!==null&&(Ha(e,a,o,i),wg(e,a,o)),o}function fy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function GS(e,t){YE(e,t),(e=e.alternate)&&YE(e,t)}function $Q(){return null}var xF=typeof reportError=="function"?reportError:function(e){console.error(e)};function YS(e){this._internalRoot=e}f0.prototype.render=YS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));d0(e,t,null,null)};f0.prototype.unmount=YS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qc(function(){d0(null,e,null,null)}),t[No]=null}};function f0(e){this._internalRoot=e}f0.prototype.unstable_scheduleHydration=function(e){if(e){var t=H5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rl.length&&t!==0&&t<rl[n].priority;n++);rl.splice(n,0,e),n===0&&Y5(e)}};function QS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QE(){}function DQ(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=fy(o);i.call(u)}}var o=pF(t,r,e,0,null,!1,!1,"",QE);return e._reactRootContainer=o,e[No]=o.current,xm(e.nodeType===8?e.parentNode:e),Qc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=fy(c);l.call(u)}}var c=HS(e,0,!1,null,null,!1,!1,"",QE);return e._reactRootContainer=c,e[No]=c.current,xm(e.nodeType===8?e.parentNode:e),Qc(function(){d0(t,c,n,r)}),c}function m0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=fy(o);l.call(c)}}d0(t,o,e,a)}else o=DQ(n,t,e,a,r);return fy(o)}V5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oh(t.pendingLanes);n!==0&&(pS(t,n|1),As(t,lr()),!(on&6)&&(Bd=lr()+500,Xl()))}break;case 13:Qc(function(){var r=So(e,1);if(r!==null){var a=ms();Ha(r,e,1,a)}}),GS(e,1)}};xS=function(e){if(e.tag===13){var t=So(e,134217728);if(t!==null){var n=ms();Ha(t,e,134217728,n)}GS(e,134217728)}};K5=function(e){if(e.tag===13){var t=El(e),n=So(e,t);if(n!==null){var r=ms();Ha(n,e,t,r)}GS(e,t)}};H5=function(){return gn};G5=function(e,t){var n=gn;try{return gn=e,t()}finally{gn=n}};Qw=function(e,t,n){switch(t){case"input":if(Ww(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=s0(r);if(!a)throw Error(Me(90));S5(r),Ww(r,a)}}}break;case"textarea":P5(e,n);break;case"select":t=n.value,t!=null&&ad(e,!!n.multiple,t,!1)}};$5=WS;D5=Qc;var IQ={usingClientEntryPoint:!1,Events:[Mp,Ku,s0,T5,M5,WS]},fh={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RQ={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Do.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F5(e),e===null?null:e.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||$Q,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tx.isDisabled&&Tx.supportsFiber)try{e0=Tx.inject(RQ),Ni=Tx}catch{}}na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IQ;na.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QS(t))throw Error(Me(200));return MQ(e,t,null,n)};na.createRoot=function(e,t){if(!QS(e))throw Error(Me(299));var n=!1,r="",a=xF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=HS(e,1,!1,null,null,n,!1,r,a),e[No]=t.current,xm(e.nodeType===8?e.parentNode:e),new YS(t)};na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=F5(t),e=e===null?null:e.stateNode,e};na.flushSync=function(e){return Qc(e)};na.hydrate=function(e,t,n){if(!h0(t))throw Error(Me(200));return m0(null,e,t,!0,n)};na.hydrateRoot=function(e,t,n){if(!QS(e))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=xF;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pF(t,null,e,1,n??null,a,!1,i,o),e[No]=t.current,xm(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new f0(t)};na.render=function(e,t,n){if(!h0(t))throw Error(Me(200));return m0(null,e,t,!1,n)};na.unmountComponentAtNode=function(e){if(!h0(e))throw Error(Me(40));return e._reactRootContainer?(Qc(function(){m0(null,null,e,!1,function(){e._reactRootContainer=null,e[No]=null})}),!0):!1};na.unstable_batchedUpdates=WS;na.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!h0(n))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return m0(e,t,n,!1,r)};na.version="18.3.1-next-f1338f8080-20240426";function gF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gF)}catch(e){console.error(e)}}gF(),g5.exports=na;var Ca=g5.exports;const Dp=pn(Ca);var yF,XE=Ca;yF=XE.createRoot,XE.hydrateRoot;function FQ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var vF={exports:{}},bF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=x;function LQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BQ=typeof Object.is=="function"?Object.is:LQ,zQ=zd.useState,qQ=zd.useEffect,WQ=zd.useLayoutEffect,UQ=zd.useDebugValue;function VQ(e,t){var n=t(),r=zQ({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return WQ(function(){a.value=n,a.getSnapshot=t,Sj(a)&&i({inst:a})},[e,n,t]),qQ(function(){return Sj(a)&&i({inst:a}),e(function(){Sj(a)&&i({inst:a})})},[e]),UQ(n),n}function Sj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!BQ(e,n)}catch{return!0}}function KQ(e,t){return t()}var HQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KQ:VQ;bF.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:HQ;vF.exports=bF;var GQ=vF.exports;const YQ=Bi.useInsertionEffect,QQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XQ=QQ?x.useLayoutEffect:x.useEffect,ZQ=YQ||XQ,jF=e=>{const t=x.useRef([e,(...n)=>t[0](...n)]).current;return ZQ(()=>{t[0]=e}),t[1]},JQ="popstate",XS="pushState",ZS="replaceState",eX="hashchange",ZE=[JQ,XS,ZS,eX],tX=e=>{for(const t of ZE)addEventListener(t,e);return()=>{for(const t of ZE)removeEventListener(t,e)}},wF=(e,t)=>GQ.useSyncExternalStore(tX,e,t),nX=()=>location.search,rX=({ssrSearch:e=""}={})=>wF(nX,()=>e),JE=()=>location.pathname,sX=({ssrPath:e}={})=>wF(JE,e?()=>e:JE),aX=(e,{replace:t=!1,state:n=null}={})=>history[t?ZS:XS](n,"",e),iX=(e={})=>[sX(e),aX],ek=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ek]>"u"){for(const e of[XS,ZS]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ek,{value:!0})}const oX=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",_F=(e="")=>e==="/"?"":e,lX=(e,t)=>e[0]==="~"?e.slice(1):_F(t)+e,cX=(e="",t)=>oX(tk(_F(e)),tk(t)),tk=e=>{try{return decodeURI(e)}catch{return e}},NF={hook:iX,searchHook:rX,parser:FQ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},SF=x.createContext(NF),Ip=()=>x.useContext(SF),CF={},PF=x.createContext(CF),uX=()=>x.useContext(PF),p0=e=>{const[t,n]=e.hook(e);return[cX(e.base,t),jF((r,a)=>n(lX(r,e.base),a))]},EF=()=>p0(Ip()),kF=(e,t,n,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},dX=({children:e,...t})=>{var d,f;const n=Ip(),r=t.hook?NF:n;let a=r;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=x.useRef({}),c=l.current,u=c;for(let h in r){const m=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,m!==r[h]&&(a=u)}return x.createElement(SF.Provider,{value:a,children:e})},nk=({children:e,component:t},n)=>t?x.createElement(t,{params:n}):typeof e=="function"?e(n):e,fX=e=>{let t=x.useRef(CF),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Cn=({path:e,nest:t,match:n,...r})=>{const a=Ip(),[i]=p0(a),[o,l,c]=n??kF(a.parser,e,i,t),u=fX({...uX(),...l});if(!o)return null;const d=c?x.createElement(dX,{base:c},nk(r,u)):nk(r,u);return x.createElement(PF.Provider,{value:u,children:d})},JS=x.forwardRef((e,t)=>{const n=Ip(),[r,a]=p0(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,v=jF(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&x.isValidElement(u)?x.cloneElement(u,{onClick:v,href:p}):x.createElement("a",{...m,onClick:v,href:p,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),AF=e=>Array.isArray(e)?e.flatMap(t=>AF(t&&t.type===x.Fragment?t.props.children:t)):[e],hX=({children:e,location:t})=>{const n=Ip(),[r]=p0(n);for(const a of AF(e)){let i=0;if(x.isValidElement(a)&&(i=kF(n.parser,a.props.path,t||r,a.props.nest))[0])return x.cloneElement(a,{match:i})}return null};var $f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xc=typeof window>"u"||"Deno"in globalThis;function is(){}function mX(e,t){return typeof e=="function"?e(t):e}function k_(e){return typeof e=="number"&&e>=0&&e!==1/0}function OF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Al(e,t){return typeof e=="function"?e(t):e}function ua(e,t){return typeof e=="function"?e(t):e}function rk(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==e2(o,t.options))return!1}else if(!Sm(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function sk(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Zc(t.options.mutationKey)!==Zc(i))return!1}else if(!Sm(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function e2(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,n)=>A_(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Sm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Sm(e[n],t[n])):!1}function TF(e,t){if(e===t)return e;const n=ak(e)&&ak(t);if(n||A_(e)&&A_(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=TF(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function hy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ak(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function A_(e){if(!ik(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ik(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ik(e){return Object.prototype.toString.call(e)==="[object Object]"}function pX(e){return new Promise(t=>{setTimeout(t,e)})}function O_(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TF(e,t):t}function xX(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function gX(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var t2=Symbol();function MF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===t2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $F(e,t){return typeof e=="function"?e(...t):!!e}var Ac,ol,wd,f4,yX=(f4=class extends $f{constructor(){super();gt(this,Ac);gt(this,ol);gt(this,wd);nt(this,wd,t=>{if(!Xc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,ol)||this.setEventListener(Q(this,wd))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,ol))==null||t.call(this),nt(this,ol,void 0))}setEventListener(t){var n;nt(this,wd,t),(n=Q(this,ol))==null||n.call(this),nt(this,ol,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,Ac)!==t&&(nt(this,Ac,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,Ac)=="boolean"?Q(this,Ac):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ac=new WeakMap,ol=new WeakMap,wd=new WeakMap,f4),n2=new yX,_d,ll,Nd,h4,vX=(h4=class extends $f{constructor(){super();gt(this,_d,!0);gt(this,ll);gt(this,Nd);nt(this,Nd,t=>{if(!Xc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,ll)||this.setEventListener(Q(this,Nd))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,ll))==null||t.call(this),nt(this,ll,void 0))}setEventListener(t){var n;nt(this,Nd,t),(n=Q(this,ll))==null||n.call(this),nt(this,ll,t(this.setOnline.bind(this)))}setOnline(t){Q(this,_d)!==t&&(nt(this,_d,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,_d)}},_d=new WeakMap,ll=new WeakMap,Nd=new WeakMap,h4),my=new vX;function T_(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function bX(e){return Math.min(1e3*2**e,3e4)}function DF(e){return(e??"online")==="online"?my.isOnline():!0}var IF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Cj(e){return e instanceof IF}function RF(e){let t=!1,n=0,r=!1,a;const i=T_(),o=p=>{var g;r||(h(new IF(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>n2.isFocused()&&(e.networkMode==="always"||my.isOnline())&&e.canRun(),d=()=>DF(e.networkMode)&&e.canRun(),f=p=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var g;a=y=>{(r||u())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(r)return;let p;const g=n===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var S;if(r)return;const b=e.retry??(Xc?0:3),j=e.retryDelay??bX,w=typeof j=="function"?j(n,y):j,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!N){h(y);return}n++,(S=e.onFail)==null||S.call(e,n,y),pX(w).then(()=>u()?void 0:m()).then(()=>{t?h(y):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),i)}}var jX=e=>setTimeout(e,0);function wX(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=jX;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var br=wX(),Oc,m4,FF=(m4=class{constructor(){gt(this,Oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k_(this.gcTime)&&nt(this,Oc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xc?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Oc)&&(clearTimeout(Q(this,Oc)),nt(this,Oc,void 0))}},Oc=new WeakMap,m4),Sd,Tc,la,Mc,Vr,Cp,$c,Ia,Ji,p4,_X=(p4=class extends FF{constructor(t){super();gt(this,Ia);gt(this,Sd);gt(this,Tc);gt(this,la);gt(this,Mc);gt(this,Vr);gt(this,Cp);gt(this,$c);nt(this,$c,!1),nt(this,Cp,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,Mc,t.client),nt(this,la,Q(this,Mc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,Sd,NX(this.options)),this.state=t.state??Q(this,Sd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Vr))==null?void 0:t.promise}setOptions(t){this.options={...Q(this,Cp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,la).remove(this)}setData(t,n){const r=O_(this.state.data,t,this.options);return Vt(this,Ia,Ji).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vt(this,Ia,Ji).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=Q(this,Vr))==null?void 0:r.promise;return(a=Q(this,Vr))==null||a.cancel(t),n?n.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Sd))}isActive(){return this.observers.some(t=>ua(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===t2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Al(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OF(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Vr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Vr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,la).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Vr)&&(Q(this,$c)?Q(this,Vr).cancel({revert:!0}):Q(this,Vr).cancelRetry()),this.scheduleGc()),Q(this,la).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,Ia,Ji).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Vr))return Q(this,Vr).continueRetry(),Q(this,Vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(nt(this,$c,!0),r.signal)})},i=()=>{const h=MF(this.options,n),v=(()=>{const p={client:Q(this,Mc),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return nt(this,$c,!1),this.options.persister?this.options.persister(h,v,this):h(v)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Mc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),nt(this,Tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Vt(this,Ia,Ji).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,p,g;Cj(h)&&h.silent||Vt(this,Ia,Ji).call(this,{type:"error",error:h}),Cj(h)||((v=(m=Q(this,la).config).onError)==null||v.call(m,h,this),(g=(p=Q(this,la).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return nt(this,Vr,RF({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,v,p,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(v=(m=Q(this,la).config).onSuccess)==null||v.call(m,h,this),(g=(p=Q(this,la).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Vt(this,Ia,Ji).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Vt(this,Ia,Ji).call(this,{type:"pause"})},onContinue:()=>{Vt(this,Ia,Ji).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Q(this,Vr).start()}},Sd=new WeakMap,Tc=new WeakMap,la=new WeakMap,Mc=new WeakMap,Vr=new WeakMap,Cp=new WeakMap,$c=new WeakMap,Ia=new WeakSet,Ji=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LF(r.data,this.options),fetchMeta:t.meta??null};case"success":return nt(this,Tc,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Cj(a)&&a.revert&&Q(this,Tc)?{...Q(this,Tc),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,la).notify({query:this,type:"updated",action:t})})},p4);function LF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function NX(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hi,x4,BF=(x4=class extends $f{constructor(t={}){super();gt(this,hi);this.config=t,nt(this,hi,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??e2(a,n);let o=this.get(i);return o||(o=new _X({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Q(this,hi).has(t.queryHash)||(Q(this,hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,hi).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,hi).get(t)}getAll(){return[...Q(this,hi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rk(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>rk(t,r)):n}notify(t){br.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hi=new WeakMap,x4),mi,ns,Dc,pi,Ho,g4,SX=(g4=class extends FF{constructor(t){super();gt(this,pi);gt(this,mi);gt(this,ns);gt(this,Dc);this.mutationId=t.mutationId,nt(this,ns,t.mutationCache),nt(this,mi,[]),this.state=t.state||zF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,mi).includes(t)||(Q(this,mi).push(t),this.clearGcTimeout(),Q(this,ns).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,mi,Q(this,mi).filter(n=>n!==t)),this.scheduleGc(),Q(this,ns).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,mi).length||(this.state.status==="pending"?this.scheduleGc():Q(this,ns).remove(this))}continue(){var t;return((t=Q(this,Dc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,v,p,g,y,b,j,w,N,S,_,C;const n=()=>{Vt(this,pi,Ho).call(this,{type:"continue"})};nt(this,Dc,RF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{Vt(this,pi,Ho).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{Vt(this,pi,Ho).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,ns).canRun(this)}));const r=this.state.status==="pending",a=!Q(this,Dc).canStart();try{if(r)n();else{Vt(this,pi,Ho).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=Q(this,ns).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&Vt(this,pi,Ho).call(this,{type:"pending",context:P,variables:t,isPaused:a})}const E=await Q(this,Dc).start();return await((d=(u=Q(this,ns).config).onSuccess)==null?void 0:d.call(u,E,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,E,t,this.state.context)),await((v=(m=Q(this,ns).config).onSettled)==null?void 0:v.call(m,E,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,E,null,t,this.state.context)),Vt(this,pi,Ho).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(y=Q(this,ns).config).onError)==null?void 0:b.call(y,E,t,this.state.context,this)),await((w=(j=this.options).onError)==null?void 0:w.call(j,E,t,this.state.context)),await((S=(N=Q(this,ns).config).onSettled)==null?void 0:S.call(N,void 0,E,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,E,t,this.state.context)),E}finally{Vt(this,pi,Ho).call(this,{type:"error",error:E})}}finally{Q(this,ns).runNext(this)}}},mi=new WeakMap,ns=new WeakMap,Dc=new WeakMap,pi=new WeakSet,Ho=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),br.batch(()=>{Q(this,mi).forEach(r=>{r.onMutationUpdate(t)}),Q(this,ns).notify({mutation:this,type:"updated",action:t})})},g4);function zF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oo,Ra,Pp,y4,qF=(y4=class extends $f{constructor(t={}){super();gt(this,oo);gt(this,Ra);gt(this,Pp);this.config=t,nt(this,oo,new Set),nt(this,Ra,new Map),nt(this,Pp,0)}build(t,n,r){const a=new SX({mutationCache:this,mutationId:++mx(this,Pp)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){Q(this,oo).add(t);const n=Mx(t);if(typeof n=="string"){const r=Q(this,Ra).get(n);r?r.push(t):Q(this,Ra).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,oo).delete(t)){const n=Mx(t);if(typeof n=="string"){const r=Q(this,Ra).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&Q(this,Ra).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Mx(t);if(typeof n=="string"){const r=Q(this,Ra).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=Mx(t);if(typeof n=="string"){const a=(r=Q(this,Ra).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){br.batch(()=>{Q(this,oo).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,oo).clear(),Q(this,Ra).clear()})}getAll(){return Array.from(Q(this,oo))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sk(n,r))}findAll(t={}){return this.getAll().filter(n=>sk(t,n))}notify(t){br.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return br.batch(()=>Promise.all(t.map(n=>n.continue().catch(is))))}},oo=new WeakMap,Ra=new WeakMap,Pp=new WeakMap,y4);function Mx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ok(e){return{onFetch:(t,n)=>{var d,f,h,m,v;const r=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=MF(t.options,t.fetchOptions),b=async(j,w,N)=>{if(p)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const _=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return g(A),A})(),C=await y(_),{maxPages:E}=t.options,P=N?gX:xX;return{pages:P(j.pages,C,E),pageParams:P(j.pageParams,w,E)}};if(a&&i.length){const j=a==="backward",w=j?CX:lk,N={pages:i,pageParams:o},S=w(r,N);l=await b(N,S,j)}else{const j=e??i.length;do{const w=c===0?o[0]??r.initialPageParam:lk(r,l);if(c>0&&w==null)break;l=await b(l,w),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function lk(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function CX(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var er,cl,ul,Cd,Pd,dl,Ed,kd,v4,PX=(v4=class{constructor(e={}){gt(this,er);gt(this,cl);gt(this,ul);gt(this,Cd);gt(this,Pd);gt(this,dl);gt(this,Ed);gt(this,kd);nt(this,er,e.queryCache||new BF),nt(this,cl,e.mutationCache||new qF),nt(this,ul,e.defaultOptions||{}),nt(this,Cd,new Map),nt(this,Pd,new Map),nt(this,dl,0)}mount(){mx(this,dl)._++,Q(this,dl)===1&&(nt(this,Ed,n2.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,er).onFocus())})),nt(this,kd,my.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,er).onOnline())})))}unmount(){var e,t;mx(this,dl)._--,Q(this,dl)===0&&((e=Q(this,Ed))==null||e.call(this),nt(this,Ed,void 0),(t=Q(this,kd))==null||t.call(this),nt(this,kd,void 0))}isFetching(e){return Q(this,er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,cl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,er).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,er).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Al(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,er).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=Q(this,er).get(r.queryHash),i=a==null?void 0:a.state.data,o=mX(t,i);if(o!==void 0)return Q(this,er).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return br.batch(()=>Q(this,er).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,er).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,er);br.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,er);return br.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=br.batch(()=>Q(this,er).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(e,t={}){return br.batch(()=>(Q(this,er).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=br.batch(()=>Q(this,er).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(is)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,er).build(this,t);return n.isStaleByTime(Al(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(is).catch(is)}fetchInfiniteQuery(e){return e.behavior=ok(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(is).catch(is)}ensureInfiniteQueryData(e){return e.behavior=ok(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return my.isOnline()?Q(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,er)}getMutationCache(){return Q(this,cl)}getDefaultOptions(){return Q(this,ul)}setDefaultOptions(e){nt(this,ul,e)}setQueryDefaults(e,t){Q(this,Cd).set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Cd).values()],n={};return t.forEach(r=>{Sm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,Pd).set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Pd).values()],n={};return t.forEach(r=>{Sm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,ul).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=e2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===t2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,ul).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,er).clear(),Q(this,cl).clear()}},er=new WeakMap,cl=new WeakMap,ul=new WeakMap,Cd=new WeakMap,Pd=new WeakMap,dl=new WeakMap,Ed=new WeakMap,kd=new WeakMap,v4),ws,Zt,Ep,rs,Ic,Ad,fl,hl,kp,Od,Td,Rc,Fc,ml,Md,mn,Mh,M_,$_,D_,I_,R_,F_,L_,WF,b4,EX=(b4=class extends $f{constructor(t,n){super();gt(this,mn);gt(this,ws);gt(this,Zt);gt(this,Ep);gt(this,rs);gt(this,Ic);gt(this,Ad);gt(this,fl);gt(this,hl);gt(this,kp);gt(this,Od);gt(this,Td);gt(this,Rc);gt(this,Fc);gt(this,ml);gt(this,Md,new Set);this.options=n,nt(this,ws,t),nt(this,hl,null),nt(this,fl,T_()),this.options.experimental_prefetchInRender||Q(this,fl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Zt).addObserver(this),ck(Q(this,Zt),this.options)?Vt(this,mn,Mh).call(this):this.updateResult(),Vt(this,mn,I_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B_(Q(this,Zt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B_(Q(this,Zt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vt(this,mn,R_).call(this),Vt(this,mn,F_).call(this),Q(this,Zt).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,Zt);if(this.options=Q(this,ws).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ua(this.options.enabled,Q(this,Zt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vt(this,mn,L_).call(this),Q(this,Zt).setOptions(this.options),n._defaulted&&!hy(this.options,n)&&Q(this,ws).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Zt),observer:this});const a=this.hasListeners();a&&uk(Q(this,Zt),r,this.options,n)&&Vt(this,mn,Mh).call(this),this.updateResult(),a&&(Q(this,Zt)!==r||ua(this.options.enabled,Q(this,Zt))!==ua(n.enabled,Q(this,Zt))||Al(this.options.staleTime,Q(this,Zt))!==Al(n.staleTime,Q(this,Zt)))&&Vt(this,mn,M_).call(this);const i=Vt(this,mn,$_).call(this);a&&(Q(this,Zt)!==r||ua(this.options.enabled,Q(this,Zt))!==ua(n.enabled,Q(this,Zt))||i!==Q(this,ml))&&Vt(this,mn,D_).call(this,i)}getOptimisticResult(t){const n=Q(this,ws).getQueryCache().build(Q(this,ws),t),r=this.createResult(n,t);return AX(this,r)&&(nt(this,rs,r),nt(this,Ad,this.options),nt(this,Ic,Q(this,Zt).state)),r}getCurrentResult(){return Q(this,rs)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(r,a))})}trackProp(t){Q(this,Md).add(t)}getCurrentQuery(){return Q(this,Zt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,ws).defaultQueryOptions(t),r=Q(this,ws).getQueryCache().build(Q(this,ws),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Vt(this,mn,Mh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,rs)))}createResult(t,n){var E;const r=Q(this,Zt),a=this.options,i=Q(this,rs),o=Q(this,Ic),l=Q(this,Ad),u=t!==r?t.state:Q(this,Ep),{state:d}=t;let f={...d},h=!1,m;if(n._optimisticResults){const P=this.hasListeners(),A=!P&&ck(t,n),O=P&&uk(t,r,n,a);(A||O)&&(f={...f,...LF(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=f;m=f.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&g==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,y=!0):P=typeof n.placeholderData=="function"?n.placeholderData((E=Q(this,Td))==null?void 0:E.state.data,Q(this,Td)):n.placeholderData,P!==void 0&&(g="success",m=O_(i==null?void 0:i.data,P,n),h=!0)}if(n.select&&m!==void 0&&!y)if(i&&m===(o==null?void 0:o.data)&&n.select===Q(this,kp))m=Q(this,Od);else try{nt(this,kp,n.select),m=n.select(m),m=O_(i==null?void 0:i.data,m,n),nt(this,Od,m),nt(this,hl,null)}catch(P){nt(this,hl,P)}Q(this,hl)&&(v=Q(this,hl),m=Q(this,Od),p=Date.now(),g="error");const b=f.fetchStatus==="fetching",j=g==="pending",w=g==="error",N=j&&b,S=m!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:j,isSuccess:g==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!j,isLoadingError:w&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&S,isStale:r2(t,n),refetch:this.refetch,promise:Q(this,fl),isEnabled:ua(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},A=()=>{const I=nt(this,fl,C.promise=T_());P(I)},O=Q(this,fl);switch(O.status){case"pending":t.queryHash===r.queryHash&&P(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&A();break}}return C}updateResult(){const t=Q(this,rs),n=this.createResult(Q(this,Zt),this.options);if(nt(this,Ic,Q(this,Zt).state),nt(this,Ad,this.options),Q(this,Ic).data!==void 0&&nt(this,Td,Q(this,Zt)),hy(n,t))return;nt(this,rs,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Q(this,Md).size)return!0;const o=new Set(i??Q(this,Md));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,rs)).some(l=>{const c=l;return Q(this,rs)[c]!==t[c]&&o.has(c)})};Vt(this,mn,WF).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vt(this,mn,I_).call(this)}},ws=new WeakMap,Zt=new WeakMap,Ep=new WeakMap,rs=new WeakMap,Ic=new WeakMap,Ad=new WeakMap,fl=new WeakMap,hl=new WeakMap,kp=new WeakMap,Od=new WeakMap,Td=new WeakMap,Rc=new WeakMap,Fc=new WeakMap,ml=new WeakMap,Md=new WeakMap,mn=new WeakSet,Mh=function(t){Vt(this,mn,L_).call(this);let n=Q(this,Zt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(is)),n},M_=function(){Vt(this,mn,R_).call(this);const t=Al(this.options.staleTime,Q(this,Zt));if(Xc||Q(this,rs).isStale||!k_(t))return;const r=OF(Q(this,rs).dataUpdatedAt,t)+1;nt(this,Rc,setTimeout(()=>{Q(this,rs).isStale||this.updateResult()},r))},$_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Zt)):this.options.refetchInterval)??!1},D_=function(t){Vt(this,mn,F_).call(this),nt(this,ml,t),!(Xc||ua(this.options.enabled,Q(this,Zt))===!1||!k_(Q(this,ml))||Q(this,ml)===0)&&nt(this,Fc,setInterval(()=>{(this.options.refetchIntervalInBackground||n2.isFocused())&&Vt(this,mn,Mh).call(this)},Q(this,ml)))},I_=function(){Vt(this,mn,M_).call(this),Vt(this,mn,D_).call(this,Vt(this,mn,$_).call(this))},R_=function(){Q(this,Rc)&&(clearTimeout(Q(this,Rc)),nt(this,Rc,void 0))},F_=function(){Q(this,Fc)&&(clearInterval(Q(this,Fc)),nt(this,Fc,void 0))},L_=function(){const t=Q(this,ws).getQueryCache().build(Q(this,ws),this.options);if(t===Q(this,Zt))return;const n=Q(this,Zt);nt(this,Zt,t),nt(this,Ep,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},WF=function(t){br.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,rs))}),Q(this,ws).getQueryCache().notify({query:Q(this,Zt),type:"observerResultsUpdated"})})},b4);function kX(e,t){return ua(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ck(e,t){return kX(e,t)||e.state.data!==void 0&&B_(e,t,t.refetchOnMount)}function B_(e,t,n){if(ua(t.enabled,e)!==!1&&Al(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&r2(e,t)}return!1}function uk(e,t,n,r){return(e!==t||ua(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&r2(e,n)}function r2(e,t){return ua(t.enabled,e)!==!1&&e.isStaleByTime(Al(t.staleTime,e))}function AX(e,t){return!hy(e.getCurrentResult(),t)}var pl,xl,_s,lo,wo,kg,z_,j4,OX=(j4=class extends $f{constructor(n,r){super();gt(this,wo);gt(this,pl);gt(this,xl);gt(this,_s);gt(this,lo);nt(this,pl,n),this.setOptions(r),this.bindMethods(),Vt(this,wo,kg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=Q(this,pl).defaultMutationOptions(n),hy(this.options,r)||Q(this,pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,_s),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zc(r.mutationKey)!==Zc(this.options.mutationKey)?this.reset():((a=Q(this,_s))==null?void 0:a.state.status)==="pending"&&Q(this,_s).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,_s))==null||n.removeObserver(this)}onMutationUpdate(n){Vt(this,wo,kg).call(this),Vt(this,wo,z_).call(this,n)}getCurrentResult(){return Q(this,xl)}reset(){var n;(n=Q(this,_s))==null||n.removeObserver(this),nt(this,_s,void 0),Vt(this,wo,kg).call(this),Vt(this,wo,z_).call(this)}mutate(n,r){var a;return nt(this,lo,r),(a=Q(this,_s))==null||a.removeObserver(this),nt(this,_s,Q(this,pl).getMutationCache().build(Q(this,pl),this.options)),Q(this,_s).addObserver(this),Q(this,_s).execute(n)}},pl=new WeakMap,xl=new WeakMap,_s=new WeakMap,lo=new WeakMap,wo=new WeakSet,kg=function(){var r;const n=((r=Q(this,_s))==null?void 0:r.state)??zF();nt(this,xl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},z_=function(n){br.batch(()=>{var r,a,i,o,l,c,u,d;if(Q(this,lo)&&this.hasListeners()){const f=Q(this,xl).variables,h=Q(this,xl).context;(n==null?void 0:n.type)==="success"?((a=(r=Q(this,lo)).onSuccess)==null||a.call(r,n.data,f,h),(o=(i=Q(this,lo)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(l=Q(this,lo)).onError)==null||c.call(l,n.error,f,h),(d=(u=Q(this,lo)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(Q(this,xl))})})},j4),UF=x.createContext(void 0),qn=e=>{const t=x.useContext(UF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},TX=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(UF.Provider,{value:e,children:t})),VF=x.createContext(!1),MX=()=>x.useContext(VF);VF.Provider;function $X(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var DX=x.createContext($X()),IX=()=>x.useContext(DX),RX=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FX=e=>{x.useEffect(()=>{e.clearReset()},[e])},LX=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||$F(n,[e.error,r])),BX=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zX=(e,t)=>e.isLoading&&e.isFetching&&!t,qX=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function WX(e,t,n){var f,h,m,v,p;const r=MX(),a=IX(),i=qn(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",BX(o),RX(o,a),FX(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(g=>{const y=d?c.subscribe(br.batchCalls(g)):is;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),qX(o,u))throw dk(o,c,a);if(LX({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!Xc&&zX(u,r)){const g=l?dk(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(is).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function $e(e,t){return WX(e,EX)}function et(e,t){const n=qn(),[r]=x.useState(()=>new OX(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const a=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(br.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(is)},[r]);if(a.error&&$F(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}let Pj,fk=0,$x=0;const UX=5e3,VX=3;function q_(){const e=Date.now();if(!(typeof window<"u"&&window.location.pathname==="/login")){if(e-fk<UX){if($x++,console.warn(`Skipping logout due to recent logout attempt #${$x} (race condition protection)`),$x>=VX){console.error("Too many rapid logout attempts detected - possible session issue");return}return}fk=e,$x=0,localStorage.removeItem("mpbf_user"),typeof window<"u"&&window.location.reload()}}async function KF(e){if(!e.ok){if(e.status===401){console.warn("Session expired - logging out user"),q_();const r=new Error("  .   ...");throw r.status=401,r.statusText=e.statusText,r}let t=e.statusText||"Unknown error";try{const a=await e.clone().text();if(a.trim())try{const i=JSON.parse(a);t=i.message||i.error||i.detail||a}catch{t=a.length>200?a.substring(0,200)+"...":a}}catch{t=KX(e.status)}const n=new Error(`${e.status}: ${t}`);throw n.status=e.status,n.statusText=e.statusText,n}}function KX(e){switch(e){case 400:return"   .   .";case 401:return"  .     .";case 403:return"      .";case 404:return"   .";case 409:return"  .     .";case 422:return"  .     .";case 429:return"  .      .";case 500:return"  .     .";case 502:return"   .    .";case 503:return"   .     .";case 504:return"  .    .";default:return` ${e} -    `}}async function Qt(e,t){const{method:n="GET",body:r,timeout:a=3e4}=t||{};try{const i=new AbortController,o=setTimeout(()=>i.abort(),a),l=await fetch(e,{method:n,headers:r?{"Content-Type":"application/json"}:{},body:r,credentials:"include",signal:i.signal});return clearTimeout(o),await KF(l),l}catch(i){if(i.name==="AbortError"){const o=new Error("   -    ");throw o.type="timeout",o}if(i.name==="TypeError"&&i.message.includes("Failed to fetch")){const o=new Error("   -     ");throw o.type="network",o}throw i}}const HF=({on401:e})=>async({queryKey:t,signal:n})=>{try{const r=t.join("/"),a=await fetch(r,{credentials:"include",signal:n});if(e==="returnNull"&&a.status===401)return null;await KF(a);const i=a.headers.get("content-type");if(!i||!i.includes("application/json")){if(a.status===204||!(await a.text()).trim())return null;throw new Error("Invalid response - expected JSON")}try{return await a.json()}catch{throw new Error("Invalid response - malformed data")}}catch(r){throw r.name==="AbortError"?r:r.name==="TypeError"&&r.message.includes("Failed to fetch")?new Error("   -     "):r}};function s2(){return Pj||(Pj=new PX({defaultOptions:{queries:{queryFn:HF({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:"always",staleTime:2*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>e>1||(t==null?void 0:t.name)==="AbortError"||(t==null?void 0:t.status)>=400&&(t==null?void 0:t.status)<500||(t==null?void 0:t.type)==="timeout"?!1:(t==null?void 0:t.type)==="network"||(t==null?void 0:t.status)>=500?e<1:!1,retryDelay:e=>Math.min(2e3*2**e,1e4),refetchIntervalInBackground:!1},mutations:{retry:(e,t)=>!1}},queryCache:new BF({onError:(e,t)=>{if(e&&e.status===401){console.warn("401 error in query - handling logout:",t.queryKey),q_();return}},onSettled:(e,t,n)=>{}}),mutationCache:new qF({onError:(e,t,n,r)=>{if(e&&e.status===401){console.warn("401 error in mutation - handling logout:",r.options.mutationKey),q_();return}}})})),Pj}const Ma=s2();const hk=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Qt,getQueryClient:s2,getQueryFn:HF,queryClient:Ma},Symbol.toStringTag,{value:"Module"})),HX=1,GX=1e6;let Ej=0;function YX(){return Ej=(Ej+1)%Number.MAX_SAFE_INTEGER,Ej.toString()}const kj=new Map,mk=e=>{if(kj.has(e))return;const t=setTimeout(()=>{kj.delete(e),Yh({type:"REMOVE_TOAST",toastId:e})},GX);kj.set(e,t)},QX=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HX)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mk(n):e.toasts.forEach(r=>{mk(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ag=[];let Og={toasts:[]};function Yh(e){Og=QX(Og,e),Ag.forEach(t=>{t(Og)})}function XX({...e}){const t=YX(),n=a=>Yh({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Yh({type:"DISMISS_TOAST",toastId:t});return Yh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Sn(){const[e,t]=x.useState(Og);return x.useEffect(()=>(Ag.push(t),()=>{const n=Ag.indexOf(t);n>-1&&Ag.splice(n,1)}),[e]),{...e,toast:XX,dismiss:n=>Yh({type:"DISMISS_TOAST",toastId:n})}}function we(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function pk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rp(...e){return t=>{let n=!1;const r=e.map(a=>{const i=pk(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():pk(e[a],null)}}}}function Ve(...e){return x.useCallback(Rp(...e),e)}function ZX(e,t){const n=x.createContext(t),r=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Jn(e,t=[]){let n=[];function r(i,o){const l=x.createContext(o),c=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...v}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,g=x.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=x.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,JX(a,...t)]}function JX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Tn(e){const t=eZ(e),n=x.forwardRef((r,a)=>{const{children:i,...o}=r,l=x.Children.toArray(i),c=l.find(nZ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var GF=Tn("Slot");function eZ(e){const t=x.forwardRef((n,r)=>{const{children:a,...i}=n;if(x.isValidElement(a)){const o=sZ(a),l=rZ(i,a.props);return a.type!==x.Fragment&&(l.ref=r?Rp(r,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YF=Symbol("radix.slottable");function tZ(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=YF,t}function nZ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YF}function rZ(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function sZ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function aZ(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:y}=p,b=D.useRef(null),j=D.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Tn(l),u=D.forwardRef((p,g)=>{const{scope:y,children:b}=p,j=i(l,y),w=Ve(g,j.collectionRef);return s.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Tn(d),m=D.forwardRef((p,g)=>{const{scope:y,children:b,...j}=p,w=D.useRef(null),N=Ve(g,w),S=i(d,y);return D.useEffect(()=>(S.itemMap.set(w,{ref:w,...j}),()=>void S.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:b})});m.displayName=d;function v(p){const g=i(e+"CollectionConsumer",p);return D.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>j.indexOf(S.ref.current)-j.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var iZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zi=iZ.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function QF(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}function Ft(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Df(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e);x.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var oZ="DismissableLayer",W_="dismissableLayer.update",lZ="dismissableLayer.pointerDownOutside",cZ="dismissableLayer.focusOutside",xk,XF=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZF=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(XF),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=dZ(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=fZ(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gk(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xk)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gk())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(W_,_),()=>document.removeEventListener(W_,_)},[]),s.jsx(zi.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});ZF.displayName=oZ;var uZ="DismissableLayerBranch",JF=x.forwardRef((e,t)=>{const n=x.useContext(XF),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(zi.div,{...e,ref:a})});JF.displayName=uZ;function dZ(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){e6(lZ,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fZ(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&e6(cZ,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gk(){const e=new CustomEvent(W_);document.dispatchEvent(e)}function e6(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?QF(a,i):a.dispatchEvent(i)}var hZ=ZF,mZ=JF,bt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},pZ="Portal",t6=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=x.useState(!1);bt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Dp.createPortal(s.jsx(zi.div,{...r,ref:t}),o):null});t6.displayName=pZ;function xZ(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var n6=e=>{const{present:t,children:n}=e,r=gZ(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,yZ(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};n6.displayName="Presence";function gZ(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Dx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=Dx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Dx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Dx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Dx(e){return(e==null?void 0:e.animationName)||"none"}function yZ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vZ=Bi[" useInsertionEffect ".trim().toString()]||bt;function bZ({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=jZ({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=wZ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function jZ({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return vZ(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function wZ(e){return typeof e=="function"}var _Z=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NZ="VisuallyHidden",a2=x.forwardRef((e,t)=>s.jsx(zi.span,{...e,ref:t,style:{..._Z,...e.style}}));a2.displayName=NZ;var i2="ToastProvider",[o2,SZ,CZ]=aZ("Toast"),[r6,PLe]=Jn("Toast",[CZ]),[PZ,x0]=r6(i2),s6=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i2}\`. Expected non-empty \`string\`.`),s.jsx(o2.Provider,{scope:t,children:s.jsx(PZ,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};s6.displayName=i2;var a6="ToastViewport",EZ=["F8"],U_="toast.viewportPause",V_="toast.viewportResume",i6=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=EZ,label:a="Notifications ({hotkey})",...i}=e,o=x0(a6,n),l=SZ(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=Ve(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;x.useEffect(()=>{const g=y=>{var j;r.length!==0&&r.every(w=>y[w]||y.code===w)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),x.useEffect(()=>{const g=c.current,y=f.current;if(v&&g&&y){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(U_);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(V_);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!g.contains(S.relatedTarget)&&j()},N=()=>{g.contains(document.activeElement)||j()};return g.addEventListener("focusin",b),g.addEventListener("focusout",w),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[v,o.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:g})=>{const b=l().map(j=>{const w=j.ref.current,N=[w,...zZ(w)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?b.reverse():b).flat()},[l]);return x.useEffect(()=>{const g=f.current;if(g){const y=b=>{var N,S,_;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const C=document.activeElement,E=b.shiftKey;if(b.target===g&&E){(N=u.current)==null||N.focus();return}const O=p({tabbingDirection:E?"backwards":"forwards"}),I=O.findIndex(F=>F===C);Aj(O.slice(I+1))?b.preventDefault():E?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,p]),s.jsxs(mZ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(K_,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});Aj(g)}}),s.jsx(o2.Slot,{scope:n,children:s.jsx(zi.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(K_,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});Aj(g)}})]})});i6.displayName=a6;var o6="ToastFocusProxy",K_=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=x0(o6,n);return s.jsx(a2,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});K_.displayName=o6;var Fp="Toast",kZ="toast.swipeStart",AZ="toast.swipeMove",OZ="toast.swipeCancel",TZ="toast.swipeEnd",l6=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=bZ({prop:r,defaultProp:a??!0,onChange:i,caller:Fp});return s.jsx(n6,{present:n||l,children:s.jsx(DZ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ft(e.onPause),onResume:Ft(e.onResume),onSwipeStart:we(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});l6.displayName=Fp;var[MZ,$Z]=r6(Fp,{onClose(){}}),DZ=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=x0(Fp,n),[g,y]=x.useState(null),b=Ve(t,F=>y(F)),j=x.useRef(null),w=x.useRef(null),N=a||p.duration,S=x.useRef(0),_=x.useRef(N),C=x.useRef(0),{onToastAdd:E,onToastRemove:P}=p,A=Ft(()=>{var B;(g==null?void 0:g.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),o()}),O=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(A,F))},[A]);x.useEffect(()=>{const F=p.viewport;if(F){const B=()=>{O(_.current),u==null||u()},$=()=>{const R=new Date().getTime()-S.current;_.current=_.current-R,window.clearTimeout(C.current),c==null||c()};return F.addEventListener(U_,$),F.addEventListener(V_,B),()=>{F.removeEventListener(U_,$),F.removeEventListener(V_,B)}}},[p.viewport,N,c,u,O]),x.useEffect(()=>{i&&!p.isClosePausedRef.current&&O(N)},[i,N,p.isClosePausedRef,O]),x.useEffect(()=>(E(),()=>P()),[E,P]);const I=x.useMemo(()=>g?p6(g):null,[g]);return p.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(IZ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),s.jsx(MZ,{scope:n,onClose:A,children:Ca.createPortal(s.jsx(o2.ItemSlot,{scope:n,children:s.jsx(hZ,{asChild:!0,onEscapeKeyDown:we(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(zi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:we(e.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:we(e.onPointerMove,F=>{if(!j.current)return;const B=F.clientX-j.current.x,$=F.clientY-j.current.y,R=!!w.current,M=["left","right"].includes(p.swipeDirection),T=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,J=M?T(0,B):0,re=M?0:T(0,$),X=F.pointerType==="touch"?10:2,ye={x:J,y:re},Re={originalEvent:F,delta:ye};R?(w.current=ye,Ix(AZ,f,Re,{discrete:!1})):yk(ye,p.swipeDirection,X)?(w.current=ye,Ix(kZ,d,Re,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(B)>X||Math.abs($)>X)&&(j.current=null)}),onPointerUp:we(e.onPointerUp,F=>{const B=w.current,$=F.target;if($.hasPointerCapture(F.pointerId)&&$.releasePointerCapture(F.pointerId),w.current=null,j.current=null,B){const R=F.currentTarget,M={originalEvent:F,delta:B};yk(B,p.swipeDirection,p.swipeThreshold)?Ix(TZ,m,M,{discrete:!0}):Ix(OZ,h,M,{discrete:!0}),R.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),IZ=e=>{const{__scopeToast:t,children:n,...r}=e,a=x0(Fp,t),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return LZ(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(t6,{asChild:!0,children:s.jsx(a2,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},RZ="ToastTitle",c6=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(zi.div,{...r,ref:t})});c6.displayName=RZ;var FZ="ToastDescription",u6=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(zi.div,{...r,ref:t})});u6.displayName=FZ;var d6="ToastAction",f6=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(m6,{altText:n,asChild:!0,children:s.jsx(l2,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d6}\`. Expected non-empty \`string\`.`),null)});f6.displayName=d6;var h6="ToastClose",l2=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=$Z(h6,n);return s.jsx(m6,{asChild:!0,children:s.jsx(zi.button,{type:"button",...r,ref:t,onClick:we(e.onClick,a.onClose)})})});l2.displayName=h6;var m6=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(zi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function p6(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),BZ(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...p6(r))}}),t}function Ix(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?QF(a,i):a.dispatchEvent(i)}var yk=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function LZ(e=()=>{}){const t=Ft(e);bt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function BZ(e){return e.nodeType===e.ELEMENT_NODE}function zZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Aj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var qZ=s6,x6=i6,g6=l6,y6=c6,v6=u6,b6=f6,j6=l2;function w6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=w6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=w6(e))&&(r&&(r+=" "),r+=t);return r}const vk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bk=Rt,Lp=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bk(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=vk(d)||vk(f);return a[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...u,f,h]:u},[]);return bk(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_6=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...UZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_6("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=x.forwardRef(({className:r,...a},i)=>x.createElement(VZ,{ref:i,iconNode:t,className:_6(`lucide-${WZ(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=Ae("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Ae("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ae("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=Ae("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=Ae("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ae("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Ae("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ae("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Ae("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=Ae("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ae("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=Ae("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=Ae("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=Ae("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=Ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=Ae("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Ae("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=Ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=Ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=Ae("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ae("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Ae("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ae("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=Ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=Ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Ae("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=Ae("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=Ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=Ae("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Ae("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ae("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ae("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=Ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=Ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p2="-",yJ=e=>{const t=bJ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(p2);return l[0]===""&&l.length!==1&&l.shift(),M6(l,t)||vJ(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},M6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?M6(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(p2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ak=/^\[(.+)\]$/,vJ=e=>{if(Ak.test(e)){const t=Ak.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},bJ=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return wJ(Object.entries(e.classGroups),n).forEach(([i,o])=>{Q_(o,r,i,t)}),r},Q_=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ok(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(jJ(a)){Q_(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Q_(o,Ok(t,i),n,r)})})},Ok=(e,t)=>{let n=e;return t.split(p2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jJ=e=>e.isThemeGetter,wJ=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,_J=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},$6="!",NJ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let y=l[g];if(u===0){if(y===a&&(r||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith($6),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},SJ=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},CJ=e=>({cache:_J(e.cacheSize),parseClassName:NJ(e),...yJ(e)}),PJ=/\s+/,EJ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(PJ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let v=!!m,p=r(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const g=SJ(d).join(":"),y=f?g+$6:g,b=y+p;if(i.includes(b))continue;i.push(b);const j=a(p,v);for(let w=0;w<j.length;++w){const N=j[w];i.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function kJ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=D6(t))&&(r&&(r+=" "),r+=n);return r}const D6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=D6(e[r]))&&(n&&(n+=" "),n+=t);return n};function AJ(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=CJ(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=EJ(c,n);return a(c,d),d}return function(){return i(kJ.apply(null,arguments))}}const In=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},I6=/^\[(?:([a-z-]+):)?(.+)\]$/i,OJ=/^\d+\/\d+$/,TJ=new Set(["px","full","screen"]),MJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$J=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=e=>fd(e)||TJ.has(e)||OJ.test(e),Uo=e=>If(e,"length",VJ),fd=e=>!!e&&!Number.isNaN(Number(e)),Oj=e=>If(e,"number",fd),mh=e=>!!e&&Number.isInteger(Number(e)),FJ=e=>e.endsWith("%")&&fd(e.slice(0,-1)),Ut=e=>I6.test(e),Vo=e=>MJ.test(e),LJ=new Set(["length","size","percentage"]),BJ=e=>If(e,LJ,R6),zJ=e=>If(e,"position",R6),qJ=new Set(["image","url"]),WJ=e=>If(e,qJ,HJ),UJ=e=>If(e,"",KJ),ph=()=>!0,If=(e,t,n)=>{const r=I6.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},VJ=e=>$J.test(e)&&!DJ.test(e),R6=()=>!1,KJ=e=>IJ.test(e),HJ=e=>RJ.test(e),GJ=()=>{const e=In("colors"),t=In("spacing"),n=In("blur"),r=In("brightness"),a=In("borderColor"),i=In("borderRadius"),o=In("borderSpacing"),l=In("borderWidth"),c=In("contrast"),u=In("grayscale"),d=In("hueRotate"),f=In("invert"),h=In("gap"),m=In("gradientColorStops"),v=In("gradientColorStopPositions"),p=In("inset"),g=In("margin"),y=In("opacity"),b=In("padding"),j=In("saturate"),w=In("scale"),N=In("sepia"),S=In("skew"),_=In("space"),C=In("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ut,t],O=()=>[Ut,t],I=()=>["",Yi,Uo],F=()=>["auto",fd,Ut],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Ut],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[fd,Ut];return{cacheSize:500,separator:":",theme:{colors:[ph],spacing:[Yi,Uo],blur:["none","",Vo,Ut],brightness:re(),borderColor:[e],borderRadius:["none","","full",Vo,Ut],borderSpacing:O(),borderWidth:I(),contrast:re(),grayscale:T(),hueRotate:re(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[FJ,Uo],inset:A(),margin:A(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:T(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[Vo]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Ut]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mh,Ut]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",mh,Ut]}],"grid-cols":[{"grid-cols":[ph]}],"col-start-end":[{col:["auto",{span:["full",mh,Ut]},Ut]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ph]}],"row-start-end":[{row:["auto",{span:[mh,Ut]},Ut]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,t]}],"min-w":[{"min-w":[Ut,t,"min","max","fit"]}],"max-w":[{"max-w":[Ut,t,"none","full","min","max","fit","prose",{screen:[Vo]},Vo]}],h:[{h:[Ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vo,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oj]}],"font-family":[{font:[ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",fd,Oj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yi,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yi,Uo]}],"underline-offset":[{"underline-offset":["auto",Yi,Ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),zJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Yi,Ut]}],"outline-w":[{outline:[Yi,Uo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yi,Uo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vo,UJ]}],"shadow-color":[{shadow:[ph]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vo,Ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[mh,Ut]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yi,Uo,Oj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YJ=AJ(GJ);function tt(...e){return YJ(Rt(e))}const QJ=qZ,F6=x.forwardRef(({className:e,...t},n)=>s.jsx(x6,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));F6.displayName=x6.displayName;const XJ=Lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),L6=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(g6,{ref:r,className:tt(XJ({variant:t}),e),...n}));L6.displayName=g6.displayName;const ZJ=x.forwardRef(({className:e,...t},n)=>s.jsx(b6,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZJ.displayName=b6.displayName;const B6=x.forwardRef(({className:e,...t},n)=>s.jsx(j6,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Pm,{className:"h-4 w-4"})}));B6.displayName=j6.displayName;const z6=x.forwardRef(({className:e,...t},n)=>s.jsx(y6,{ref:n,className:tt("text-sm font-semibold",e),...t}));z6.displayName=y6.displayName;const q6=x.forwardRef(({className:e,...t},n)=>s.jsx(v6,{ref:n,className:tt("text-sm opacity-90",e),...t}));q6.displayName=v6.displayName;function JJ(){const{toasts:e}=Sn();return s.jsxs(QJ,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(L6,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(z6,{children:n}),r&&s.jsx(q6,{children:r})]}),a,s.jsx(B6,{})]},t)}),s.jsx(F6,{})]})}var eee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vu=eee.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function tee(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}var nee="DismissableLayer",X_="dismissableLayer.update",ree="dismissableLayer.pointerDownOutside",see="dismissableLayer.focusOutside",Tk,W6=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U6=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(W6),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=oee(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=lee(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Mk(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tk)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Mk())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(X_,_),()=>document.removeEventListener(X_,_)},[]),s.jsx(vu.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});U6.displayName=nee;var aee="DismissableLayerBranch",iee=x.forwardRef((e,t)=>{const n=x.useContext(W6),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(vu.div,{...e,ref:a})});iee.displayName=aee;function oee(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){V6(ree,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function lee(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&V6(see,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Mk(){const e=new CustomEvent(X_);document.dispatchEvent(e)}function V6(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?tee(a,i):a.dispatchEvent(i)}var cee=Bi[" useId ".trim().toString()]||(()=>{}),uee=0;function Qs(e){const[t,n]=x.useState(cee());return bt(()=>{e||n(r=>r??String(uee++))},[e]),e||(t?`radix-${t}`:"")}const dee=["top","right","bottom","left"],Bl=Math.min,Vs=Math.max,yy=Math.round,Lx=Math.floor,Pi=e=>({x:e,y:e}),fee={left:"right",right:"left",bottom:"top",top:"bottom"},hee={start:"end",end:"start"};function Z_(e,t,n){return Vs(e,Bl(t,n))}function Eo(e,t){return typeof e=="function"?e(t):e}function ko(e){return e.split("-")[0]}function Rf(e){return e.split("-")[1]}function x2(e){return e==="x"?"y":"x"}function g2(e){return e==="y"?"height":"width"}function zl(e){return["top","bottom"].includes(ko(e))?"y":"x"}function y2(e){return x2(zl(e))}function mee(e,t,n){n===void 0&&(n=!1);const r=Rf(e),a=y2(e),i=g2(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=vy(o)),[o,vy(o)]}function pee(e){const t=vy(e);return[J_(e),t,J_(t)]}function J_(e){return e.replace(/start|end/g,t=>hee[t])}function xee(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function gee(e,t,n,r){const a=Rf(e);let i=xee(ko(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(J_)))),i}function vy(e){return e.replace(/left|right|bottom|top/g,t=>fee[t])}function yee(e){return{top:0,right:0,bottom:0,left:0,...e}}function K6(e){return typeof e!="number"?yee(e):{top:e,right:e,bottom:e,left:e}}function by(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function $k(e,t,n){let{reference:r,floating:a}=e;const i=zl(t),o=y2(t),l=g2(o),c=ko(t),u=i==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-a.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Rf(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const vee=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=$k(u,r,c),h=r,m={},v=0;for(let p=0;p<l.length;p++){const{name:g,fn:y}=l[p],{x:b,y:j,data:w,reset:N}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,m={...m,[g]:{...m[g],...w}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=$k(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Em(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Eo(t,e),v=K6(m),g=l[h?f==="floating"?"reference":"floating":f],y=by(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=by(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(y.top-N.top+v.top)/w.y,bottom:(N.bottom-y.bottom+v.bottom)/w.y,left:(y.left-N.left+v.left)/w.x,right:(N.right-y.right+v.right)/w.x}}const bee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Eo(e,t)||{};if(u==null)return{};const f=K6(d),h={x:n,y:r},m=y2(a),v=g2(m),p=await o.getDimensions(u),g=m==="y",y=g?"top":"left",b=g?"bottom":"right",j=g?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[m]-h[m]-i.floating[v],N=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let _=S?S[j]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[j]||i.floating[v]);const C=w/2-N/2,E=_/2-p[v]/2-1,P=Bl(f[y],E),A=Bl(f[b],E),O=P,I=_-p[v]-A,F=_/2-p[v]/2+C,B=Z_(O,F,I),$=!c.arrow&&Rf(a)!=null&&F!==B&&i.reference[v]/2-(F<O?P:A)-p[v]/2<0,R=$?F<O?F-O:F-I:0;return{[m]:h[m]+R,data:{[m]:B,centerOffset:F-B-R,...$&&{alignmentOffset:R}},reset:$}}}),jee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=Eo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ko(a),b=zl(l),j=ko(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(j||!p?[vy(l)]:pee(l)),S=v!=="none";!h&&S&&N.push(...gee(l,p,v,w));const _=[l,...N],C=await Em(t,g),E=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(C[y]),f){const F=mee(a,o,w);E.push(C[F[0]],C[F[1]])}if(P=[...P,{placement:a,overflows:E}],!E.every(F=>F<=0)){var A,O;const F=(((A=i.flip)==null?void 0:A.index)||0)+1,B=_[F];if(B)return{data:{index:F,overflows:P},reset:{placement:B}};let $=(O=P.filter(R=>R.overflows[0]<=0).sort((R,M)=>R.overflows[1]-M.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(m){case"bestFit":{var I;const R=(I=P.filter(M=>{if(S){const T=zl(M.placement);return T===b||T==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(T=>T>0).reduce((T,J)=>T+J,0)]).sort((M,T)=>M[1]-T[1])[0])==null?void 0:I[0];R&&($=R);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function Dk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ik(e){return dee.some(t=>e[t]>=0)}const wee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Eo(e,t);switch(r){case"referenceHidden":{const i=await Em(t,{...a,elementContext:"reference"}),o=Dk(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ik(o)}}}case"escaped":{const i=await Em(t,{...a,altBoundary:!0}),o=Dk(i,n.floating);return{data:{escapedOffsets:o,escaped:Ik(o)}}}default:return{}}}}};async function _ee(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=ko(n),l=Rf(n),c=zl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Eo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Nee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await _ee(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},See=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...c}=Eo(e,t),u={x:n,y:r},d=await Em(t,c),f=zl(ko(a)),h=x2(f);let m=u[h],v=u[f];if(i){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[g],j=m-d[y];m=Z_(b,m,j)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+d[g],j=v-d[y];v=Z_(b,v,j)}const p=l.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:o}}}}}},Cee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Eo(e,t),d={x:n,y:r},f=zl(a),h=x2(f);let m=d[h],v=d[f];const p=Eo(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=h==="y"?"height":"width",w=i.reference[h]-i.floating[j]+g.mainAxis,N=i.reference[h]+i.reference[j]-g.mainAxis;m<w?m=w:m>N&&(m=N)}if(u){var y,b;const j=h==="y"?"width":"height",w=["top","left"].includes(ko(a)),N=i.reference[f]-i.floating[j]+(w&&((y=o.offset)==null?void 0:y[f])||0)+(w?0:g.crossAxis),S=i.reference[f]+i.reference[j]+(w?0:((b=o.offset)==null?void 0:b[f])||0)-(w?g.crossAxis:0);v<N?v=N:v>S&&(v=S)}return{[h]:m,[f]:v}}}},Pee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Eo(e,t),d=await Em(t,u),f=ko(a),h=Rf(a),m=zl(a)==="y",{width:v,height:p}=i.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=v-d.left-d.right,w=Bl(p-d[g],b),N=Bl(v-d[y],j),S=!t.middlewareData.shift;let _=w,C=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=b),S&&!h){const P=Vs(d.left,0),A=Vs(d.right,0),O=Vs(d.top,0),I=Vs(d.bottom,0);m?C=v-2*(P!==0||A!==0?P+A:Vs(d.left,d.right)):_=p-2*(O!==0||I!==0?O+I:Vs(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:_});const E=await o.getDimensions(l.floating);return v!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function v0(){return typeof window<"u"}function Ff(e){return H6(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qi(e){var t;return(t=(H6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H6(e){return v0()?e instanceof Node||e instanceof Xs(e).Node:!1}function ti(e){return v0()?e instanceof Element||e instanceof Xs(e).Element:!1}function Mi(e){return v0()?e instanceof HTMLElement||e instanceof Xs(e).HTMLElement:!1}function Rk(e){return!v0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}function Bp(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function Eee(e){return["table","td","th"].includes(Ff(e))}function b0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function v2(e){const t=b2(),n=ti(e)?ni(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kee(e){let t=ql(e);for(;Mi(t)&&!Ud(t);){if(v2(t))return t;if(b0(t))return null;t=ql(t)}return null}function b2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ud(e){return["html","body","#document"].includes(Ff(e))}function ni(e){return Xs(e).getComputedStyle(e)}function j0(e){return ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ql(e){if(Ff(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rk(e)&&e.host||qi(e);return Rk(t)?t.host:t}function G6(e){const t=ql(e);return Ud(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Bp(t)?t:G6(t)}function km(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=G6(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Xs(a);if(i){const l=eN(o);return t.concat(o,o.visualViewport||[],Bp(a)?a:[],l&&n?km(l):[])}return t.concat(a,km(a,[],n))}function eN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y6(e){const t=ni(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Mi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=yy(n)!==i||yy(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function j2(e){return ti(e)?e:e.contextElement}function hd(e){const t=j2(e);if(!Mi(t))return Pi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=Y6(t);let o=(i?yy(n.width):n.width)/r,l=(i?yy(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Aee=Pi(0);function Q6(e){const t=Xs(e);return!b2()||!t.visualViewport?Aee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Oee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xs(e)?!1:t}function tu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=j2(e);let o=Pi(1);t&&(r?ti(r)&&(o=hd(r)):o=hd(e));const l=Oee(i,n,r)?Q6(i):Pi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Xs(i),m=r&&ti(r)?Xs(r):r;let v=h,p=eN(v);for(;p&&r&&m!==v;){const g=hd(p),y=p.getBoundingClientRect(),b=ni(p),j=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*g.x,w=y.top+(p.clientTop+parseFloat(b.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=j,u+=w,v=Xs(p),p=eN(v)}}return by({width:d,height:f,x:c,y:u})}function w2(e,t){const n=j0(e).scrollLeft;return t?t.left+n:tu(qi(e)).left+n}function X6(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:w2(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function Tee(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=qi(r),l=t?b0(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Pi(1);const d=Pi(0),f=Mi(r);if((f||!f&&!i)&&((Ff(r)!=="body"||Bp(o))&&(c=j0(r)),Mi(r))){const m=tu(r);u=hd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?X6(o,c,!0):Pi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Mee(e){return Array.from(e.getClientRects())}function $ee(e){const t=qi(e),n=j0(e),r=e.ownerDocument.body,a=Vs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Vs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+w2(e);const l=-n.scrollTop;return ni(r).direction==="rtl"&&(o+=Vs(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Dee(e,t){const n=Xs(e),r=qi(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=b2();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Iee(e,t){const n=tu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Mi(e)?hd(e):Pi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function Fk(e,t,n){let r;if(t==="viewport")r=Dee(e,n);else if(t==="document")r=$ee(qi(e));else if(ti(t))r=Iee(t,n);else{const a=Q6(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return by(r)}function Z6(e,t){const n=ql(e);return n===t||!ti(n)||Ud(n)?!1:ni(n).position==="fixed"||Z6(n,t)}function Ree(e,t){const n=t.get(e);if(n)return n;let r=km(e,[],!1).filter(l=>ti(l)&&Ff(l)!=="body"),a=null;const i=ni(e).position==="fixed";let o=i?ql(e):e;for(;ti(o)&&!Ud(o);){const l=ni(o),c=v2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Bp(o)&&!c&&Z6(e,o))?r=r.filter(d=>d!==o):a=l,o=ql(o)}return t.set(e,r),r}function Fee(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?b0(t)?[]:Ree(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=Fk(t,d,a);return u.top=Vs(f.top,u.top),u.right=Bl(f.right,u.right),u.bottom=Bl(f.bottom,u.bottom),u.left=Vs(f.left,u.left),u},Fk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lee(e){const{width:t,height:n}=Y6(e);return{width:t,height:n}}function Bee(e,t,n){const r=Mi(t),a=qi(t),i=n==="fixed",o=tu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Pi(0);if(r||!r&&!i)if((Ff(t)!=="body"||Bp(a))&&(l=j0(t)),r){const h=tu(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=w2(a));const u=a&&!r&&!i?X6(a,l):Pi(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Tj(e){return ni(e).position==="static"}function Lk(e,t){if(!Mi(e)||ni(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qi(e)===n&&(n=n.ownerDocument.body),n}function J6(e,t){const n=Xs(e);if(b0(e))return n;if(!Mi(e)){let a=ql(e);for(;a&&!Ud(a);){if(ti(a)&&!Tj(a))return a;a=ql(a)}return n}let r=Lk(e,t);for(;r&&Eee(r)&&Tj(r);)r=Lk(r,t);return r&&Ud(r)&&Tj(r)&&!v2(r)?n:r||kee(e)||n}const zee=async function(e){const t=this.getOffsetParent||J6,n=this.getDimensions,r=await n(e.floating);return{reference:Bee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qee(e){return ni(e).direction==="rtl"}const Wee={convertOffsetParentRelativeRectToViewportRelativeRect:Tee,getDocumentElement:qi,getClippingRect:Fee,getOffsetParent:J6,getElementRects:zee,getClientRects:Mee,getDimensions:Lee,getScale:hd,isElement:ti,isRTL:qee};function eL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Uee(e,t){let n=null,r;const a=qi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=Lx(f),p=Lx(a.clientWidth-(d+h)),g=Lx(a.clientHeight-(f+m)),y=Lx(d),j={rootMargin:-v+"px "+-p+"px "+-g+"px "+-y+"px",threshold:Vs(0,Bl(1,c))||1};let w=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!eL(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(N,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,j)}n.observe(e)}return o(!0),i}function w0(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=j2(e),d=a||i?[...u?km(u):[],...km(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&l?Uee(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?tu(e):null;c&&g();function g(){const y=tu(e);p&&!eL(p,y)&&n(),p=y,v=requestAnimationFrame(g)}return n(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const Vee=Nee,Kee=See,Hee=jee,Gee=Pee,Yee=wee,Bk=bee,Qee=Cee,Xee=(e,t,n)=>{const r=new Map,a={platform:Wee,...n},i={...a.platform,_c:r};return vee(e,t,{...a,platform:i})};var $g=typeof document<"u"?x.useLayoutEffect:x.useEffect;function jy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!jy(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!jy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zk(e,t){const n=tL(e);return Math.round(t*n)/n}function Mj(e){const t=x.useRef(e);return $g(()=>{t.current=e}),t}function _0(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(r);jy(h,r)||m(r);const[v,p]=x.useState(null),[g,y]=x.useState(null),b=x.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),j=x.useCallback(M=>{M!==_.current&&(_.current=M,y(M))},[]),w=i||v,N=o||g,S=x.useRef(null),_=x.useRef(null),C=x.useRef(d),E=c!=null,P=Mj(c),A=Mj(a),O=Mj(u),I=x.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:n,middleware:h};A.current&&(M.platform=A.current),Xee(S.current,_.current,M).then(T=>{const J={...T,isPositioned:O.current!==!1};F.current&&!jy(C.current,J)&&(C.current=J,Ca.flushSync(()=>{f(J)}))})},[h,t,n,A,O]);$g(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const F=x.useRef(!1);$g(()=>(F.current=!0,()=>{F.current=!1}),[]),$g(()=>{if(w&&(S.current=w),N&&(_.current=N),w&&N){if(P.current)return P.current(w,N,I);I()}},[w,N,I,P,E]);const B=x.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:j}),[b,j]),$=x.useMemo(()=>({reference:w,floating:N}),[w,N]),R=x.useMemo(()=>{const M={position:n,left:0,top:0};if(!$.floating)return M;const T=zk($.floating,d.x),J=zk($.floating,d.y);return l?{...M,transform:"translate("+T+"px, "+J+"px)",...tL($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:J}},[n,l,$.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:I,refs:B,elements:$,floatingStyles:R}),[d,I,B,$,R])}const Zee=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Bk({element:r.current,padding:a}).fn(n):{}:r?Bk({element:r,padding:a}).fn(n):{}}}},N0=(e,t)=>({...Vee(e),options:[e,t]}),S0=(e,t)=>({...Kee(e),options:[e,t]}),C0=(e,t)=>({...Qee(e),options:[e,t]}),P0=(e,t)=>({...Hee(e),options:[e,t]}),E0=(e,t)=>({...Gee(e),options:[e,t]}),k0=(e,t)=>({...Yee(e),options:[e,t]}),A0=(e,t)=>({...Zee(e),options:[e,t]});var Jee="Arrow",nL=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(vu.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});nL.displayName=Jee;var ete=nL;function Lf(e){const[t,n]=x.useState(void 0);return bt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var rL="Popper",[sL,aL]=Jn(rL),[ELe,iL]=sL(rL),oL="PopperAnchor",lL=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=iL(oL,n),o=x.useRef(null),l=Ve(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(vu.div,{...a,ref:l})});lL.displayName=oL;var _2="PopperContent",[tte,nte]=sL(_2),cL=x.forwardRef((e,t)=>{var je,Oe,ce,_e,H,Y;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=iL(_2,n),[y,b]=x.useState(null),j=Ve(t,L=>b(L)),[w,N]=x.useState(null),S=Lf(w),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,I={padding:P,boundary:A.filter(ste),altBoundary:O},{refs:F,floatingStyles:B,placement:$,isPositioned:R,middlewareData:M}=_0({strategy:"fixed",placement:E,whileElementsMounted:(...L)=>w0(...L,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[N0({mainAxis:a+C,alignmentAxis:o}),c&&S0({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?C0():void 0,...I}),c&&P0({...I}),E0({...I,apply:({elements:L,rects:Z,availableWidth:Be,availableHeight:Ke})=>{const{width:st,height:$t}=Z.reference,ne=L.floating.style;ne.setProperty("--radix-popper-available-width",`${Be}px`),ne.setProperty("--radix-popper-available-height",`${Ke}px`),ne.setProperty("--radix-popper-anchor-width",`${st}px`),ne.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),w&&A0({element:w,padding:l}),ate({arrowWidth:_,arrowHeight:C}),h&&k0({strategy:"referenceHidden",...I})]}),[T,J]=fL($),re=Ft(v);bt(()=>{R&&(re==null||re())},[R,re]);const X=(je=M.arrow)==null?void 0:je.x,ye=(Oe=M.arrow)==null?void 0:Oe.y,Re=((ce=M.arrow)==null?void 0:ce.centerOffset)!==0,[Je,lt]=x.useState();return bt(()=>{y&&lt(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:R?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(H=M.transformOrigin)==null?void 0:H.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(tte,{scope:n,placedSide:T,onArrowChange:N,arrowX:X,arrowY:ye,shouldHideArrow:Re,children:s.jsx(vu.div,{"data-side":T,"data-align":J,...p,ref:j,style:{...p.style,animation:R?void 0:"none"}})})})});cL.displayName=_2;var uL="PopperArrow",rte={top:"bottom",right:"left",bottom:"top",left:"right"},dL=x.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=nte(uL,r),o=rte[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(ete,{...a,ref:n,style:{...a.style,display:"block"}})})});dL.displayName=uL;function ste(e){return e!==null}var ate=e=>({name:"transformOrigin",options:e,fn(t){var g,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=fL(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function fL(e){const[t,n="center"]=e.split("-");return[t,n]}var ite=lL,ote=cL,lte=dL;function cte(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var hL=e=>{const{present:t,children:n}=e,r=ute(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,dte(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};hL.displayName="Presence";function ute(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=cte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Bx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=Bx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Bx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Bx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Bx(e){return(e==null?void 0:e.animationName)||"none"}function dte(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hte="VisuallyHidden",mL=x.forwardRef((e,t)=>s.jsx(vu.span,{...e,ref:t,style:{...fte,...e.style}}));mL.displayName=hte;var mte=mL,[O0,kLe]=Jn("Tooltip",[aL]),N2=aL(),pL="TooltipProvider",pte=700,qk="tooltip.open",[xte,xL]=O0(pL),gL=e=>{const{__scopeTooltip:t,delayDuration:n=pte,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(xte,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};gL.displayName=pL;var yL="Tooltip",[ALe,T0]=O0(yL),tN="TooltipTrigger",gte=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=T0(tN,n),i=xL(tN,n),o=N2(n),l=x.useRef(null),c=Ve(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(ite,{asChild:!0,...o,children:s.jsx(vu.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:we(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:we(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:we(e.onBlur,a.onClose),onClick:we(e.onClick,a.onClose)})})});gte.displayName=tN;var yte="TooltipPortal",[OLe,vte]=O0(yte,{forceMount:void 0}),Vd="TooltipContent",vL=x.forwardRef((e,t)=>{const n=vte(Vd,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=T0(Vd,e.__scopeTooltip);return s.jsx(hL,{present:r||o.open,children:o.disableHoverableContent?s.jsx(bL,{side:a,...i,ref:t}):s.jsx(bte,{side:a,...i,ref:t})})}),bte=x.forwardRef((e,t)=>{const n=T0(Vd,e.__scopeTooltip),r=xL(Vd,e.__scopeTooltip),a=x.useRef(null),i=Ve(t,a),[o,l]=x.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{l(null),f(!1)},[f]),m=x.useCallback((v,p)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=Ste(y,g.getBoundingClientRect()),j=Cte(y,b),w=Pte(p.getBoundingClientRect()),N=kte([...j,...w]);l(N),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const v=g=>m(g,d),p=g=>m(g,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),x.useEffect(()=>{if(o){const v=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),j=!Ete(y,o);b?h():j&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),s.jsx(bL,{...e,ref:i})}),[jte,wte]=O0(yL,{isInside:!1}),_te=tZ("TooltipContent"),bL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=T0(Vd,n),u=N2(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(qk,d),()=>document.removeEventListener(qk,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(U6,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(ote,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(_te,{children:r}),s.jsx(jte,{scope:n,isInside:!0,children:s.jsx(mte,{id:c.contentId,role:"tooltip",children:a||r})})]})})});vL.displayName=Vd;var jL="TooltipArrow",Nte=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=N2(n);return wte(jL,n).isInside?null:s.jsx(lte,{...a,...r,ref:t})});Nte.displayName=jL;function Ste(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Cte(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Pte(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Ete(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function kte(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ate(t)}function Ate(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Ote=gL,wL=vL;const Tte=Ote,Mte=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(wL,{ref:r,sideOffset:t,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Mte.displayName=wL.displayName;const wy=x.createContext(void 0);typeof window<"u"&&(window.__AuthContext=wy);function $te({children:e}){const[t,n]=x.useState(null),[r,a]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const c=await fetch("/api/me",{credentials:"include"});if(c.ok){const u=await c.json();u.success&&u.user?n(u.user):n(null)}else n(null)}catch(c){console.warn("Error checking auth session:",c),n(null)}a(!1)})()},[]);const i=async(l,c)=>{a(!0);try{const u=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:l,password:c})});if(!u.ok){const f=await u.json();throw new Error(f.message||"  ")}const d=await u.json();n(d.user)}catch(u){throw u}finally{a(!1)}},o=async()=>{try{await fetch("/api/logout",{method:"POST",credentials:"include"})}catch(l){console.warn("Error during logout:",l)}n(null),typeof window<"u"&&window.location.reload()};return s.jsx(wy.Provider,{value:{user:t,login:i,logout:o,isLoading:r,isAuthenticated:!!t},children:e})}function ii(){const e=x.useContext(wy);if(e===void 0)throw console.error("useAuth called outside AuthProvider. Current context:",e),console.error("AuthContext:",wy),new Error("useAuth must be used within an AuthProvider");return e}const nN=Lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?GF:"button";return s.jsx(o,{className:tt(nN({variant:t,size:n,className:e})),ref:i,...a})});W.displayName="Button";const K=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const le=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const oe=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("text-2xl font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const Nn=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("text-sm text-muted-foreground",e),...t}));Nn.displayName="CardDescription";const G=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("p-6 pt-0",e),...t}));G.displayName="CardContent";const _L=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",e),...t}));_L.displayName="CardFooter";const Dte=Lp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$i=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:tt(Dte({variant:t}),e),...n}));$i.displayName="Alert";const S2=x.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:tt("mb-1 font-medium leading-none tracking-tight",e),...t}));S2.displayName="AlertTitle";const Di=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:tt("text-sm [&_p]:leading-relaxed",e),...t}));Di.displayName="AlertDescription";class NL extends x.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){var r,a;console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n}),(a=(r=this.props).onError)==null||a.call(r,t,n)}render(){if(this.state.hasError){const t=this.props.fallback||"page",n=this.props.title||"   ",r=this.props.description||"    .    .";return t==="inline"?s.jsxs($i,{variant:"destructive",className:"my-2","data-testid":"error-inline",children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsx(S2,{children:""}),s.jsxs(Di,{children:[r,s.jsxs(W,{onClick:this.handleReset,variant:"ghost",size:"sm",className:"mt-2 h-auto p-1 text-xs","data-testid":"button-retry-inline",children:[s.jsx(Br,{className:"h-3 w-3 ml-1"})," "]})]})]}):t==="component"?s.jsx(K,{className:"w-full","data-testid":"error-component",children:s.jsxs(G,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-2",children:[s.jsx(cn,{className:"h-5 w-5 text-destructive"}),s.jsx("h3",{className:"font-medium text-destructive",children:n})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:r}),!1,s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:this.handleReset,variant:"outline",size:"sm","data-testid":"button-retry-component",children:[s.jsx(Br,{className:"h-4 w-4 ml-1"})," "]}),this.props.showReload&&s.jsxs(W,{onClick:this.handleReload,size:"sm","data-testid":"button-reload-component",children:[s.jsx(d2,{className:"h-4 w-4 ml-1"})," "]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background","data-testid":"error-page",children:s.jsxs(K,{className:"w-full max-w-lg",children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(cn,{className:"w-6 h-6 text-destructive"})}),s.jsx(oe,{className:"text-xl",children:n}),s.jsx(Nn,{children:r})]}),s.jsx(G,{children:!1}),s.jsxs(_L,{className:"flex gap-2 justify-center",children:[s.jsxs(W,{onClick:this.handleReset,variant:"outline","data-testid":"button-retry-page",children:[s.jsx(Br,{className:"w-4 h-4 ml-2"})," "]}),s.jsx(W,{onClick:this.handleReload,"data-testid":"button-reload-page",children:"  "})]})]})})}return this.props.children}}const Ite=Lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:e,variant:t,...n}){return s.jsx("div",{className:tt(Ite({variant:t}),e),...n})}function Rte(){const{user:e}=ii(),{data:t=[]}=$e({queryKey:[`/api/notifications?user_id=${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)}),n=t.filter(r=>!r.read_at&&r.status!=="failed").length;return s.jsx(JS,{to:"/notifications",children:s.jsxs(W,{variant:"ghost",size:"sm",className:"relative",children:[s.jsx(fo,{className:"h-5 w-5"}),n>0&&s.jsx(ge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0",children:n>99?"99+":n})]})})}const Fte="/attached_assets/FactoryLogoHPNGWg.png";function $s(){const{user:e,logout:t}=ii();return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg overflow-hidden",children:s.jsx("img",{src:Fte,alt:"   ",className:"w-full h-full object-contain mt-[0px] mb-[0px] pt-[0px] pb-[0px]"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MPBF Next"}),s.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsxs(W,{variant:"default",size:"sm",className:"btn-primary",children:[s.jsx(Tg,{className:"h-4 w-4 ml-2"}),s.jsx("span",{className:"hidden sm:inline",children:" "})]}),s.jsx(Rte,{}),s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.display_name_ar)||(e==null?void 0:e.display_name)||(e==null?void 0:e.username)}),s.jsx("p",{className:"text-xs text-gray-600",children:" "})]}),s.jsx("button",{onClick:t,className:"h-8 w-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-medium text-sm hover:bg-primary/90 transition-colors",children:((e==null?void 0:e.display_name_ar)||(e==null?void 0:e.display_name)||(e==null?void 0:e.username)||"").charAt(0)})]})]})]})})}const Lte=[{name:"",name_ar:"",icon:d2,path:"/",active:!1},{name:" ",name_ar:" ",icon:aJ,path:"/user-dashboard",active:!1},{name:"",name_ar:"",icon:Ti,path:"/orders",active:!1},{name:"",name_ar:"",icon:c2,path:"/production",active:!1},{name:" ",name_ar:" ",icon:f2,path:"/production-monitoring",active:!1},{name:"",name_ar:"",icon:S6,path:"/quality",active:!1},{name:"",name_ar:"",icon:Mg,path:"/maintenance",active:!1},{name:" ",name_ar:" ",icon:Ll,path:"/hr",active:!1},{name:"",name_ar:"",icon:T6,path:"/warehouse",active:!1},{name:"",name_ar:"",icon:Ol,path:"/definitions",active:!1},{name:"",name_ar:"",icon:eu,path:"/reports",active:!1},{name:"",name_ar:"",icon:fo,path:"/notifications",active:!1},{name:"",name_ar:"",icon:wn,path:"/settings",active:!1}];function Ds(){const[e]=EF();return s.jsx("aside",{className:"fixed right-0 top-16 bottom-0 bg-white shadow-sm border-l border-gray-200 w-64 hidden lg:block z-10 overflow-y-auto",children:s.jsx("nav",{className:"p-4",children:s.jsx("div",{className:"space-y-2",children:Lte.map(t=>{const n=t.icon,r=e===t.path;return s.jsx(JS,{href:t.path,children:s.jsx("div",{className:r?"nav-item nav-item-active":"nav-item",children:s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx(n,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:t.name_ar})]})})})},t.name)})})})})}const Bte=[{name:"",name_ar:"",icon:d2,path:"/"},{name:"",name_ar:"",icon:c2,path:"/production"},{name:"",name_ar:"",icon:T6,path:"/warehouse"},{name:"",name_ar:"",icon:S6,path:"/quality"},{name:"",name_ar:"",icon:Ol,path:"/definitions"}];function oi(){const[e]=EF();return s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40",children:s.jsx("div",{className:"flex justify-around py-1",children:Bte.map(t=>{const n=t.icon,r=e===t.path;return s.jsx(JS,{href:t.path,children:s.jsxs("button",{className:`flex flex-col items-center p-2 min-w-0 ${r?"text-blue-600":"text-gray-600"}`,children:[s.jsx(n,{className:"h-5 w-5 mb-1"}),s.jsx("span",{className:"text-xs leading-tight",children:t.name_ar})]})},t.name)})})})}function Jt(e){if(e==null||e==="")return"0";const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?"0":t%1===0?t.toString():t.toFixed(2).replace(/\.?0+$/,"")}function $j(e){const t=Jt(e),n=parseFloat(t);return isNaN(n)?"0":n.toLocaleString("en-US")}function Dj(e){return Jt(e)+" "}function qc(e){return Jt(e)+"%"}function zte(){const{data:e={},isLoading:t,error:n}=$e({queryKey:["/api/dashboard/stats"]});if(t)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((a,i)=>s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})})},i))});const r=[{label:" ",value:Jt((e==null?void 0:e.activeOrders)||12),change:"+12%   ",trend:"up",icon:s.jsx(A6,{className:"w-6 h-6"}),color:"text-blue-600"},{label:" ",value:qc((e==null?void 0:e.productionRate)||85),change:((e==null?void 0:e.productionRate)||85)>=85?" ":((e==null?void 0:e.productionRate)||85)>=70?" ":" ",trend:((e==null?void 0:e.productionRate)||85)>=85?"up":((e==null?void 0:e.productionRate)||85)>=70?"neutral":"down",icon:s.jsx(Po,{className:"w-6 h-6"}),color:((e==null?void 0:e.productionRate)||85)>=85?"text-green-600":((e==null?void 0:e.productionRate)||85)>=70?"text-yellow-600":"text-red-600"},{label:" ",value:`${Jt((e==null?void 0:e.presentEmployees)||18)}/${Jt((e==null?void 0:e.totalEmployees)||22)}`,change:`${qc(Math.round(((e==null?void 0:e.presentEmployees)||18)/((e==null?void 0:e.totalEmployees)||22)*100))}  `,trend:"neutral",icon:s.jsx(Ll,{className:"w-6 h-6"}),color:"text-purple-600"},{label:" ",value:Jt((e==null?void 0:e.maintenanceAlerts)||2),change:((e==null?void 0:e.maintenanceAlerts)||2)>0?" ":"    ",trend:((e==null?void 0:e.maintenanceAlerts)||2)>0?"down":"up",icon:s.jsx(cn,{className:"w-6 h-6"}),color:((e==null?void 0:e.maintenanceAlerts)||2)>0?"text-red-600":"text-green-600"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:r.map((a,i)=>s.jsx(K,{className:"hover:shadow-md transition-shadow","data-testid":`stat-card-${i}`,children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1","data-testid":`stat-label-${i}`,children:a.label}),s.jsx("p",{className:`text-2xl font-bold ${a.color} mb-1`,"data-testid":`stat-value-${i}`,children:a.value}),s.jsxs("div",{className:"flex items-center gap-1",children:[a.trend==="up"&&s.jsx(Po,{className:"w-3 h-3 text-green-500"}),a.trend==="down"&&s.jsx(y0,{className:"w-3 h-3 text-red-500"}),a.trend==="neutral"&&s.jsx(ga,{className:"w-3 h-3 text-gray-500"}),s.jsx("p",{className:"text-xs text-gray-500","data-testid":`stat-change-${i}`,children:a.change})]})]}),s.jsx("div",{className:`${a.color} opacity-20`,children:a.icon})]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx(ge,{variant:a.trend==="up"?"default":a.trend==="down"?"destructive":"secondary",className:"text-xs","data-testid":`stat-badge-${i}`,children:a.trend==="up"?"":a.trend==="down"?" ":""}),s.jsx(cr,{className:"w-3 h-3 text-gray-400"})]})]})},i))})}function qte(){return s.jsx(NL,{fallback:"component",title:"   ",description:"    .    .",onError:(e,t)=>{console.error("Dashboard stats error:",e,t)},children:s.jsx(zte,{})})}function Wte(){const e=qn(),t=x.useRef(null),n=x.useRef(null),r=x.useRef(!1),a=x.useRef(0),i=5,o=x.useCallback(d=>{try{const f=JSON.parse(d.data);console.log("[ProductionSSE] Received production update:",f);const h=[];(f.type==="all"||f.queues.includes("film"))&&h.push(["/api/production/film-queue"],["/api/production/hierarchical-orders"]),(f.type==="all"||f.queues.includes("printing"))&&h.push(["/api/production/printing-queue"]),(f.type==="all"||f.queues.includes("cutting"))&&h.push(["/api/production/cutting-queue"],["/api/production/grouped-cutting-queue"]),h.forEach(m=>{e.invalidateQueries({queryKey:m})})}catch(f){console.error("[ProductionSSE] Error parsing production update:",f)}},[e]),l=x.useCallback(()=>{if(!(t.current||r.current)){if(a.current>=i){console.log("[ProductionSSE] Max reconnection attempts reached, stopping...");return}try{console.log("[ProductionSSE] Connecting to production updates stream...");const d=new EventSource("/api/notifications/stream",{withCredentials:!0});d.addEventListener("production_update",o),d.onopen=()=>{console.log("[ProductionSSE] Connected to production updates stream"),r.current=!0,a.current=0,n.current&&(clearTimeout(n.current),n.current=null)},d.onerror=f=>{if(console.error("[ProductionSSE] Connection error:",f),r.current=!1,t.current&&(t.current.close(),t.current=null),a.current+=1,a.current<i&&!n.current){const h=Math.min(Math.pow(2,a.current-1)*1e3,3e4);n.current=setTimeout(()=>{console.log(`[ProductionSSE] Attempting to reconnect... (attempt ${a.current}/${i})`),n.current=null,l()},h)}else console.log("[ProductionSSE] Max reconnection attempts reached or timeout already set")},t.current=d}catch(d){console.error("[ProductionSSE] Failed to establish connection:",d),r.current=!1,a.current+=1}}},[o]),c=x.useCallback(()=>{t.current&&(console.log("[ProductionSSE] Disconnecting from production updates stream"),t.current.close(),t.current=null),n.current&&(clearTimeout(n.current),n.current=null),r.current=!1,a.current=0},[]),u=x.useCallback(()=>{console.log("[ProductionSSE] Manual refresh triggered"),[["/api/production/film-queue"],["/api/production/printing-queue"],["/api/production/cutting-queue"],["/api/production/grouped-cutting-queue"],["/api/production/hierarchical-orders"]].forEach(f=>{e.invalidateQueries({queryKey:f})})},[e]);return x.useEffect(()=>(l(),()=>{c()}),[l,c]),{isConnected:r.current,connect:l,disconnect:c,refreshProductionData:u}}function Ute(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:y}=p,b=D.useRef(null),j=D.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Tn(l),u=D.forwardRef((p,g)=>{const{scope:y,children:b}=p,j=i(l,y),w=Ve(g,j.collectionRef);return s.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Tn(d),m=D.forwardRef((p,g)=>{const{scope:y,children:b,...j}=p,w=D.useRef(null),N=Ve(g,w),S=i(d,y);return D.useEffect(()=>(S.itemMap.set(w,{ref:w,...j}),()=>void S.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:b})});m.displayName=d;function v(p){const g=i(e+"CollectionConsumer",p);return D.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>j.indexOf(S.ref.current)-j.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var Vte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bf=Vte.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Kte=Bi[" useInsertionEffect ".trim().toString()]||bt;function SL({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Hte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=Gte(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function Hte({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return Kte(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function Gte(e){return typeof e=="function"}var Yte=x.createContext(void 0);function zf(e){const t=x.useContext(Yte);return e||t||"ltr"}var Ij="rovingFocusGroup.onEntryFocus",Qte={bubbles:!1,cancelable:!0},zp="RovingFocusGroup",[rN,CL,Xte]=Ute(zp),[Zte,PL]=Jn(zp,[Xte]),[Jte,ene]=Zte(zp),EL=x.forwardRef((e,t)=>s.jsx(rN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tne,{...e,ref:t})})}));EL.displayName=zp;var tne=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Ve(t,h),v=zf(i),[p,g]=SL({prop:o,defaultProp:l??null,onChange:c,caller:zp}),[y,b]=x.useState(!1),j=Ft(u),w=CL(n),N=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Ij,j),()=>C.removeEventListener(Ij,j)},[j]),s.jsx(Jte,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>g(C),[g]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>_(C=>C-1),[]),children:s.jsx(Bf.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{N.current=!0}),onFocus:we(e.onFocus,C=>{const E=!N.current;if(C.target===C.currentTarget&&E&&!y){const P=new CustomEvent(Ij,Qte);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=w().filter($=>$.focusable),O=A.find($=>$.active),I=A.find($=>$.id===p),B=[O,I,...A].filter(Boolean).map($=>$.ref.current);OL(B,d)}}N.current=!1}),onBlur:we(e.onBlur,()=>b(!1))})})}),kL="RovingFocusGroupItem",AL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Qs(),u=i||c,d=ene(kL,n),f=d.currentTabStopId===u,h=CL(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return x.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),s.jsx(rN.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Bf.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,g=>{r?d.onItemFocus(u):g.preventDefault()}),onFocus:we(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:we(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=sne(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const w=j.indexOf(g.currentTarget);j=d.loop?ane(j,w+1):j.slice(w+1)}setTimeout(()=>OL(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});AL.displayName=kL;var nne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sne(e,t,n){const r=rne(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nne[r]}function OL(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ane(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ine=EL,one=AL;function lne(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var TL=e=>{const{present:t,children:n}=e,r=cne(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,une(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};TL.displayName="Presence";function cne(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=lne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=zx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=zx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=zx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=zx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zx(e){return(e==null?void 0:e.animationName)||"none"}function une(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var M0="Tabs",[dne,TLe]=Jn(M0,[PL]),ML=PL(),[fne,C2]=dne(M0),$L=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=zf(l),[f,h]=SL({prop:r,onChange:a,defaultProp:i??"",caller:M0});return s.jsx(fne,{scope:n,baseId:Qs(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Bf.div,{dir:d,"data-orientation":o,...u,ref:t})})});$L.displayName=M0;var DL="TabsList",IL=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=C2(DL,n),o=ML(n);return s.jsx(ine,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Bf.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});IL.displayName=DL;var RL="TabsTrigger",FL=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=C2(RL,n),l=ML(n),c=zL(o.baseId,r),u=qL(o.baseId,r),d=r===o.value;return s.jsx(one,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Bf.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:we(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:we(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});FL.displayName=RL;var LL="TabsContent",BL=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=C2(LL,n),c=zL(l.baseId,r),u=qL(l.baseId,r),d=r===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(TL,{present:a||d,children:({present:h})=>s.jsx(Bf.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});BL.displayName=LL;function zL(e,t){return`${e}-trigger-${t}`}function qL(e,t){return`${e}-content-${t}`}var hne=$L,WL=IL,UL=FL,VL=BL;const Is=hne,vs=x.forwardRef(({className:e,...t},n)=>s.jsx(WL,{ref:n,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vs.displayName=WL.displayName;const mt=x.forwardRef(({className:e,...t},n)=>s.jsx(UL,{ref:n,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=UL.displayName;const ct=x.forwardRef(({className:e,...t},n)=>s.jsx(VL,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ct.displayName=VL.displayName;var mne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],KL=mne.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),P2="Progress",E2=100,[pne,MLe]=Jn(P2),[xne,gne]=pne(P2),HL=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=yne,...o}=e;(a||a===0)&&!Wk(a)&&console.error(vne(`${a}`,"Progress"));const l=Wk(a)?a:E2;r!==null&&!Uk(r,l)&&console.error(bne(`${r}`,"Progress"));const c=Uk(r,l)?r:null,u=_y(c)?i(c,l):void 0;return s.jsx(xne,{scope:n,value:c,max:l,children:s.jsx(KL.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_y(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":QL(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});HL.displayName=P2;var GL="ProgressIndicator",YL=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=gne(GL,n);return s.jsx(KL.div,{"data-state":QL(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});YL.displayName=GL;function yne(e,t){return`${Math.round(e/t*100)}%`}function QL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _y(e){return typeof e=="number"}function Wk(e){return _y(e)&&!isNaN(e)&&e>0}function Uk(e,t){return _y(e)&&!isNaN(e)&&e<=t&&e>=0}function vne(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${E2}\`.`}function bne(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${E2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XL=HL,jne=YL;const va=x.forwardRef(({className:e,value:t,...n},r)=>s.jsx(XL,{ref:r,className:tt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(jne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));va.displayName=XL.displayName;function wne({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=_ne({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Ft(n),c=x.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function _ne({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,a=x.useRef(r),i=Ft(t);return x.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}function Nne(e){const t=Sne(e),n=x.forwardRef((r,a)=>{const{children:i,...o}=r,l=x.Children.toArray(i),c=l.find(Pne);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Sne(e){const t=x.forwardRef((n,r)=>{const{children:a,...i}=n;if(x.isValidElement(a)){const o=kne(a),l=Ene(i,a.props);return a.type!==x.Fragment&&(l.ref=r?Rp(r,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cne=Symbol("radix.slottable");function Pne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cne}function Ene(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function kne(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ane=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],k2=Ane.reduce((e,t)=>{const n=Nne(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function One(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var ZL=e=>{const{present:t,children:n}=e,r=Tne(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,Mne(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};ZL.displayName="Presence";function Tne(e){const[t,n]=x.useState(),r=x.useRef({}),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=One(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=qx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=qx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=qx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=qx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function qx(e){return(e==null?void 0:e.animationName)||"none"}function Mne(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var A2="Collapsible",[$ne,$Le]=Jn(A2),[Dne,O2]=$ne(A2),JL=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=wne({prop:r,defaultProp:a,onChange:o});return s.jsx(Dne,{scope:n,disabled:i,contentId:Qs(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx(k2.div,{"data-state":M2(c),"data-disabled":i?"":void 0,...l,ref:t})})});JL.displayName=A2;var e8="CollapsibleTrigger",t8=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=O2(e8,n);return s.jsx(k2.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":M2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:we(e.onClick,a.onOpenToggle)})});t8.displayName=e8;var T2="CollapsibleContent",n8=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=O2(T2,e.__scopeCollapsible);return s.jsx(ZL,{present:n||a.open,children:({present:i})=>s.jsx(Ine,{...r,ref:t,present:i})})});n8.displayName=T2;var Ine=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=O2(T2,n),[l,c]=x.useState(r),u=x.useRef(null),d=Ve(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,p=o.open||l,g=x.useRef(p),y=x.useRef(void 0);return x.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),bt(()=>{const b=u.current;if(b){y.current=y.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();f.current=j.height,m.current=j.width,g.current||(b.style.transitionDuration=y.current.transitionDuration,b.style.animationName=y.current.animationName),c(r)}},[o.open,r]),s.jsx(k2.div,{"data-state":M2(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function M2(e){return e?"open":"closed"}var Rne=JL;const Ny=Rne,Vk=t8,Sy=n8;function Fne({items:e}){const{toast:t}=Sn(),n=qn(),[r,a]=x.useState(null),[i,o]=x.useState(new Set),[l,c]=x.useState(new Set),u=g=>(g.total_rolls===0,0),d=g=>(g.rolls_count===0,0),f=e.reduce((g,y)=>{let b=g.find(N=>N.order_id===y.order_id);b||(b={order_id:y.order_id,order_number:y.order_number||`ORD-${y.order_id}`,customer_name:y.customer_name||" ",customer_name_ar:y.customer_name_ar||y.customer_name||" ",item_name:y.item_name||" ",item_name_ar:y.item_name_ar||y.item_name||" ",size_caption:y.size_caption||"",production_orders:[],total_weight:0,total_rolls:0},g.push(b));let j=b.production_orders.find(N=>N.production_order_id===y.production_order_id);j||(j={production_order_id:y.production_order_id,production_order_number:y.production_order_number||`PO-${y.production_order_id}`,rolls:[],total_weight:0,rolls_count:0},b.production_orders.push(j));const w={id:y.id,roll_seq:y.roll_seq,roll_number:y.roll_number,weight_kg:parseFloat(y.weight_kg)||0,machine_id:y.machine_id,qr_code_text:y.qr_code_text};return j.rolls.push(w),j.total_weight+=w.weight_kg,j.rolls_count+=1,b.total_weight+=w.weight_kg,b.total_rolls+=1,g},[]),h=et({mutationFn:async g=>{const y=await fetch(`/api/rolls/${g}/print`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!y.ok){const b=await y.json();throw new Error(b.message||"   ")}return y.json()},onSuccess:()=>{t({title:" ",description:"  "}),n.invalidateQueries({queryKey:["/api/production/printing-queue"]}),n.invalidateQueries({queryKey:["/api/rolls"]}),a(null)},onError:g=>{t({title:"",description:g.message,variant:"destructive"}),a(null)}}),m=g=>{a(g),h.mutate(g)},v=g=>{const y=new Set(i);y.has(g)?y.delete(g):y.add(g),o(y)},p=g=>{const y=new Set(l);y.has(g)?y.delete(g):y.add(g),c(y)};return f.length===0?s.jsx(K,{children:s.jsx(G,{className:"p-6 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(xy,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"      "})]})})}):s.jsx("div",{className:"space-y-4",children:f.map(g=>s.jsx(K,{className:"border-l-4 border-l-blue-500",children:s.jsxs(Ny,{open:i.has(g.order_id),onOpenChange:()=>v(g.order_id),children:[s.jsx(Vk,{className:"w-full",children:s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[i.has(g.order_id)?s.jsx(Oi,{className:"h-5 w-5"}):s.jsx(Rl,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-right",children:[s.jsxs(oe,{className:"text-lg",children:[g.order_number," - ",s.jsx("span",{className:"font-bold text-blue-700",children:g.customer_name_ar})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[g.item_name_ar," ",g.size_caption&&`- ${g.size_caption}`]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"w-20",children:[s.jsx(va,{value:u(g),className:"h-2"}),s.jsxs("span",{className:"text-xs",children:[u(g),"%"]})]})}),s.jsxs(ge,{variant:"secondary",children:[g.total_rolls," "]}),s.jsxs(ge,{variant:"outline",children:[g.total_weight.toFixed(2)," "]})]})]})})}),s.jsx(Sy,{children:s.jsx(G,{className:"pt-0",children:s.jsx("div",{className:"space-y-3",children:g.production_orders.map(y=>s.jsx(K,{className:"bg-gray-50 border-l-2 border-l-orange-400",children:s.jsxs(Ny,{open:l.has(y.production_order_id),onOpenChange:()=>p(y.production_order_id),children:[s.jsx(Vk,{className:"w-full",children:s.jsx(le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[l.has(y.production_order_id)?s.jsx(Oi,{className:"h-4 w-4"}):s.jsx(Rl,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:y.production_order_number})]}),s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"w-16",children:[s.jsx(va,{value:d(y),className:"h-2"}),s.jsxs("span",{className:"text-xs",children:[d(y),"%"]})]})}),s.jsxs(ge,{variant:"secondary",className:"text-xs",children:[y.rolls_count," "]}),s.jsxs(ge,{variant:"outline",className:"text-xs",children:[y.total_weight.toFixed(2)," "]})]})]})})}),s.jsx(Sy,{children:s.jsx(G,{className:"pt-0",children:s.jsx("div",{className:"space-y-2",children:y.rolls.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx(h2,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:b.roll_number}),s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",b.weight_kg.toFixed(2),"  - : ",b.machine_id]})]})]}),s.jsxs(W,{size:"sm",variant:"default",onClick:j=>{j.stopPropagation(),m(b.id)},disabled:r===b.id,"data-testid":`button-print-roll-${b.id}`,children:[s.jsx(xy,{className:"h-3 w-3 ml-1"}),r===b.id?" ...":""]})]},`roll-${b.id}`))})})})]})},`production-${y.production_order_id}`))})})})]})},`order-${g.order_id}`))})}var Lne=Bi[" useInsertionEffect ".trim().toString()]||bt;function Bne({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=zne({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=qne(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function zne({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return Lne(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function qne(e){return typeof e=="function"}var Wne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Io=Wne.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Une(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}var Vne="DismissableLayer",sN="dismissableLayer.update",Kne="dismissableLayer.pointerDownOutside",Hne="dismissableLayer.focusOutside",Kk,r8=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),s8=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(r8),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=Qne(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=Xne(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Hk(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Kk)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Hk())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(sN,_),()=>document.removeEventListener(sN,_)},[]),s.jsx(Io.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});s8.displayName=Vne;var Gne="DismissableLayerBranch",Yne=x.forwardRef((e,t)=>{const n=x.useContext(r8),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Io.div,{...e,ref:a})});Yne.displayName=Gne;function Qne(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){a8(Kne,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Xne(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&a8(Hne,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Hk(){const e=new CustomEvent(sN);document.dispatchEvent(e)}function a8(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Une(a,i):a.dispatchEvent(i)}var Rj="focusScope.autoFocusOnMount",Fj="focusScope.autoFocusOnUnmount",Gk={bubbles:!1,cancelable:!0},Zne="FocusScope",i8=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Ft(a),d=Ft(i),f=x.useRef(null),h=Ve(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:Go(f.current,{select:!0})},g=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Go(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Go(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[r,l,m.paused]),x.useEffect(()=>{if(l){Qk.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Rj,Gk);l.addEventListener(Rj,u),l.dispatchEvent(y),y.defaultPrevented||(Jne(sre(o8(l)),{select:!0}),document.activeElement===p&&Go(l))}return()=>{l.removeEventListener(Rj,u),setTimeout(()=>{const y=new CustomEvent(Fj,Gk);l.addEventListener(Fj,d),l.dispatchEvent(y),y.defaultPrevented||Go(p??document.body,{select:!0}),l.removeEventListener(Fj,d),Qk.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!n&&!r||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const b=p.currentTarget,[j,w]=ere(b);j&&w?!p.shiftKey&&y===w?(p.preventDefault(),n&&Go(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&Go(w,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(Io.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});i8.displayName=Zne;function Jne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Go(r,{select:t}),document.activeElement!==n)return}function ere(e){const t=o8(e),n=Yk(t,e),r=Yk(t.reverse(),e);return[n,r]}function o8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yk(e,t){for(const n of e)if(!tre(n,{upTo:t}))return n}function tre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nre(e){return e instanceof HTMLInputElement&&"select"in e}function Go(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nre(e)&&t&&e.select()}}var Qk=rre();function rre(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xk(e,t),e.unshift(t)},remove(t){var n;e=Xk(e,t),(n=e[0])==null||n.resume()}}}function Xk(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sre(e){return e.filter(t=>t.tagName!=="A")}var are="Portal",l8=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=x.useState(!1);bt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Dp.createPortal(s.jsx(Io.div,{...r,ref:t}),o):null});l8.displayName=are;function ire(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var $0=e=>{const{present:t,children:n}=e,r=ore(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,lre(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};$0.displayName="Presence";function ore(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ire(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Wx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=Wx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Wx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Wx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Wx(e){return(e==null?void 0:e.animationName)||"none"}function lre(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lj=0;function D0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zk()),document.body.insertAdjacentElement("beforeend",e[1]??Zk()),Lj++,()=>{Lj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lj--}},[])}function Zk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gi=function(){return gi=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gi.apply(this,arguments)};function c8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function cre(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Dg="right-scroll-bar-position",Ig="width-before-scroll-bar",ure="with-scroll-bars-hidden",dre="--removed-body-scroll-bar-size";function Bj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fre(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var hre=typeof window<"u"?x.useLayoutEffect:x.useEffect,Jk=new WeakMap;function mre(e,t){var n=fre(null,function(r){return e.forEach(function(a){return Bj(a,r)})});return hre(function(){var r=Jk.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Bj(l,null)}),i.forEach(function(l){a.has(l)||Bj(l,o)})}Jk.set(n,e)},[e]),n}function pre(e){return e}function xre(e,t){t===void 0&&(t=pre);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function gre(e){e===void 0&&(e={});var t=xre(null);return t.options=gi({async:!0,ssr:!1},e),t}var u8=function(e){var t=e.sideCar,n=c8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,gi({},n))};u8.isSideCarExport=!0;function yre(e,t){return e.useMedium(t),u8}var d8=gre(),zj=function(){},I0=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:zj,onWheelCapture:zj,onTouchMoveCapture:zj}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,b=e.gapMode,j=c8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=mre([n,t]),S=gi(gi({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(w,{sideCar:d8,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:b}),o?x.cloneElement(x.Children.only(l),gi(gi({},S),{ref:N})):x.createElement(y,gi({},S,{className:c,ref:N}),l))});I0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I0.classNames={fullWidth:Ig,zeroRight:Dg};var vre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vre();return t&&e.setAttribute("nonce",t),e}function jre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _re=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bre())&&(jre(t,n),wre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Nre=function(){var e=_re();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},f8=function(){var e=Nre(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Sre={left:0,top:0,right:0,gap:0},qj=function(e){return parseInt(e||"",10)||0},Cre=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[qj(n),qj(r),qj(a)]},Pre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Sre;var t=Cre(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ere=f8(),md="data-scroll-locked",kre=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ure,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(md,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ig,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Dg," .").concat(Dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ig," .").concat(Ig,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(md,`] {
    `).concat(dre,": ").concat(l,`px;
  }
`)},eA=function(){var e=parseInt(document.body.getAttribute(md)||"0",10);return isFinite(e)?e:0},Are=function(){x.useEffect(function(){return document.body.setAttribute(md,(eA()+1).toString()),function(){var e=eA()-1;e<=0?document.body.removeAttribute(md):document.body.setAttribute(md,e.toString())}},[])},Ore=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Are();var i=x.useMemo(function(){return Pre(a)},[a]);return x.createElement(Ere,{styles:kre(i,!t,a,n?"":"!important")})},aN=!1;if(typeof window<"u")try{var Ux=Object.defineProperty({},"passive",{get:function(){return aN=!0,!0}});window.addEventListener("test",Ux,Ux),window.removeEventListener("test",Ux,Ux)}catch{aN=!1}var Au=aN?{passive:!1}:!1,Tre=function(e){return e.tagName==="TEXTAREA"},h8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Tre(e)&&n[t]==="visible")},Mre=function(e){return h8(e,"overflowY")},$re=function(e){return h8(e,"overflowX")},tA=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=m8(e,r);if(a){var i=p8(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Ire=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},m8=function(e,t){return e==="v"?Mre(t):$re(t)},p8=function(e,t){return e==="v"?Dre(t):Ire(t)},Rre=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fre=function(e,t,n,r,a){var i=Rre(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=p8(e,l),v=m[0],p=m[1],g=m[2],y=p-g-i*v;(v||y)&&m8(e,l)&&(f+=y,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Vx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nA=function(e){return[e.deltaX,e.deltaY]},rA=function(e){return e&&"current"in e?e.current:e},Lre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zre=0,Ou=[];function qre(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),a=x.useState(zre++)[0],i=x.useState(f8)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=cre([e.lockRef.current],(e.shards||[]).map(rA),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Vx(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-y[0],w="deltaY"in p?p.deltaY:b[1]-y[1],N,S=p.target,_=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var C=tA(_,S);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=tA(_,S)),!C)return!1;if(!r.current&&"changedTouches"in p&&(j||w)&&(r.current=N),!N)return!0;var E=r.current||N;return Fre(E,g,p,E==="h"?j:w,!0)},[]),c=x.useCallback(function(p){var g=p;if(!(!Ou.length||Ou[Ou.length-1]!==i)){var y="deltaY"in g?nA(g):Vx(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&Lre(N.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(rA).filter(Boolean).filter(function(N){return N.contains(g.target)}),w=j.length>0?l(g,j[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(p,g,y,b){var j={name:p,delta:g,target:y,should:b,shadowParent:Wre(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),d=x.useCallback(function(p){n.current=Vx(p),r.current=void 0},[]),f=x.useCallback(function(p){u(p.type,nA(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Vx(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Ou.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Au),document.addEventListener("touchmove",c,Au),document.addEventListener("touchstart",d,Au),function(){Ou=Ou.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Au),document.removeEventListener("touchmove",c,Au),document.removeEventListener("touchstart",d,Au)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(i,{styles:Bre(a)}):null,m?x.createElement(Ore,{gapMode:e.gapMode}):null)}function Wre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ure=yre(d8,qre);var qp=x.forwardRef(function(e,t){return x.createElement(I0,gi({},e,{ref:t,sideCar:Ure}))});qp.classNames=I0.classNames;var Vre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Tu=new WeakMap,Kx=new WeakMap,Hx={},Wj=0,x8=function(e){return e&&(e.host||x8(e.parentNode))},Kre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=x8(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Hre=function(e,t,n,r){var a=Kre(t,Array.isArray(e)?e:[e]);Hx[n]||(Hx[n]=new WeakMap);var i=Hx[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",p=(Tu.get(h)||0)+1,g=(i.get(h)||0)+1;Tu.set(h,p),i.set(h,g),o.push(h),p===1&&v&&Kx.set(h,!0),g===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Wj++,function(){o.forEach(function(f){var h=Tu.get(f)-1,m=i.get(f)-1;Tu.set(f,h),i.set(f,m),h||(Kx.has(f)||f.removeAttribute(r),Kx.delete(f)),m||f.removeAttribute(n)}),Wj--,Wj||(Tu=new WeakMap,Tu=new WeakMap,Kx=new WeakMap,Hx={})}},R0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Vre(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Hre(r,a,n,"aria-hidden")):function(){return null}},F0="Dialog",[g8,DLe]=Jn(F0),[Gre,li]=g8(F0),y8=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Bne({prop:r,defaultProp:a??!1,onChange:i,caller:F0});return s.jsx(Gre,{scope:t,triggerRef:l,contentRef:c,contentId:Qs(),titleId:Qs(),descriptionId:Qs(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};y8.displayName=F0;var v8="DialogTrigger",b8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=li(v8,n),i=Ve(t,a.triggerRef);return s.jsx(Io.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":I2(a.open),...r,ref:i,onClick:we(e.onClick,a.onOpenToggle)})});b8.displayName=v8;var $2="DialogPortal",[Yre,j8]=g8($2,{forceMount:void 0}),w8=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=li($2,t);return s.jsx(Yre,{scope:t,forceMount:n,children:x.Children.map(r,o=>s.jsx($0,{present:n||i.open,children:s.jsx(l8,{asChild:!0,container:a,children:o})}))})};w8.displayName=$2;var Cy="DialogOverlay",_8=x.forwardRef((e,t)=>{const n=j8(Cy,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=li(Cy,e.__scopeDialog);return i.modal?s.jsx($0,{present:r||i.open,children:s.jsx(Xre,{...a,ref:t})}):null});_8.displayName=Cy;var Qre=Tn("DialogOverlay.RemoveScroll"),Xre=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=li(Cy,n);return s.jsx(qp,{as:Qre,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Io.div,{"data-state":I2(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),nu="DialogContent",N8=x.forwardRef((e,t)=>{const n=j8(nu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=li(nu,e.__scopeDialog);return s.jsx($0,{present:r||i.open,children:i.modal?s.jsx(Zre,{...a,ref:t}):s.jsx(Jre,{...a,ref:t})})});N8.displayName=nu;var Zre=x.forwardRef((e,t)=>{const n=li(nu,e.__scopeDialog),r=x.useRef(null),a=Ve(t,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return R0(i)},[]),s.jsx(S8,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault())})}),Jre=x.forwardRef((e,t)=>{const n=li(nu,e.__scopeDialog),r=x.useRef(!1),a=x.useRef(!1);return s.jsx(S8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),S8=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=li(nu,n),c=x.useRef(null),u=Ve(t,c);return D0(),s.jsxs(s.Fragment,{children:[s.jsx(i8,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(s8,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":I2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ese,{titleId:l.titleId}),s.jsx(nse,{contentRef:c,descriptionId:l.descriptionId})]})]})}),D2="DialogTitle",C8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=li(D2,n);return s.jsx(Io.h2,{id:a.titleId,...r,ref:t})});C8.displayName=D2;var P8="DialogDescription",E8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=li(P8,n);return s.jsx(Io.p,{id:a.descriptionId,...r,ref:t})});E8.displayName=P8;var k8="DialogClose",A8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=li(k8,n);return s.jsx(Io.button,{type:"button",...r,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});A8.displayName=k8;function I2(e){return e?"open":"closed"}var O8="DialogTitleWarning",[ILe,T8]=ZX(O8,{contentName:nu,titleName:D2,docsSlug:"dialog"}),ese=({titleId:e})=>{const t=T8(O8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tse="DialogDescriptionWarning",nse=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T8(tse).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rse=y8,sse=b8,ase=w8,M8=_8,$8=N8,D8=C8,R2=E8,ise=A8;const ln=rse,Os=sse,ose=ase,I8=x.forwardRef(({className:e,...t},n)=>s.jsx(M8,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));I8.displayName=M8.displayName;const rn=x.forwardRef(({className:e,children:t,hideCloseButton:n=!1,...r},a)=>{const i=l=>{var c;return x.isValidElement(l)?l.type===jn||l.type===R2?!0:(c=l.props)!=null&&c.children?x.Children.toArray(l.props.children).some(i):!1:!1},o=x.Children.toArray(t).some(i);return s.jsxs(ose,{children:[s.jsx(I8,{}),s.jsxs($8,{ref:a,className:tt("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4","border bg-background p-6 shadow-lg sm:rounded-lg","duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e),...r,children:[t,!n&&s.jsxs(ise,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none","aria-label":"Close",children:[s.jsx(Pm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),!o&&s.jsx(jn,{className:"sr-only",children:" "})]})]})});rn.displayName=$8.displayName;const sn=({className:e,...t})=>s.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sn.displayName="DialogHeader";const eo=({className:e,...t})=>s.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eo.displayName="DialogFooter";const an=x.forwardRef(({className:e,...t},n)=>s.jsx(D8,{ref:n,className:tt("text-lg font-semibold leading-none tracking-tight",e),...t}));an.displayName=D8.displayName;const jn=x.forwardRef(({className:e,...t},n)=>s.jsx(R2,{ref:n,className:tt("text-sm text-muted-foreground",e),...t}));jn.displayName=R2.displayName;var Wp=e=>e.type==="checkbox",Nc=e=>e instanceof Date,os=e=>e==null;const R8=e=>typeof e=="object";var ur=e=>!os(e)&&!Array.isArray(e)&&R8(e)&&!Nc(e),F8=e=>ur(e)&&e.target?Wp(e.target)?e.target.checked:e.target.value:e,lse=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,L8=(e,t)=>e.has(lse(t)),cse=e=>{const t=e.constructor&&e.constructor.prototype;return ur(t)&&t.hasOwnProperty("isPrototypeOf")},F2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ir(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(F2&&(e instanceof Blob||r))&&(n||ur(e)))if(t=n?[]:{},!n&&!cse(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ir(e[a]));else return e;return t}var L0=e=>Array.isArray(e)?e.filter(Boolean):[],or=e=>e===void 0,He=(e,t,n)=>{if(!t||!ur(e))return n;const r=L0(t.split(/[,[\].]+?/)).reduce((a,i)=>os(a)?a:a[i],e);return or(r)||r===e?or(e[t])?n:e[t]:r},Us=e=>typeof e=="boolean",L2=e=>/^\w*$/.test(e),B8=e=>L0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),hn=(e,t,n)=>{let r=-1;const a=L2(t)?[t]:B8(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=n;if(r!==o){const u=e[l];c=ur(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Py={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z8=D.createContext(null),B0=()=>D.useContext(z8),use=e=>{const{children:t,...n}=e;return D.createElement(z8.Provider,{value:n},t)};var q8=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==qa.all&&(t._proxyFormState[o]=!r||qa.all),n&&(n[o]=!0),e[o]}});return a};function dse(e){const t=B0(),{control:n=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=D.useState(n._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=D.useRef(a);return u.current=a,D.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!r&&l({...n._formState,...d})}}),[n,r,i]),D.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),D.useMemo(()=>q8(o,n,c.current,!1),[o,n])}var bi=e=>typeof e=="string",W8=(e,t,n,r,a)=>bi(e)?(r&&t.watch.add(e),He(n,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),He(n,i))):(r&&(t.watchAll=!0),n);function fse(e){const t=B0(),{control:n=t.control,name:r,defaultValue:a,disabled:i,exact:o}=e||{},l=D.useRef(r),c=D.useRef(a);l.current=r,D.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(W8(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,i,o]);const[u,d]=D.useState(n._getWatch(r,a));return D.useEffect(()=>n._removeUnmounted()),u}function hse(e){const t=B0(),{name:n,disabled:r,control:a=t.control,shouldUnregister:i}=e,o=L8(a._names.array,n),l=fse({control:a,name:n,defaultValue:He(a._formValues,n,He(a._defaultValues,n,e.defaultValue)),exact:!0}),c=dse({control:a,name:n,exact:!0}),u=D.useRef(e),d=D.useRef(a.register(n,{...e.rules,value:l,...Us(e.disabled)?{disabled:e.disabled}:{}})),f=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!He(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!He(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!He(c.validatingFields,n)},error:{enumerable:!0,get:()=>He(c.errors,n)}}),[c,n]),h=D.useCallback(g=>d.current.onChange({target:{value:F8(g),name:n},type:Py.CHANGE}),[n]),m=D.useCallback(()=>d.current.onBlur({target:{value:He(a._formValues,n),name:n},type:Py.BLUR}),[n,a._formValues]),v=D.useCallback(g=>{const y=He(a._fields,n);y&&g&&(y._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:b=>g.setCustomValidity(b),reportValidity:()=>g.reportValidity()})},[a._fields,n]),p=D.useMemo(()=>({name:n,value:l,...Us(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:m,ref:v}),[n,r,c.disabled,h,m,v,l]);return D.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(n,{...u.current.rules,...Us(u.current.disabled)?{disabled:u.current.disabled}:{}});const y=(b,j)=>{const w=He(a._fields,b);w&&w._f&&(w._f.mount=j)};if(y(n,!0),g){const b=Ir(He(a._options.defaultValues,n));hn(a._defaultValues,n,b),or(He(a._formValues,n))&&hn(a._formValues,n,b)}return!o&&a.register(n),()=>{(o?g&&!a._state.action:g)?a.unregister(n):y(n,!1)}},[n,a,o,i]),D.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),D.useMemo(()=>({field:p,formState:c,fieldState:f}),[p,c,f])}const mse=e=>e.render(hse(e));var U8=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},Qh=e=>Array.isArray(e)?e:[e],sA=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},iN=e=>os(e)||!R8(e);function al(e,t){if(iN(e)||iN(t))return e===t;if(Nc(e)&&Nc(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const i=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Nc(i)&&Nc(o)||ur(i)&&ur(o)||Array.isArray(i)&&Array.isArray(o)?!al(i,o):i!==o)return!1}}return!0}var ss=e=>ur(e)&&!Object.keys(e).length,B2=e=>e.type==="file",Wa=e=>typeof e=="function",Ey=e=>{if(!F2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},V8=e=>e.type==="select-multiple",z2=e=>e.type==="radio",pse=e=>z2(e)||Wp(e),Uj=e=>Ey(e)&&e.isConnected;function xse(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=or(e)?r++:e[t[r++]];return e}function gse(e){for(const t in e)if(e.hasOwnProperty(t)&&!or(e[t]))return!1;return!0}function yr(e,t){const n=Array.isArray(t)?t:L2(t)?[t]:B8(t),r=n.length===1?e:xse(e,n),a=n.length-1,i=n[a];return r&&delete r[i],a!==0&&(ur(r)&&ss(r)||Array.isArray(r)&&gse(r))&&yr(e,n.slice(0,-1)),e}var K8=e=>{for(const t in e)if(Wa(e[t]))return!0;return!1};function ky(e,t={}){const n=Array.isArray(e);if(ur(e)||n)for(const r in e)Array.isArray(e[r])||ur(e[r])&&!K8(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ky(e[r],t[r])):os(e[r])||(t[r]=!0);return t}function H8(e,t,n){const r=Array.isArray(e);if(ur(e)||r)for(const a in e)Array.isArray(e[a])||ur(e[a])&&!K8(e[a])?or(t)||iN(n[a])?n[a]=Array.isArray(e[a])?ky(e[a],[]):{...ky(e[a])}:H8(e[a],os(t)?{}:t[a],n[a]):n[a]=!al(e[a],t[a]);return n}var xh=(e,t)=>H8(e,t,ky(t));const aA={value:!1,isValid:!1},iA={value:!0,isValid:!0};var G8=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!or(e[0].attributes.value)?or(e[0].value)||e[0].value===""?iA:{value:e[0].value,isValid:!0}:iA:aA}return aA},Y8=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>or(e)?e:t?e===""?NaN:e&&+e:n&&bi(e)?new Date(e):r?r(e):e;const oA={isValid:!1,value:null};var Q8=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,oA):oA;function lA(e){const t=e.ref;return B2(t)?t.files:z2(t)?Q8(e.refs).value:V8(t)?[...t.selectedOptions].map(({value:n})=>n):Wp(t)?G8(e.refs).value:Y8(or(t.value)?e.ref.value:t.value,e)}var yse=(e,t,n,r)=>{const a={};for(const i of e){const o=He(t,i);o&&hn(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},Ay=e=>e instanceof RegExp,gh=e=>or(e)?e:Ay(e)?e.source:ur(e)?Ay(e.value)?e.value.source:e.value:e,cA=e=>({isOnSubmit:!e||e===qa.onSubmit,isOnBlur:e===qa.onBlur,isOnChange:e===qa.onChange,isOnAll:e===qa.all,isOnTouch:e===qa.onTouched});const uA="AsyncFunction";var vse=e=>!!e&&!!e.validate&&!!(Wa(e.validate)&&e.validate.constructor.name===uA||ur(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===uA)),bse=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),dA=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Xh=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const i=He(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Xh(l,t))break}else if(ur(l)&&Xh(l,t))break}}};function fA(e,t,n){const r=He(e,n);if(r||L2(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=He(t,i),l=He(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var jse=(e,t,n,r)=>{n(e);const{name:a,...i}=e;return ss(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||qa.all))},wse=(e,t,n)=>!e||!t||e===t||Qh(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),_se=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,Nse=(e,t)=>!L0(He(e,t)).length&&yr(e,t),Sse=(e,t,n)=>{const r=Qh(He(e,n));return hn(r,"root",t[n]),hn(e,n,r),e},Rg=e=>bi(e);function hA(e,t,n="validate"){if(Rg(e)||Array.isArray(e)&&e.every(Rg)||Us(e)&&!e)return{type:n,message:Rg(e)?e:"",ref:t}}var Mu=e=>ur(e)&&!Ay(e)?e:{value:e,message:""},mA=async(e,t,n,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:p,valueAsNumber:g,mount:y}=e._f,b=He(n,p);if(!y||t.has(p))return{};const j=l?l[0]:o,w=O=>{a&&j.reportValidity&&(j.setCustomValidity(Us(O)?"":O||""),j.reportValidity())},N={},S=z2(o),_=Wp(o),C=S||_,E=(g||B2(o))&&or(o.value)&&or(b)||Ey(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,P=U8.bind(null,p,r,N),A=(O,I,F,B=Qi.maxLength,$=Qi.minLength)=>{const R=O?I:F;N[p]={type:O?B:$,message:R,ref:o,...P(O?B:$,R)}};if(i?!Array.isArray(b)||!b.length:c&&(!C&&(E||os(b))||Us(b)&&!b||_&&!G8(l).isValid||S&&!Q8(l).isValid)){const{value:O,message:I}=Rg(c)?{value:!!c,message:c}:Mu(c);if(O&&(N[p]={type:Qi.required,message:I,ref:j,...P(Qi.required,I)},!r))return w(I),N}if(!E&&(!os(f)||!os(h))){let O,I;const F=Mu(h),B=Mu(f);if(!os(b)&&!isNaN(b)){const $=o.valueAsNumber||b&&+b;os(F.value)||(O=$>F.value),os(B.value)||(I=$<B.value)}else{const $=o.valueAsDate||new Date(b),R=J=>new Date(new Date().toDateString()+" "+J),M=o.type=="time",T=o.type=="week";bi(F.value)&&b&&(O=M?R(b)>R(F.value):T?b>F.value:$>new Date(F.value)),bi(B.value)&&b&&(I=M?R(b)<R(B.value):T?b<B.value:$<new Date(B.value))}if((O||I)&&(A(!!O,F.message,B.message,Qi.max,Qi.min),!r))return w(N[p].message),N}if((u||d)&&!E&&(bi(b)||i&&Array.isArray(b))){const O=Mu(u),I=Mu(d),F=!os(O.value)&&b.length>+O.value,B=!os(I.value)&&b.length<+I.value;if((F||B)&&(A(F,O.message,I.message),!r))return w(N[p].message),N}if(m&&!E&&bi(b)){const{value:O,message:I}=Mu(m);if(Ay(O)&&!b.match(O)&&(N[p]={type:Qi.pattern,message:I,ref:o,...P(Qi.pattern,I)},!r))return w(I),N}if(v){if(Wa(v)){const O=await v(b,n),I=hA(O,j);if(I&&(N[p]={...I,...P(Qi.validate,I.message)},!r))return w(I.message),N}else if(ur(v)){let O={};for(const I in v){if(!ss(O)&&!r)break;const F=hA(await v[I](b,n),j,I);F&&(O={...F,...P(I,F.message)},w(F.message),r&&(N[p]=O))}if(!ss(O)&&(N[p]={ref:j,...O},!r))return N}}return w(!0),N};const Cse={mode:qa.onSubmit,reValidateMode:qa.onChange,shouldFocusError:!0};function Pse(e={}){let t={...Cse,...e},n={submitCount:0,isDirty:!1,isLoading:Wa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let a=ur(t.defaultValues)||ur(t.values)?Ir(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ir(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:sA(),state:sA()},m=cA(t.mode),v=cA(t.reValidateMode),p=t.criteriaMode===qa.all,g=z=>se=>{clearTimeout(u),u=setTimeout(z,se)},y=async z=>{if(!t.disabled&&(d.isValid||f.isValid||z)){const se=t.resolver?ss((await E()).errors):await A(r,!0);se!==n.isValid&&h.state.next({isValid:se})}},b=(z,se)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((z||Array.from(l.mount)).forEach(he=>{he&&(se?hn(n.validatingFields,he,se):yr(n.validatingFields,he))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ss(n.validatingFields)}))},j=(z,se=[],he,ze,Le=!0,De=!0)=>{if(ze&&he&&!t.disabled){if(o.action=!0,De&&Array.isArray(He(r,z))){const at=he(He(r,z),ze.argA,ze.argB);Le&&hn(r,z,at)}if(De&&Array.isArray(He(n.errors,z))){const at=he(He(n.errors,z),ze.argA,ze.argB);Le&&hn(n.errors,z,at),Nse(n.errors,z)}if((d.touchedFields||f.touchedFields)&&De&&Array.isArray(He(n.touchedFields,z))){const at=he(He(n.touchedFields,z),ze.argA,ze.argB);Le&&hn(n.touchedFields,z,at)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=xh(a,i)),h.state.next({name:z,isDirty:I(z,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else hn(i,z,se)},w=(z,se)=>{hn(n.errors,z,se),h.state.next({errors:n.errors})},N=z=>{n.errors=z,h.state.next({errors:n.errors,isValid:!1})},S=(z,se,he,ze)=>{const Le=He(r,z);if(Le){const De=He(i,z,or(he)?He(a,z):he);or(De)||ze&&ze.defaultChecked||se?hn(i,z,se?De:lA(Le._f)):$(z,De),o.mount&&y()}},_=(z,se,he,ze,Le)=>{let De=!1,at=!1;const Yt={name:z};if(!t.disabled){if(!he||ze){(d.isDirty||f.isDirty)&&(at=n.isDirty,n.isDirty=Yt.isDirty=I(),De=at!==Yt.isDirty);const dn=al(He(a,z),se);at=!!He(n.dirtyFields,z),dn?yr(n.dirtyFields,z):hn(n.dirtyFields,z,!0),Yt.dirtyFields=n.dirtyFields,De=De||(d.dirtyFields||f.dirtyFields)&&at!==!dn}if(he){const dn=He(n.touchedFields,z);dn||(hn(n.touchedFields,z,he),Yt.touchedFields=n.touchedFields,De=De||(d.touchedFields||f.touchedFields)&&dn!==he)}De&&Le&&h.state.next(Yt)}return De?Yt:{}},C=(z,se,he,ze)=>{const Le=He(n.errors,z),De=(d.isValid||f.isValid)&&Us(se)&&n.isValid!==se;if(t.delayError&&he?(c=g(()=>w(z,he)),c(t.delayError)):(clearTimeout(u),c=null,he?hn(n.errors,z,he):yr(n.errors,z)),(he?!al(Le,he):Le)||!ss(ze)||De){const at={...ze,...De&&Us(se)?{isValid:se}:{},errors:n.errors,name:z};n={...n,...at},h.state.next(at)}},E=async z=>{b(z,!0);const se=await t.resolver(i,t.context,yse(z||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(z),se},P=async z=>{const{errors:se}=await E(z);if(z)for(const he of z){const ze=He(se,he);ze?hn(n.errors,he,ze):yr(n.errors,he)}else n.errors=se;return se},A=async(z,se,he={valid:!0})=>{for(const ze in z){const Le=z[ze];if(Le){const{_f:De,...at}=Le;if(De){const Yt=l.array.has(De.name),dn=Le._f&&vse(Le._f);dn&&d.validatingFields&&b([ze],!0);const $n=await mA(Le,l.disabled,i,p,t.shouldUseNativeValidation&&!se,Yt);if(dn&&d.validatingFields&&b([ze]),$n[De.name]&&(he.valid=!1,se))break;!se&&(He($n,De.name)?Yt?Sse(n.errors,$n,De.name):hn(n.errors,De.name,$n[De.name]):yr(n.errors,De.name))}!ss(at)&&await A(at,se,he)}}return he.valid},O=()=>{for(const z of l.unMount){const se=He(r,z);se&&(se._f.refs?se._f.refs.every(he=>!Uj(he)):!Uj(se._f.ref))&&ce(z)}l.unMount=new Set},I=(z,se)=>!t.disabled&&(z&&se&&hn(i,z,se),!al(X(),a)),F=(z,se,he)=>W8(z,l,{...o.mount?i:or(se)?a:bi(z)?{[z]:se}:se},he,se),B=z=>L0(He(o.mount?i:a,z,t.shouldUnregister?He(a,z,[]):[])),$=(z,se,he={})=>{const ze=He(r,z);let Le=se;if(ze){const De=ze._f;De&&(!De.disabled&&hn(i,z,Y8(se,De)),Le=Ey(De.ref)&&os(se)?"":se,V8(De.ref)?[...De.ref.options].forEach(at=>at.selected=Le.includes(at.value)):De.refs?Wp(De.ref)?De.refs.length>1?De.refs.forEach(at=>(!at.defaultChecked||!at.disabled)&&(at.checked=Array.isArray(Le)?!!Le.find(Yt=>Yt===at.value):Le===at.value)):De.refs[0]&&(De.refs[0].checked=!!Le):De.refs.forEach(at=>at.checked=at.value===Le):B2(De.ref)?De.ref.value="":(De.ref.value=Le,De.ref.type||h.state.next({name:z,values:Ir(i)})))}(he.shouldDirty||he.shouldTouch)&&_(z,Le,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&re(z)},R=(z,se,he)=>{for(const ze in se){const Le=se[ze],De=`${z}.${ze}`,at=He(r,De);(l.array.has(z)||ur(Le)||at&&!at._f)&&!Nc(Le)?R(De,Le,he):$(De,Le,he)}},M=(z,se,he={})=>{const ze=He(r,z),Le=l.array.has(z),De=Ir(se);hn(i,z,De),Le?(h.array.next({name:z,values:Ir(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&he.shouldDirty&&h.state.next({name:z,dirtyFields:xh(a,i),isDirty:I(z,De)})):ze&&!ze._f&&!os(De)?R(z,De,he):$(z,De,he),dA(z,l)&&h.state.next({...n}),h.state.next({name:o.mount?z:void 0,values:Ir(i)})},T=async z=>{o.mount=!0;const se=z.target;let he=se.name,ze=!0;const Le=He(r,he),De=at=>{ze=Number.isNaN(at)||Nc(at)&&isNaN(at.getTime())||al(at,He(i,he,at))};if(Le){let at,Yt;const dn=se.type?lA(Le._f):F8(z),$n=z.type===Py.BLUR||z.type===Py.FOCUS_OUT,Gi=!bse(Le._f)&&!t.resolver&&!He(n.errors,he)&&!Le._f.deps||_se($n,He(n.touchedFields,he),n.isSubmitted,v,m),te=dA(he,l,$n);hn(i,he,dn),$n?(Le._f.onBlur&&Le._f.onBlur(z),c&&c(0)):Le._f.onChange&&Le._f.onChange(z);const ae=_(he,dn,$n),be=!ss(ae)||te;if(!$n&&h.state.next({name:he,type:z.type,values:Ir(i)}),Gi)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?$n&&y():$n||y()),be&&h.state.next({name:he,...te?{}:ae});if(!$n&&te&&h.state.next({...n}),t.resolver){const{errors:ve}=await E([he]);if(De(dn),ze){const ft=fA(n.errors,r,he),xt=fA(ve,r,ft.name||he);at=xt.error,he=xt.name,Yt=ss(ve)}}else b([he],!0),at=(await mA(Le,l.disabled,i,p,t.shouldUseNativeValidation))[he],b([he]),De(dn),ze&&(at?Yt=!1:(d.isValid||f.isValid)&&(Yt=await A(r,!0)));ze&&(Le._f.deps&&re(Le._f.deps),C(he,Yt,at,ae))}},J=(z,se)=>{if(He(n.errors,se)&&z.focus)return z.focus(),1},re=async(z,se={})=>{let he,ze;const Le=Qh(z);if(t.resolver){const De=await P(or(z)?z:Le);he=ss(De),ze=z?!Le.some(at=>He(De,at)):he}else z?(ze=(await Promise.all(Le.map(async De=>{const at=He(r,De);return await A(at&&at._f?{[De]:at}:at)}))).every(Boolean),!(!ze&&!n.isValid)&&y()):ze=he=await A(r);return h.state.next({...!bi(z)||(d.isValid||f.isValid)&&he!==n.isValid?{}:{name:z},...t.resolver||!z?{isValid:he}:{},errors:n.errors}),se.shouldFocus&&!ze&&Xh(r,J,z?Le:l.mount),ze},X=z=>{const se={...o.mount?i:a};return or(z)?se:bi(z)?He(se,z):z.map(he=>He(se,he))},ye=(z,se)=>({invalid:!!He((se||n).errors,z),isDirty:!!He((se||n).dirtyFields,z),error:He((se||n).errors,z),isValidating:!!He(n.validatingFields,z),isTouched:!!He((se||n).touchedFields,z)}),Re=z=>{z&&Qh(z).forEach(se=>yr(n.errors,se)),h.state.next({errors:z?n.errors:{}})},Je=(z,se,he)=>{const ze=(He(r,z,{_f:{}})._f||{}).ref,Le=He(n.errors,z)||{},{ref:De,message:at,type:Yt,...dn}=Le;hn(n.errors,z,{...dn,...se,ref:ze}),h.state.next({name:z,errors:n.errors,isValid:!1}),he&&he.shouldFocus&&ze&&ze.focus&&ze.focus()},lt=(z,se)=>Wa(z)?h.state.subscribe({next:he=>z(F(void 0,se),he)}):F(z,se,!0),je=z=>h.state.subscribe({next:se=>{wse(z.name,se.name,z.exact)&&jse(se,z.formState||d,ne,z.reRenderRoot)&&z.callback({values:{...i},...n,...se})}}).unsubscribe,Oe=z=>(o.mount=!0,f={...f,...z.formState},je({...z,formState:f})),ce=(z,se={})=>{for(const he of z?Qh(z):l.mount)l.mount.delete(he),l.array.delete(he),se.keepValue||(yr(r,he),yr(i,he)),!se.keepError&&yr(n.errors,he),!se.keepDirty&&yr(n.dirtyFields,he),!se.keepTouched&&yr(n.touchedFields,he),!se.keepIsValidating&&yr(n.validatingFields,he),!t.shouldUnregister&&!se.keepDefaultValue&&yr(a,he);h.state.next({values:Ir(i)}),h.state.next({...n,...se.keepDirty?{isDirty:I()}:{}}),!se.keepIsValid&&y()},_e=({disabled:z,name:se})=>{(Us(z)&&o.mount||z||l.disabled.has(se))&&(z?l.disabled.add(se):l.disabled.delete(se))},H=(z,se={})=>{let he=He(r,z);const ze=Us(se.disabled)||Us(t.disabled);return hn(r,z,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:z}},name:z,mount:!0,...se}}),l.mount.add(z),he?_e({disabled:Us(se.disabled)?se.disabled:t.disabled,name:z}):S(z,!0,se.value),{...ze?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:gh(se.min),max:gh(se.max),minLength:gh(se.minLength),maxLength:gh(se.maxLength),pattern:gh(se.pattern)}:{},name:z,onChange:T,onBlur:T,ref:Le=>{if(Le){H(z,se),he=He(r,z);const De=or(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,at=pse(De),Yt=he._f.refs||[];if(at?Yt.find(dn=>dn===De):De===he._f.ref)return;hn(r,z,{_f:{...he._f,...at?{refs:[...Yt.filter(Uj),De,...Array.isArray(He(a,z))?[{}]:[]],ref:{type:De.type,name:z}}:{ref:De}}}),S(z,!1,void 0,De)}else he=He(r,z,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(L8(l.array,z)&&o.action)&&l.unMount.add(z)}}},Y=()=>t.shouldFocusError&&Xh(r,J,l.mount),L=z=>{Us(z)&&(h.state.next({disabled:z}),Xh(r,(se,he)=>{const ze=He(r,he);ze&&(se.disabled=ze._f.disabled||z,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(Le=>{Le.disabled=ze._f.disabled||z}))},0,!1))},Z=(z,se)=>async he=>{let ze;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let Le=Ir(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:at}=await E();n.errors=De,Le=at}else await A(r);if(l.disabled.size)for(const De of l.disabled)hn(Le,De,void 0);if(yr(n.errors,"root"),ss(n.errors)){h.state.next({errors:{}});try{await z(Le,he)}catch(De){ze=De}}else se&&await se({...n.errors},he),Y(),setTimeout(Y);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ss(n.errors)&&!ze,submitCount:n.submitCount+1,errors:n.errors}),ze)throw ze},Be=(z,se={})=>{He(r,z)&&(or(se.defaultValue)?M(z,Ir(He(a,z))):(M(z,se.defaultValue),hn(a,z,Ir(se.defaultValue))),se.keepTouched||yr(n.touchedFields,z),se.keepDirty||(yr(n.dirtyFields,z),n.isDirty=se.defaultValue?I(z,Ir(He(a,z))):I()),se.keepError||(yr(n.errors,z),d.isValid&&y()),h.state.next({...n}))},Ke=(z,se={})=>{const he=z?Ir(z):a,ze=Ir(he),Le=ss(z),De=Le?a:ze;if(se.keepDefaultValues||(a=he),!se.keepValues){if(se.keepDirtyValues){const at=new Set([...l.mount,...Object.keys(xh(a,i))]);for(const Yt of Array.from(at))He(n.dirtyFields,Yt)?hn(De,Yt,He(i,Yt)):M(Yt,He(De,Yt))}else{if(F2&&or(z))for(const at of l.mount){const Yt=He(r,at);if(Yt&&Yt._f){const dn=Array.isArray(Yt._f.refs)?Yt._f.refs[0]:Yt._f.ref;if(Ey(dn)){const $n=dn.closest("form");if($n){$n.reset();break}}}}for(const at of l.mount)M(at,He(De,at))}i=Ir(De),h.array.next({values:{...De}}),h.state.next({values:{...De}})}l={mount:se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!se.keepIsValid||!!se.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Le?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!al(z,a)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Le?{}:se.keepDirtyValues?se.keepDefaultValues&&i?xh(a,i):n.dirtyFields:se.keepDefaultValues&&z?xh(a,z):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},st=(z,se)=>Ke(Wa(z)?z(i):z,se),$t=(z,se={})=>{const he=He(r,z),ze=he&&he._f;if(ze){const Le=ze.refs?ze.refs[0]:ze.ref;Le.focus&&(Le.focus(),se.shouldSelect&&Wa(Le.select)&&Le.select())}},ne=z=>{n={...n,...z}},kt={control:{register:H,unregister:ce,getFieldState:ye,handleSubmit:Z,setError:Je,_subscribe:je,_runSchema:E,_getWatch:F,_getDirty:I,_setValid:y,_setFieldArray:j,_setDisabledField:_e,_setErrors:N,_getFieldArray:B,_reset:Ke,_resetDefaultValues:()=>Wa(t.defaultValues)&&t.defaultValues().then(z=>{st(z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:L,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(z){o=z},get _defaultValues(){return a},get _names(){return l},set _names(z){l=z},get _formState(){return n},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:Oe,trigger:re,register:H,handleSubmit:Z,watch:lt,setValue:M,getValues:X,reset:st,resetField:Be,clearErrors:Re,unregister:ce,setError:Je,setFocus:$t,getFieldState:ye};return{...kt,formControl:kt}}function Sr(e={}){const t=D.useRef(void 0),n=D.useRef(void 0),[r,a]=D.useState({isDirty:!1,isValidating:!1,isLoading:Wa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Wa(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Pse(e),formState:r},e.formControl&&e.defaultValues&&!Wa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,D.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),D.useEffect(()=>{e.values&&!al(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),D.useEffect(()=>{e.errors&&!ss(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=q8(r,i),t.current}var Ese=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kse=Ese.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Ase="Label",X8=x.forwardRef((e,t)=>s.jsx(kse.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));X8.displayName=Ase;var Z8=X8;const Ose=Lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=x.forwardRef(({className:e,...t},n)=>s.jsx(Z8,{ref:n,className:tt(Ose(),e),...t}));de.displayName=Z8.displayName;const Cr=use,J8=x.createContext({}),Ee=({...e})=>s.jsx(J8.Provider,{value:{name:e.name},children:s.jsx(mse,{...e})}),z0=()=>{const e=x.useContext(J8),t=x.useContext(eB),{getFieldState:n,formState:r}=B0(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},eB=x.createContext({}),Se=x.forwardRef(({className:e,...t},n)=>{const r=x.useId();return s.jsx(eB.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:tt("space-y-2",e),...t})})});Se.displayName="FormItem";const Ce=x.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=z0();return s.jsx(de,{ref:n,className:tt(r&&"text-destructive",e),htmlFor:a,...t})});Ce.displayName="FormLabel";const Pe=x.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:i}=z0();return s.jsx(GF,{ref:t,id:r,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});Pe.displayName="FormControl";const Tse=x.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=z0();return s.jsx("p",{ref:n,id:r,className:tt("text-sm text-muted-foreground",e),...t})});Tse.displayName="FormDescription";const ke=x.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:i}=z0(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:r,id:i,className:tt("text-sm font-medium text-destructive",e),...n,children:o}):null});ke.displayName="FormMessage";const fe=x.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fe.displayName="Input";const pA=(e,t,n)=>{if(e&&"reportValidity"in e){const r=He(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},tB=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?pA(r.ref,n,e):r.refs&&r.refs.forEach(a=>pA(a,n,e))}},Mse=(e,t)=>{t.shouldUseNativeValidation&&tB(e,t);const n={};for(const r in e){const a=He(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if($se(t.names||Object.keys(e),r)){const o=Object.assign({},He(n,r));hn(o,"root",i),hn(n,r,o)}else hn(n,r,i)}return n},$se=(e,t)=>e.some(n=>n.startsWith(t+"."));var Dse=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=U8(o,t,n,a,u?[].concat(u,r.message):r.message)}e.shift()}return n},Qr=function(e,t,n){return n===void 0&&(n={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&tB({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Mse(Dse(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},en;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(en||(en={}));var oN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(oN||(oN={}));const rt=en.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),io=e=>{switch(typeof e){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return isNaN(e)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(e)?rt.array:e===null?rt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?rt.promise:typeof Map<"u"&&e instanceof Map?rt.map:typeof Set<"u"&&e instanceof Set?rt.set:typeof Date<"u"&&e instanceof Date?rt.date:rt.object;default:return rt.unknown}},Te=en.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ise=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Zs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),r}static assert(t){if(!(t instanceof Zs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,en.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Zs.create=e=>new Zs(e);const Kd=(e,t)=>{let n;switch(e.code){case Te.invalid_type:e.received===rt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,en.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:n=`Unrecognized key(s) in object: ${en.joinValues(e.keys,", ")}`;break;case Te.invalid_union:n="Invalid input";break;case Te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${en.joinValues(e.options)}`;break;case Te.invalid_enum_value:n=`Invalid enum value. Expected ${en.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:n="Invalid function arguments";break;case Te.invalid_return_type:n="Invalid function return type";break;case Te.invalid_date:n="Invalid date";break;case Te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:en.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Te.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Te.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Te.custom:n="Invalid input";break;case Te.invalid_intersection_types:n="Intersection results could not be merged";break;case Te.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:n="Number must be finite";break;default:n=t.defaultError,en.assertNever(e)}return{message:n}};let nB=Kd;function Rse(e){nB=e}function Oy(){return nB}const Ty=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},Fse=[];function Qe(e,t){const n=Oy(),r=Ty({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Kd?void 0:Kd].filter(a=>!!a)});e.common.issues.push(r)}class Jr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Et;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return Jr.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Et;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Et=Object.freeze({status:"aborted"}),Ju=e=>({status:"dirty",value:e}),xs=e=>({status:"valid",value:e}),lN=e=>e.status==="aborted",cN=e=>e.status==="dirty",ru=e=>e.status==="valid",Am=e=>typeof Promise<"u"&&e instanceof Promise;function My(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function rB(e,t,n,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var dt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(dt||(dt={}));var $h,Dh;class Ii{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xA=(e,t)=>{if(ru(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Zs(e.common.issues);return this._error=n,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Kt{get description(){return this._def.description}_getType(t){return io(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:io(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Jr,ctx:{common:t.parent.common,data:t.data,parsedType:io(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Am(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:io(t)},i=this._parseSync({data:t,path:a.path,parent:a});return xA(a,i)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:io(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return ru(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>ru(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:io(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(Am(a)?a:Promise.resolve(a));return xA(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Te.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new ri({schema:this,typeName:Ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ei.create(this,this._def)}nullable(){return Kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Gd.create(this,this._def)}or(t){return $m.create([this,t],this._def)}and(t){return Dm.create(this,t,this._def)}transform(t){return new ri({...zt(this._def),schema:this,typeName:Ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Bm({...zt(this._def),innerType:this,defaultValue:n,typeName:Ct.ZodDefault})}brand(){return new q2({typeName:Ct.ZodBranded,type:this,...zt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new zm({...zt(this._def),innerType:this,catchValue:n,typeName:Ct.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Up.create(this,t)}readonly(){return qm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lse=/^c[^\s-]{8,}$/i,Bse=/^[0-9a-z]+$/,zse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wse=/^[a-z0-9_-]{21}$/i,Use=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vj;const Gse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Zse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eae=new RegExp(`^${sB}$`);function aB(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function tae(e){return new RegExp(`^${aB(e)}$`)}function iB(e){let t=`${sB}T${aB(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function nae(e,t){return!!((t==="v4"||!t)&&Gse.test(e)||(t==="v6"||!t)&&Qse.test(e))}function rae(e,t){if(!Use.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function sae(e,t){return!!((t==="v4"||!t)&&Yse.test(e)||(t==="v6"||!t)&&Xse.test(e))}class Va extends Kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==rt.string){const i=this._getOrReturnCtx(t);return Qe(i,{code:Te.invalid_type,expected:rt.string,received:i.parsedType}),Et}const r=new Jr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Qe(a,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Qe(a,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Kse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"email",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Vj||(Vj=new RegExp(Hse,"u")),Vj.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"emoji",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")qse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"uuid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Wse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"nanoid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Lse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"cuid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Bse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"cuid2",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")zse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"ulid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Qe(a,{validation:"url",code:Te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"regex",code:Te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?iB(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?eae.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?tae(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Vse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"duration",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?nae(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"ip",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?rae(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"jwt",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?sae(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"cidr",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Zse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"base64",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Jse.test(t.data)||(a=this._getOrReturnCtx(t,a),Qe(a,{validation:"base64url",code:Te.invalid_string,message:i.message}),r.dirty()):en.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:Te.invalid_string,...dt.errToObj(r)})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...dt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...dt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...dt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...dt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...dt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...dt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...dt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...dt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...dt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...dt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...dt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...dt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...dt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...dt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...dt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...dt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...dt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...dt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...dt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...dt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...dt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...dt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...dt.errToObj(n)})}nonempty(t){return this.min(1,dt.errToObj(t))}trim(){return new Va({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Va.create=e=>{var t;return new Va({checks:[],typeName:Ct.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zt(e)})};function aae(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Wl extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==rt.number){const i=this._getOrReturnCtx(t);return Qe(i,{code:Te.invalid_type,expected:rt.number,received:i.parsedType}),Et}let r;const a=new Jr;for(const i of this._def.checks)i.kind==="int"?en.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?aae(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.not_finite,message:i.message}),a.dirty()):en.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,a){return new Wl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(a)}]})}_addCheck(t){return new Wl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:dt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:dt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&en.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Wl.create=e=>new Wl({checks:[],typeName:Ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Ul extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==rt.bigint)return this._getInvalidInput(t);let r;const a=new Jr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Qe(r,{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):en.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Qe(n,{code:Te.invalid_type,expected:rt.bigint,received:n.parsedType}),Et}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,a){return new Ul({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(a)}]})}_addCheck(t){return new Ul({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ul.create=e=>{var t;return new Ul({checks:[],typeName:Ct.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zt(e)})};class Om extends Kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==rt.boolean){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.boolean,received:r.parsedType}),Et}return xs(t.data)}}Om.create=e=>new Om({typeName:Ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class su extends Kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==rt.date){const i=this._getOrReturnCtx(t);return Qe(i,{code:Te.invalid_type,expected:rt.date,received:i.parsedType}),Et}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Qe(i,{code:Te.invalid_date}),Et}const r=new Jr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Qe(a,{code:Te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):en.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new su({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:dt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:dt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}su.create=e=>new su({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ct.ZodDate,...zt(e)});class $y extends Kt{_parse(t){if(this._getType(t)!==rt.symbol){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.symbol,received:r.parsedType}),Et}return xs(t.data)}}$y.create=e=>new $y({typeName:Ct.ZodSymbol,...zt(e)});class Tm extends Kt{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.undefined,received:r.parsedType}),Et}return xs(t.data)}}Tm.create=e=>new Tm({typeName:Ct.ZodUndefined,...zt(e)});class Mm extends Kt{_parse(t){if(this._getType(t)!==rt.null){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.null,received:r.parsedType}),Et}return xs(t.data)}}Mm.create=e=>new Mm({typeName:Ct.ZodNull,...zt(e)});class Hd extends Kt{constructor(){super(...arguments),this._any=!0}_parse(t){return xs(t.data)}}Hd.create=e=>new Hd({typeName:Ct.ZodAny,...zt(e)});class Wc extends Kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xs(t.data)}}Wc.create=e=>new Wc({typeName:Ct.ZodUnknown,...zt(e)});class Ao extends Kt{_parse(t){const n=this._getOrReturnCtx(t);return Qe(n,{code:Te.invalid_type,expected:rt.never,received:n.parsedType}),Et}}Ao.create=e=>new Ao({typeName:Ct.ZodNever,...zt(e)});class Dy extends Kt{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.void,received:r.parsedType}),Et}return xs(t.data)}}Dy.create=e=>new Dy({typeName:Ct.ZodVoid,...zt(e)});class Qa extends Kt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==rt.array)return Qe(n,{code:Te.invalid_type,expected:rt.array,received:n.parsedType}),Et;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(Qe(n,{code:o?Te.too_big:Te.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Qe(n,{code:Te.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Qe(n,{code:Te.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new Ii(n,o,n.path,l)))).then(o=>Jr.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new Ii(n,o,n.path,l)));return Jr.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Qa({...this._def,minLength:{value:t,message:dt.toString(n)}})}max(t,n){return new Qa({...this._def,maxLength:{value:t,message:dt.toString(n)}})}length(t,n){return new Qa({...this._def,exactLength:{value:t,message:dt.toString(n)}})}nonempty(t){return this.min(1,t)}}Qa.create=(e,t)=>new Qa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ct.ZodArray,...zt(t)});function Bu(e){if(e instanceof Hn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ei.create(Bu(r))}return new Hn({...e._def,shape:()=>t})}else return e instanceof Qa?new Qa({...e._def,type:Bu(e.element)}):e instanceof Ei?Ei.create(Bu(e.unwrap())):e instanceof Kl?Kl.create(Bu(e.unwrap())):e instanceof Ri?Ri.create(e.items.map(t=>Bu(t))):e}class Hn extends Kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=en.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==rt.object){const u=this._getOrReturnCtx(t);return Qe(u,{code:Te.invalid_type,expected:rt.object,received:u.parsedType}),Et}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ao&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ii(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ao){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Qe(a,{code:Te.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ii(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Jr.mergeObjectSync(r,u)):Jr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return dt.errToObj,new Hn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=dt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Hn({...this._def,unknownKeys:"strip"})}passthrough(){return new Hn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Hn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Hn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ct.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Hn({...this._def,catchall:t})}pick(t){const n={};return en.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Hn({...this._def,shape:()=>n})}omit(t){const n={};return en.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Hn({...this._def,shape:()=>n})}deepPartial(){return Bu(this)}partial(t){const n={};return en.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Hn({...this._def,shape:()=>n})}required(t){const n={};return en.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ei;)i=i._def.innerType;n[r]=i}}),new Hn({...this._def,shape:()=>n})}keyof(){return oB(en.objectKeys(this.shape))}}Hn.create=(e,t)=>new Hn({shape:()=>e,unknownKeys:"strip",catchall:Ao.create(),typeName:Ct.ZodObject,...zt(t)});Hn.strictCreate=(e,t)=>new Hn({shape:()=>e,unknownKeys:"strict",catchall:Ao.create(),typeName:Ct.ZodObject,...zt(t)});Hn.lazycreate=(e,t)=>new Hn({shape:e,unknownKeys:"strip",catchall:Ao.create(),typeName:Ct.ZodObject,...zt(t)});class $m extends Kt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Zs(l.ctx.common.issues));return Qe(n,{code:Te.invalid_union,unionErrors:o}),Et}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Zs(c));return Qe(n,{code:Te.invalid_union,unionErrors:l}),Et}}get options(){return this._def.options}}$m.create=(e,t)=>new $m({options:e,typeName:Ct.ZodUnion,...zt(t)});const to=e=>e instanceof Rm?to(e.schema):e instanceof ri?to(e.innerType()):e instanceof Fm?[e.value]:e instanceof Vl?e.options:e instanceof Lm?en.objectValues(e.enum):e instanceof Bm?to(e._def.innerType):e instanceof Tm?[void 0]:e instanceof Mm?[null]:e instanceof Ei?[void 0,...to(e.unwrap())]:e instanceof Kl?[null,...to(e.unwrap())]:e instanceof q2||e instanceof qm?to(e.unwrap()):e instanceof zm?to(e._def.innerType):[];class q0 extends Kt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.object)return Qe(n,{code:Te.invalid_type,expected:rt.object,received:n.parsedType}),Et;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Qe(n,{code:Te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Et)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const o=to(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new q0({typeName:Ct.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...zt(r)})}}function uN(e,t){const n=io(e),r=io(t);if(e===t)return{valid:!0,data:e};if(n===rt.object&&r===rt.object){const a=en.objectKeys(t),i=en.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=uN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===rt.array&&r===rt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=uN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===rt.date&&r===rt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Dm extends Kt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(lN(i)||lN(o))return Et;const l=uN(i.value,o.value);return l.valid?((cN(i)||cN(o))&&n.dirty(),{status:n.value,value:l.data}):(Qe(r,{code:Te.invalid_intersection_types}),Et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Dm.create=(e,t,n)=>new Dm({left:e,right:t,typeName:Ct.ZodIntersection,...zt(n)});class Ri extends Kt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.array)return Qe(r,{code:Te.invalid_type,expected:rt.array,received:r.parsedType}),Et;if(r.data.length<this._def.items.length)return Qe(r,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Et;!this._def.rest&&r.data.length>this._def.items.length&&(Qe(r,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ii(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Jr.mergeArray(n,o)):Jr.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ri({...this._def,rest:t})}}Ri.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ri({items:e,typeName:Ct.ZodTuple,rest:null,...zt(t)})};class Im extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.object)return Qe(r,{code:Te.invalid_type,expected:rt.object,received:r.parsedType}),Et;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)a.push({key:i._parse(new Ii(r,l,r.path,l)),value:o._parse(new Ii(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Jr.mergeObjectAsync(n,a):Jr.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Kt?new Im({keyType:t,valueType:n,typeName:Ct.ZodRecord,...zt(r)}):new Im({keyType:Va.create(),valueType:t,typeName:Ct.ZodRecord,...zt(n)})}}class Iy extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.map)return Qe(r,{code:Te.invalid_type,expected:rt.map,received:r.parsedType}),Et;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:a._parse(new Ii(r,l,r.path,[u,"key"])),value:i._parse(new Ii(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Iy.create=(e,t,n)=>new Iy({valueType:t,keyType:e,typeName:Ct.ZodMap,...zt(n)});class au extends Kt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.set)return Qe(r,{code:Te.invalid_type,expected:rt.set,received:r.parsedType}),Et;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Qe(r,{code:Te.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Qe(r,{code:Te.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Et;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Ii(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new au({...this._def,minSize:{value:t,message:dt.toString(n)}})}max(t,n){return new au({...this._def,maxSize:{value:t,message:dt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}au.create=(e,t)=>new au({valueType:e,minSize:null,maxSize:null,typeName:Ct.ZodSet,...zt(t)});class pd extends Kt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.function)return Qe(n,{code:Te.invalid_type,expected:rt.function,received:n.parsedType}),Et;function r(l,c){return Ty({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Oy(),Kd].filter(u=>!!u),issueData:{code:Te.invalid_arguments,argumentsError:c}})}function a(l,c){return Ty({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Oy(),Kd].filter(u=>!!u),issueData:{code:Te.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Gd){const l=this;return xs(async function(...c){const u=new Zs([]),d=await l._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(r(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const l=this;return xs(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Zs([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Zs([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pd({...this._def,args:Ri.create(t).rest(Wc.create())})}returns(t){return new pd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new pd({args:t||Ri.create([]).rest(Wc.create()),returns:n||Wc.create(),typeName:Ct.ZodFunction,...zt(r)})}}class Rm extends Kt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rm.create=(e,t)=>new Rm({getter:e,typeName:Ct.ZodLazy,...zt(t)});class Fm extends Kt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Qe(n,{received:n.data,code:Te.invalid_literal,expected:this._def.value}),Et}return{status:"valid",value:t.data}}get value(){return this._def.value}}Fm.create=(e,t)=>new Fm({value:e,typeName:Ct.ZodLiteral,...zt(t)});function oB(e,t){return new Vl({values:e,typeName:Ct.ZodEnum,...zt(t)})}class Vl extends Kt{constructor(){super(...arguments),$h.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Qe(n,{expected:en.joinValues(r),received:n.parsedType,code:Te.invalid_type}),Et}if(My(this,$h)||rB(this,$h,new Set(this._def.values)),!My(this,$h).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Qe(n,{received:n.data,code:Te.invalid_enum_value,options:r}),Et}return xs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Vl.create(t,{...this._def,...n})}exclude(t,n=this._def){return Vl.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}$h=new WeakMap;Vl.create=oB;class Lm extends Kt{constructor(){super(...arguments),Dh.set(this,void 0)}_parse(t){const n=en.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const a=en.objectValues(n);return Qe(r,{expected:en.joinValues(a),received:r.parsedType,code:Te.invalid_type}),Et}if(My(this,Dh)||rB(this,Dh,new Set(en.getValidEnumValues(this._def.values))),!My(this,Dh).has(t.data)){const a=en.objectValues(n);return Qe(r,{received:r.data,code:Te.invalid_enum_value,options:a}),Et}return xs(t.data)}get enum(){return this._def.values}}Dh=new WeakMap;Lm.create=(e,t)=>new Lm({values:e,typeName:Ct.ZodNativeEnum,...zt(t)});class Gd extends Kt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.promise&&n.common.async===!1)return Qe(n,{code:Te.invalid_type,expected:rt.promise,received:n.parsedType}),Et;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return xs(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gd.create=(e,t)=>new Gd({type:e,typeName:Ct.ZodPromise,...zt(t)});class ri extends Kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Qe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Et;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Et:c.status==="dirty"||n.value==="dirty"?Ju(c.value):c});{if(n.value==="aborted")return Et;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Et:l.status==="dirty"||n.value==="dirty"?Ju(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Et:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Et:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ru(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ru(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);en.assertNever(a)}}ri.create=(e,t,n)=>new ri({schema:e,typeName:Ct.ZodEffects,effect:t,...zt(n)});ri.createWithPreprocess=(e,t,n)=>new ri({schema:t,effect:{type:"preprocess",transform:e},typeName:Ct.ZodEffects,...zt(n)});class Ei extends Kt{_parse(t){return this._getType(t)===rt.undefined?xs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ei.create=(e,t)=>new Ei({innerType:e,typeName:Ct.ZodOptional,...zt(t)});class Kl extends Kt{_parse(t){return this._getType(t)===rt.null?xs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kl.create=(e,t)=>new Kl({innerType:e,typeName:Ct.ZodNullable,...zt(t)});class Bm extends Kt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bm.create=(e,t)=>new Bm({innerType:e,typeName:Ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class zm extends Kt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Am(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zs(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Zs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zm.create=(e,t)=>new zm({innerType:e,typeName:Ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class Ry extends Kt{_parse(t){if(this._getType(t)!==rt.nan){const r=this._getOrReturnCtx(t);return Qe(r,{code:Te.invalid_type,expected:rt.nan,received:r.parsedType}),Et}return{status:"valid",value:t.data}}}Ry.create=e=>new Ry({typeName:Ct.ZodNaN,...zt(e)});const iae=Symbol("zod_brand");class q2 extends Kt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Up extends Kt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Et:i.status==="dirty"?(n.dirty(),Ju(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Et:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Up({in:t,out:n,typeName:Ct.ZodPipeline})}}class qm extends Kt{_parse(t){const n=this._def.innerType._parse(t),r=a=>(ru(a)&&(a.value=Object.freeze(a.value)),a);return Am(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}qm.create=(e,t)=>new qm({innerType:e,typeName:Ct.ZodReadonly,...zt(t)});function gA(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function lB(e,t={},n){return e?Hd.create().superRefine((r,a)=>{var i,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=gA(t,r),h=(d=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=gA(t,r),u=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Hd.create()}const oae={object:Hn.lazycreate};var Ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ct||(Ct={}));const lae=(e,t={message:`Input not instance of ${e.name}`})=>lB(n=>n instanceof e,t),cB=Va.create,uB=Wl.create,cae=Ry.create,uae=Ul.create,dB=Om.create,dae=su.create,fae=$y.create,hae=Tm.create,mae=Mm.create,pae=Hd.create,xae=Wc.create,gae=Ao.create,yae=Dy.create,vae=Qa.create,bae=Hn.create,jae=Hn.strictCreate,wae=$m.create,_ae=q0.create,Nae=Dm.create,Sae=Ri.create,Cae=Im.create,Pae=Iy.create,Eae=au.create,kae=pd.create,Aae=Rm.create,Oae=Fm.create,Tae=Vl.create,Mae=Lm.create,$ae=Gd.create,yA=ri.create,Dae=Ei.create,Iae=Kl.create,Rae=ri.createWithPreprocess,Fae=Up.create,Lae=()=>cB().optional(),Bae=()=>uB().optional(),zae=()=>dB().optional(),qae={string:e=>Va.create({...e,coerce:!0}),number:e=>Wl.create({...e,coerce:!0}),boolean:e=>Om.create({...e,coerce:!0}),bigint:e=>Ul.create({...e,coerce:!0}),date:e=>su.create({...e,coerce:!0})},Wae=Et;var ie=Object.freeze({__proto__:null,defaultErrorMap:Kd,setErrorMap:Rse,getErrorMap:Oy,makeIssue:Ty,EMPTY_PATH:Fse,addIssueToContext:Qe,ParseStatus:Jr,INVALID:Et,DIRTY:Ju,OK:xs,isAborted:lN,isDirty:cN,isValid:ru,isAsync:Am,get util(){return en},get objectUtil(){return oN},ZodParsedType:rt,getParsedType:io,ZodType:Kt,datetimeRegex:iB,ZodString:Va,ZodNumber:Wl,ZodBigInt:Ul,ZodBoolean:Om,ZodDate:su,ZodSymbol:$y,ZodUndefined:Tm,ZodNull:Mm,ZodAny:Hd,ZodUnknown:Wc,ZodNever:Ao,ZodVoid:Dy,ZodArray:Qa,ZodObject:Hn,ZodUnion:$m,ZodDiscriminatedUnion:q0,ZodIntersection:Dm,ZodTuple:Ri,ZodRecord:Im,ZodMap:Iy,ZodSet:au,ZodFunction:pd,ZodLazy:Rm,ZodLiteral:Fm,ZodEnum:Vl,ZodNativeEnum:Lm,ZodPromise:Gd,ZodEffects:ri,ZodTransformer:ri,ZodOptional:Ei,ZodNullable:Kl,ZodDefault:Bm,ZodCatch:zm,ZodNaN:Ry,BRAND:iae,ZodBranded:q2,ZodPipeline:Up,ZodReadonly:qm,custom:lB,Schema:Kt,ZodSchema:Kt,late:oae,get ZodFirstPartyTypeKind(){return Ct},coerce:qae,any:pae,array:vae,bigint:uae,boolean:dB,date:dae,discriminatedUnion:_ae,effect:yA,enum:Tae,function:kae,instanceof:lae,intersection:Nae,lazy:Aae,literal:Oae,map:Pae,nan:cae,nativeEnum:Mae,never:gae,null:mae,nullable:Iae,number:uB,object:bae,oboolean:zae,onumber:Bae,optional:Dae,ostring:Lae,pipeline:Fae,preprocess:Rae,promise:$ae,record:Cae,set:Eae,strictObject:jae,string:cB,symbol:fae,transformer:yA,tuple:Sae,undefined:hae,union:wae,unknown:xae,void:yae,NEVER:Wae,ZodIssueCode:Te,quotelessJson:Ise,ZodError:Zs});const Uae=ie.object({cut_weight_kg:ie.coerce.number().positive("       "),pieces_count:ie.coerce.number().positive("       ").optional()});function Vae({items:e}){const{toast:t}=Sn(),n=qn(),[r,a]=x.useState({}),[i,o]=x.useState({}),[l,c]=x.useState(null),[u,d]=x.useState(!1),f=Sr({resolver:Qr(Uae),defaultValues:{cut_weight_kg:0,pieces_count:1}}),h=et({mutationFn:async w=>{const N=await fetch("/api/cuts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!N.ok){const S=await N.json();throw new Error(S.message||"   ")}return N.json()},onSuccess:()=>{t({title:" ",description:"    "}),n.invalidateQueries({queryKey:["/api/production/grouped-cutting-queue"]}),n.invalidateQueries({queryKey:["/api/production/cutting-queue"]}),n.invalidateQueries({queryKey:["/api/rolls"]}),d(!1),c(null),f.reset()},onError:w=>{t({title:"",description:w.message,variant:"destructive"})}}),m=w=>{l&&h.mutate({roll_id:l.id,cut_weight_kg:w.cut_weight_kg,pieces_count:w.pieces_count})},v=w=>{c(w),f.setValue("cut_weight_kg",parseFloat(w.weight_kg)||0),d(!0)},p=w=>{a(N=>({...N,[w]:!N[w]}))},g=w=>{o(N=>({...N,[w]:!N[w]}))},y=(w,N)=>w-N,b=w=>{if(!w.production_orders||w.production_orders.length===0)return 0;let N=0,S=0;return w.production_orders.forEach(_=>{_.rolls&&_.rolls.length>0&&(N+=_.rolls.length)}),N>0?Math.round(S/N*100):0},j=w=>{if(!w.rolls||w.rolls.length===0)return 0;const N=w.rolls.length;return Math.round(0/N*100)};return e.length===0?s.jsx(K,{children:s.jsx(G,{className:"p-6 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx(cr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"    "})]})})}):s.jsxs("div",{className:"space-y-4",children:[e.map(w=>{var N,S;return s.jsxs(K,{className:"border-l-4 border-l-blue-500",children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qn,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsxs(oe,{className:"text-lg",children:[" : ",w.order_number]}),s.jsxs("p",{className:"text-base font-bold text-blue-700",children:[": ",w.customer_name_ar||w.customer_name||" "]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"w-20",children:[s.jsx(va,{value:b(w),className:"h-2"}),s.jsxs("span",{className:"text-xs",children:[b(w),"%"]})]})}),s.jsxs(ge,{variant:"outline",children:[((N=w.production_orders)==null?void 0:N.reduce((_,C)=>{var E;return _+(((E=C.rolls)==null?void 0:E.length)||0)},0))||0," "]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>p(w.id),"data-testid":`button-expand-order-${w.id}`,children:r[w.id]?s.jsx(py,{className:"h-4 w-4"}):s.jsx(Oi,{className:"h-4 w-4"})})]})]})}),s.jsx(Ny,{open:r[w.id],children:s.jsx(Sy,{children:s.jsx(G,{className:"pt-0",children:s.jsx("div",{className:"space-y-4",children:(S=w.production_orders)==null?void 0:S.map(_=>{var C,E;return s.jsxs(K,{className:"bg-gray-50 border-l-2 border-l-green-400",children:[s.jsx(le,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-base",children:_.production_order_number}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.item_name_ar||_.item_name||" "}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-1 mt-2 text-xs",children:[_.size_caption&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:_.size_caption})]}),_.thickness&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:_.thickness})]}),_.raw_material&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:_.raw_material})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"w-16",children:[s.jsx(va,{value:j(_),className:"h-2"}),s.jsxs("span",{className:"text-xs",children:[j(_),"%"]})]})}),s.jsxs(ge,{variant:"secondary",children:[((C=_.rolls)==null?void 0:C.length)||0," "]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>g(_.id),"data-testid":`button-expand-production-${_.id}`,children:i[_.id]?s.jsx(py,{className:"h-4 w-4"}):s.jsx(Oi,{className:"h-4 w-4"})})]})]})}),s.jsx(Ny,{open:i[_.id],children:s.jsx(Sy,{children:s.jsx(G,{className:"pt-0",children:s.jsx("div",{className:"space-y-3",children:(E=_.rolls)==null?void 0:E.map(P=>s.jsx(K,{className:"bg-white border",children:s.jsx(G,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[s.jsx(h2,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[" ",P.roll_seq,": ",P.roll_number]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",parseFloat(P.weight_kg||0).toFixed(2)," "]}),P.cut_weight_total_kg>0&&s.jsxs("div",{className:"text-xs space-y-1 mt-1",children:[s.jsxs("p",{className:"text-green-600",children:[" : ",parseFloat(P.cut_weight_total_kg).toFixed(2)," "]}),s.jsxs("p",{className:"text-red-600",children:[": ",parseFloat(P.waste_kg).toFixed(2)," "]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(ge,{variant:"outline",children:" "}),s.jsxs(W,{onClick:()=>v(P),disabled:h.isPending,size:"sm","data-testid":`button-cut-${P.id}`,children:[s.jsx(k6,{className:"h-4 w-4 mr-1"}),""]})]})]})})},P.id))})})})})]},_.id)})})})})})]},w.id)}),s.jsx(ln,{open:u,onOpenChange:d,children:s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:" "}),s.jsx(jn,{children:"      "})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:l.roll_number}),s.jsxs("p",{className:"text-sm text-gray-500",children:[" : ",parseFloat(l.weight_kg||0).toFixed(2)," "]})]}),s.jsx(Cr,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(m),className:"space-y-4",children:[s.jsx(Ee,{control:f.control,name:"cut_weight_kg",render:({field:w})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"   ()"}),s.jsx(Pe,{children:s.jsx(fe,{type:"number",step:"0.01",placeholder:"  ",...w,"data-testid":"input-cut-weight"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:f.control,name:"pieces_count",render:({field:w})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{type:"number",placeholder:"  ",...w,"data-testid":"input-pieces-count"})}),s.jsx(ke,{})]})}),f.watch("cut_weight_kg")>0&&l&&s.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:" : "}),s.jsxs("span",{className:y(parseFloat(l.weight_kg),f.watch("cut_weight_kg"))>0?"text-red-600":"text-green-600",children:[y(parseFloat(l.weight_kg),f.watch("cut_weight_kg")).toFixed(2)," "]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-cut",children:""}),s.jsx(W,{type:"submit",disabled:h.isPending,"data-testid":"button-confirm-cut",children:h.isPending?" ...":" "})]})]})})]})]})})]})}const Kae=e=>`${e}%`;function Hae({stage:e,onCreateRoll:t}){const n=qn(),[r,a]=x.useState(new Set),[i,o]=x.useState(new Set),[l,c]=x.useState(""),{data:u=[],isLoading:d}=$e({queryKey:["/api/production/hierarchical-orders"],refetchInterval:9e4,staleTime:6e4,gcTime:2*60*1e3});x.useEffect(()=>()=>{n.cancelQueries({queryKey:["/api/production/hierarchical-orders"]})},[n]);const f=v=>{const p=new Set(r);p.has(v)?p.delete(v):p.add(v),a(p)},h=v=>{const p=new Set(i);p.has(v)?p.delete(v):p.add(v),o(p)},m=u.filter(v=>{var j,w,N,S,_;if(e==="film"&&v.status!=="for_production")return!1;if(!l)return!0;const p=l.toLowerCase(),g=((j=v.order_number)==null?void 0:j.toLowerCase().includes(p))||((w=v.customer_name)==null?void 0:w.toLowerCase().includes(p))||((N=v.customer_name_ar)==null?void 0:N.toLowerCase().includes(p)),y=(S=v.production_orders)==null?void 0:S.some(C=>{var E,P,A;return((E=C.production_order_number)==null?void 0:E.toLowerCase().includes(p))||((P=C.item_name)==null?void 0:P.toLowerCase().includes(p))||((A=C.item_name_ar)==null?void 0:A.toLowerCase().includes(p))}),b=(_=v.production_orders)==null?void 0:_.some(C=>{var E;return(E=C.rolls)==null?void 0:E.some(P=>{var A;return(A=P.roll_number)==null?void 0:A.toLowerCase().includes(p)})});return g||y||b});return d?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((v,p)=>s.jsx("div",{className:"h-24 bg-muted animate-pulse rounded"},p))}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(fe,{placeholder:"        ...",value:l,onChange:v=>c(v.target.value),className:"pl-10","data-testid":"input-search-orders"})]}),m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:l?"    ":"    "})}):m.map(v=>{var p;return s.jsxs(K,{className:"border-l-4 border-l-blue-500",children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>f(v.id),"data-testid":`button-expand-order-${v.id}`,children:r.has(v.id)?s.jsx(Oi,{className:"h-4 w-4"}):s.jsx(Rl,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx(oe,{className:"text-lg",children:v.order_number}),s.jsxs("p",{className:"text-base font-bold text-blue-700",children:[": ",v.customer_name_ar||v.customer_name||" "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ge,{variant:"outline",children:[((p=v.production_orders)==null?void 0:p.length)||0,"  "]}),s.jsx(ge,{variant:"secondary","data-testid":`badge-order-status-${v.id}`,children:v.status==="for_production"?"":v.status==="pending"?"":v.status})]})]})}),r.has(v.id)&&s.jsx(G,{className:"pt-0",children:v.production_orders&&v.production_orders.length>0?s.jsx("div",{className:"space-y-3",children:v.production_orders.map(g=>{const y=parseFloat(g.quantity_kg)||0,b=g.rolls?g.rolls.reduce((w,N)=>w+(parseFloat(N.weight_kg)||0),0):0,j=y>0?Math.round(b/y*100):0;return s.jsx(K,{className:"border border-gray-200 ml-6",children:s.jsxs(G,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>h(g.id),"data-testid":`button-expand-production-order-${g.id}`,children:i.has(g.id)?s.jsx(Oi,{className:"h-4 w-4"}):s.jsx(Rl,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:g.production_order_number}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.item_name_ar||g.item_name||" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-2 text-xs",children:[g.size_caption&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:g.size_caption})]}),g.thickness&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:g.thickness})]}),g.raw_material&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:g.raw_material})]}),g.master_batch_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"  : "}),s.jsx("span",{className:"text-muted-foreground",children:g.master_batch_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:": "}),s.jsx("span",{className:"text-muted-foreground",children:g.is_printed?"":""})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:": "}),Dj(b)," / ",Dj(y)]}),s.jsxs("div",{className:"w-24",children:[s.jsx(va,{value:j,className:"h-2"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Kae(j)})]}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>t(g.id),"data-testid":`button-create-roll-${g.id}`,children:s.jsx(kn,{className:"h-4 w-4"})})]})]}),i.has(g.id)&&g.rolls&&s.jsxs("div",{className:"mt-4 ml-6 space-y-2",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:[" (",g.rolls.length,")"]}),g.rolls.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"   "}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:g.rolls.map(w=>s.jsx("div",{className:"border rounded p-3 bg-gray-50","data-testid":`roll-item-${w.id}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:w.roll_number}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",Dj(parseFloat(w.weight_kg)||0)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",w.stage==="film"?"":w.stage==="printing"?"":w.stage==="cutting"?"":w.stage]})]}),s.jsx(ge,{variant:w.status==="completed"?"default":"secondary",className:"text-xs",children:w.status==="completed"?"":w.status==="in_progress"?" ":w.status==="pending"?"":w.status})]})},w.id))})]})]})},g.id)})}):s.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"     "})})]},v.id)})]})}const $u=[{id:"film",name:"Film Stage",name_ar:" ",key:"film",icon:Qn},{id:"printing",name:"Printing Stage",name_ar:" ",key:"printing",icon:xy},{id:"cutting",name:"Cutting Stage",name_ar:" ",key:"cutting",icon:k6}];function fB({onCreateRoll:e}){const[t,n]=x.useState("film"),{user:r}=ii(),{refreshProductionData:a}=Wte(),{data:i=[]}=$e({queryKey:["/api/sections"],staleTime:10*60*1e3}),o=x.useMemo(()=>{var g;if(!r)return $u;const h=r.role_id,m=r.section_id;if(h===1||h===2)return $u;const v=i.find(y=>y.id===String(m)),p=(g=v==null?void 0:v.name)==null?void 0:g.toLowerCase();return p!=null&&p.includes("film")||p!=null&&p.includes("")?$u.filter(y=>y.key==="film"):p!=null&&p.includes("print")||p!=null&&p.includes("")?$u.filter(y=>y.key==="printing"):p!=null&&p.includes("cut")||p!=null&&p.includes("")?$u.filter(y=>y.key==="cutting"):$u},[r,i]),{data:l=[]}=$e({queryKey:["/api/production/film-queue"],refetchInterval:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:c=[]}=$e({queryKey:["/api/production/printing-queue"],refetchInterval:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:u=[]}=$e({queryKey:["/api/production/cutting-queue"],refetchInterval:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:d=[]}=$e({queryKey:["/api/production/grouped-cutting-queue"],refetchInterval:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),f=o.length>0?o[0].id:"film";return o.some(h=>h.id===t)||n(f),s.jsx(K,{className:"mb-6",children:s.jsxs(Is,{value:t,onValueChange:n,children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:" "}),s.jsxs(W,{variant:"outline",size:"sm",onClick:a,className:"flex items-center gap-2","data-testid":"button-refresh-production",children:[s.jsx(Br,{className:"h-4 w-4"}),""]})]}),s.jsx(vs,{className:`grid w-full ${o.length===1?"grid-cols-1":o.length===2?"grid-cols-2":"grid-cols-3"} bg-transparent p-0`,children:o.map(h=>{const m=h.icon;let v=0;return h.key==="film"?v=l.length:h.key==="printing"?v=c.length:h.key==="cutting"&&(v=u.length),s.jsxs(mt,{value:h.id,className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary py-4 px-2 text-sm font-medium rounded-none flex items-center gap-2","data-testid":`tab-${h.key}`,children:[s.jsx(m,{className:"h-4 w-4"}),h.name_ar,v>0&&s.jsx(ge,{variant:"secondary",className:"ml-1 text-xs",children:v})]},h.id)})})]}),o.some(h=>h.key==="film")&&s.jsx(ct,{value:"film",className:"mt-0",children:s.jsxs(G,{className:"p-6",children:[s.jsx(oe,{className:"text-lg mb-4",children:"  -  "}),s.jsx(Hae,{stage:"film",onCreateRoll:e})]})}),o.some(h=>h.key==="printing")&&s.jsx(ct,{value:"printing",className:"mt-0",children:s.jsxs(G,{className:"p-6",children:[s.jsx(oe,{className:"text-lg mb-4",children:"  "}),s.jsx(Fne,{items:c})]})}),o.some(h=>h.key==="cutting")&&s.jsx(ct,{value:"cutting",className:"mt-0",children:s.jsxs(G,{className:"p-6",children:[s.jsx(oe,{className:"text-lg mb-4",children:"  "}),s.jsx(Vae,{items:d})]})})]})})}var Gae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vp=Gae.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yae(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Kp=e=>{const{present:t,children:n}=e,r=Qae(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,Xae(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};Kp.displayName="Presence";function Qae(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Yae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Gx(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=Gx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Gx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Gx(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Gx(e){return(e==null?void 0:e.animationName)||"none"}function Xae(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dN(e,[t,n]){return Math.min(n,Math.max(t,e))}function Zae(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var W2="ScrollArea",[hB,RLe]=Jn(W2),[Jae,Pa]=hB(W2),mB=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,b]=x.useState(0),[j,w]=x.useState(0),[N,S]=x.useState(!1),[_,C]=x.useState(!1),E=Ve(t,A=>c(A)),P=zf(a);return s.jsx(Jae,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:w,children:s.jsx(Vp.div,{dir:P,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});mB.displayName=W2;var pB="ScrollAreaViewport",xB=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=Pa(pB,n),l=x.useRef(null),c=Ve(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Vp.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});xB.displayName=pB;var Wi="ScrollAreaScrollbar",U2=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Pa(Wi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(eie,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(tie,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(gB,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(V2,{...r,ref:t}):null});U2.displayName=Wi;var eie=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Pa(Wi,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Kp,{present:n||i,children:s.jsx(gB,{"data-state":i?"visible":"hidden",...r,ref:t})})}),tie=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Pa(Wi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=U0(()=>c("SCROLL_END"),100),[l,c]=Zae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Kp,{present:n||l!=="hidden",children:s.jsx(V2,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gB=x.forwardRef((e,t)=>{const n=Pa(Wi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=U0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Yd(n.viewport,c),Yd(n.content,c),s.jsx(Kp,{present:r||i,children:s.jsx(V2,{"data-state":i?"visible":"hidden",...a,ref:t})})}),V2=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Pa(Wi,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wB(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return oie(h,o.current,l,m)}return n==="horizontal"?s.jsx(nie,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=vA(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?s.jsx(rie,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=vA(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),nie=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Pa(Wi,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Ve(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(vB,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":W0(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),NB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ly(o.paddingLeft),paddingEnd:Ly(o.paddingRight)}})}})}),rie=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Pa(Wi,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Ve(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(vB,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":W0(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),NB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ly(o.paddingTop),paddingEnd:Ly(o.paddingBottom)}})}})}),[sie,yB]=hB(Wi),vB=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Pa(Wi,n),[v,p]=x.useState(null),g=Ve(t,E=>p(E)),y=x.useRef(null),b=x.useRef(""),j=m.viewport,w=r.content-r.viewport,N=Ft(d),S=Ft(c),_=U0(f,10);function C(E){if(y.current){const P=E.clientX-y.current.left,A=E.clientY-y.current.top;u({x:P,y:A})}}return x.useEffect(()=>{const E=P=>{const A=P.target;(v==null?void 0:v.contains(A))&&N(P,w)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[j,v,w,N]),x.useEffect(S,[r,S]),Yd(v,_),Yd(m.content,_),s.jsx(sie,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Ft(i),onThumbPointerUp:Ft(o),onThumbPositionChange:S,onThumbPointerDown:Ft(l),children:s.jsx(Vp.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:we(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:we(e.onPointerMove,C),onPointerUp:we(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Fy="ScrollAreaThumb",bB=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=yB(Fy,e.__scopeScrollArea);return s.jsx(Kp,{present:n||a.hasThumb,children:s.jsx(aie,{ref:t,...r})})}),aie=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Pa(Fy,n),o=yB(Fy,n),{onThumbPositionChange:l}=o,c=Ve(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=U0(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=lie(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Vp.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:we(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:v,y:p})}),onPointerUp:we(e.onPointerUp,o.onThumbPointerUp)})});bB.displayName=Fy;var K2="ScrollAreaCorner",jB=x.forwardRef((e,t)=>{const n=Pa(K2,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(iie,{...e,ref:t}):null});jB.displayName=K2;var iie=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Pa(K2,n),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Yd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Yd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Vp.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ly(e){return e?parseInt(e,10):0}function wB(e,t){const n=e/t;return isNaN(n)?0:n}function W0(e){const t=wB(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function oie(e,t,n,r="ltr"){const a=W0(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return _B([c,u],f)(e)}function vA(e,t,n="ltr"){const r=W0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=dN(e,c);return _B([0,o],[0,l])(u)}function _B(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function NB(e,t){return e>0&&e<t}var lie=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function U0(e,t){const n=Ft(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yd(e,t){const n=Ft(t);bt(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var SB=mB,cie=xB,uie=jB;const Hp=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(SB,{ref:r,className:tt("relative overflow-hidden",e),...n,children:[s.jsx(cie,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(CB,{}),s.jsx(uie,{})]}));Hp.displayName=SB.displayName;const CB=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(U2,{ref:r,orientation:t,className:tt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(bB,{className:"relative flex-1 rounded-full bg-border"})}));CB.displayName=U2.displayName;function die(){const{data:e=[],isLoading:t,refetch:n}=$e({queryKey:["/api/rolls"]}),r=l=>{switch(l){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=l=>{switch(l){case"completed":return"";case"in_progress":return" ";case"pending":return" ";case"failed":return"";default:return l}},i=l=>{switch(l){case"completed":return s.jsx(cs,{className:"w-4 h-4 text-green-600"});case"in_progress":return s.jsx(Br,{className:"w-4 h-4 text-blue-600 animate-spin"});case"pending":return s.jsx(cr,{className:"w-4 h-4 text-yellow-600"});case"failed":return s.jsx(Ga,{className:"w-4 h-4 text-red-600"});default:return s.jsx(Qn,{className:"w-4 h-4 text-gray-600"})}},o=Array.isArray(e)?e.slice(0,10):[];return t?s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},c))})})]}):s.jsxs(K,{children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5"})," "]}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>n(),children:s.jsx(Br,{className:"w-4 h-4"})})]})}),s.jsx(G,{className:"p-0",children:s.jsx(Hp,{className:"h-80",children:o.length>0?s.jsx("div",{className:"p-4 space-y-4",children:o.map(l=>s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:i(l.status)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:l.roll_number}),s.jsx(ge,{className:r(l.status),children:a(l.status)})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Qn,{className:"w-3 h-3"}),s.jsxs("span",{children:[" : ",l.production_order_id]})]}),l.machine_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wn,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",l.machine_id]})]}),l.employee_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fl,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",l.employee_id]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(l.created_at).toLocaleDateString("ar",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),s.jsxs("div",{className:"text-right",children:[l.length&&s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[l.length," "]}),l.weight&&s.jsxs("div",{className:"text-xs text-gray-500",children:[l.weight," "]})]})]}),l.status==="in_progress"&&l.length&&l.target_length&&s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[Math.round(l.length/l.target_length*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(l.length/l.target_length*100,100)}%`}})})]})]},l.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Qn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]})})})]})}function fie({onCreateRoll:e}){const{data:t=[],isLoading:n}=$e({queryKey:["/api/machines"]}),r=d=>{switch(d){case"operational":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";case"idle":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},a=d=>{switch(d){case"operational":return"";case"maintenance":return"";case"down":return"";case"idle":return"";default:return d}},i=d=>{switch(d){case"operational":return s.jsx(cs,{className:"w-4 h-4 text-green-600"});case"maintenance":return s.jsx(cn,{className:"w-4 h-4 text-yellow-600"});case"down":return s.jsx(Zr,{className:"w-4 h-4 text-red-600"});case"idle":return s.jsx(cr,{className:"w-4 h-4 text-gray-600"});default:return s.jsx(wn,{className:"w-4 h-4 text-gray-600"})}};if(n)return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,f)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},f))})})]});const o=Array.isArray(t)?t:[],l=o.filter(d=>d.status==="operational").length,c=o.filter(d=>d.status==="maintenance").length,u=o.filter(d=>d.status==="down").length;return s.jsxs(K,{children:[s.jsxs(le,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5"})," "]}),s.jsxs(W,{size:"sm",onClick:e,children:[s.jsx(kn,{className:"w-4 h-4 mr-1"})," "]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsxs(ge,{variant:"default",className:"bg-green-100 text-green-800",children:[Jt(l)," "]}),c>0&&s.jsxs(ge,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[Jt(c)," "]}),u>0&&s.jsxs(ge,{variant:"destructive",children:[Jt(u)," "]})]})]}),s.jsx(G,{className:"p-0",children:s.jsx(Hp,{className:"h-80",children:o.length>0?s.jsx("div",{className:"p-4 space-y-4",children:o.map(d=>s.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:i(d.status)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:d.name_ar||d.name}),s.jsx(ge,{className:r(d.status),children:a(d.status)})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[d.type&&s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(wn,{className:"w-3 h-3"}),s.jsx("span",{children:d.type})]}),d.section_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ga,{className:"w-3 h-3"}),s.jsxs("span",{children:[": ",d.section_id]})]})]})]})]}),d.production_rate&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.production_rate,"/"]}),s.jsx("div",{className:"text-xs text-gray-500",children:" "})]})]}),d.status==="operational"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(JZ,{className:"w-3 h-3 text-blue-500"}),s.jsx("span",{children:""})]}),s.jsx("span",{className:"font-medium",children:qc(d.efficiency||Math.floor(Math.random()*20+80))})]}),s.jsx(va,{value:d.efficiency||Math.floor(Math.random()*20+80),className:"h-1"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-gray-600 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hJ,{className:"w-3 h-3"}),s.jsxs("span",{children:[Jt(d.temperature||Math.floor(Math.random()*20+180)),""]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yu,{className:"w-3 h-3"}),s.jsxs("span",{children:[Jt(d.power||Math.floor(Math.random()*50+150)),"W"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ga,{className:"w-3 h-3"}),s.jsxs("span",{children:[Jt(d.speed||Math.floor(Math.random()*500+1e3))," /"]})]})]})]}),d.status==="maintenance"&&s.jsx("div",{className:"text-xs text-gray-600 bg-yellow-50 p-2 rounded",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cn,{className:"w-3 h-3 text-yellow-600"}),s.jsx("span",{children:"  -    "})]})}),d.status==="down"&&s.jsx("div",{className:"text-xs text-gray-600 bg-red-50 p-2 rounded",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3 h-3 text-red-600"}),s.jsx("span",{children:" -   "})]})})]},d.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(wn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    "})]})})})]})}let PB=0;function hie(e){const t=Date.now().toString(36),n=(++PB).toString(36).padStart(2,"0"),r=Math.random().toString(36).substring(2,5),a=`${t}${n}${r}`;return e?`${e}${a}`:a}function H2(e,t=6){const n=Date.now().toString(),r=(++PB).toString(),i=(n+r).slice(-t).padStart(t,"0");return`${e}${i}`}function mie(){return H2("MA",8)}function pie(){return H2("MR",8)}function xie(){return H2("ON",8)}function Kj(){return hie("msg")}function gie(){const[e,t]=x.useState([{id:"1",type:"assistant",content:` !       MPBF Next.

** :**
 **   ** -     
 ** ** -       
 **  ** -    
 ** ** -       
 ** ** -    

**    :**
 "       "
 "     "  
 "    ORD-123  "
 "   5"
 "    "

   `,timestamp:new Date}]),[n,r]=x.useState(""),[a,i]=x.useState(!1),[o,l]=x.useState(!0),{toast:c}=Sn(),u=et({mutationFn:async v=>(await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:v,context:"factory_operations",userId:1})})).json(),onSuccess:v=>{const p={id:Kj(),type:"assistant",content:v.reply||"       .",timestamp:new Date};t(g=>[...g,p])},onError:()=>{const v={id:Kj(),type:"assistant",content:"    .    .",timestamp:new Date};t(p=>[...p,v]),c({title:"   ",description:"      ",variant:"destructive"})}}),d=v=>{const p=n.trim();if(!p)return;const g={id:Kj(),type:"user",content:p,timestamp:new Date};t(y=>[...y,g]),u.mutate(p),r(""),l(!1)},f=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d())},h=()=>{if(a)i(!1),window.__voiceTimeout&&(clearTimeout(window.__voiceTimeout),window.__voiceTimeout=null);else{i(!0),c({title:" ",description:" ..."});const v=setTimeout(()=>{i(!1),r("    ")},3e3);window.__voiceTimeout=v}},m=v=>{if("speechSynthesis"in window){const p=new SpeechSynthesisUtterance(v);p.lang="ar-SA",speechSynthesis.speak(p)}};return s.jsxs(K,{className:"h-96",children:[s.jsx(le,{className:"pb-3",children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Tg,{className:"w-5 h-5 text-blue-500"})," ",s.jsx(ge,{variant:"secondary",className:"mr-auto",children:""})]})}),s.jsxs(G,{className:"p-0",children:[s.jsx(Hp,{className:"h-64 p-4",children:s.jsxs("div",{className:"space-y-4",children:[e.map(v=>s.jsx("div",{className:`flex gap-3 ${v.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex gap-2 max-w-[80%] ${v.type==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v.type==="user"?"bg-blue-100":"bg-green-100"}`,children:v.type==="user"?s.jsx(Fl,{className:"w-4 h-4 text-blue-600"}):s.jsx(Tg,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{className:`rounded-lg p-3 ${v.type==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm",children:v.content}),v.type==="assistant"&&s.jsx(W,{variant:"ghost",size:"sm",className:"mt-1 h-6 p-1 text-gray-500 hover:text-gray-700",onClick:()=>m(v.content),children:s.jsx(m2,{className:"w-3 h-3"})})]})]})},v.id)),u.isPending&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Tg,{className:"w-4 h-4 text-green-600"})}),s.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})]})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{value:n,onChange:v=>r(v.target.value),onKeyPress:f,placeholder:"  ...",className:"flex-1",disabled:u.isPending}),s.jsx(W,{variant:"outline",size:"sm",onClick:h,className:a?"bg-red-100 text-red-600":"",children:a?s.jsx(C6,{className:"w-4 h-4"}):s.jsx(Y_,{className:"w-4 h-4"})}),s.jsx(W,{onClick:()=>d(),disabled:!n.trim()||u.isPending,children:s.jsx(Ci,{className:"w-4 h-4"})})]})})]})]})}function yie(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:y}=p,b=D.useRef(null),j=D.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Tn(l),u=D.forwardRef((p,g)=>{const{scope:y,children:b}=p,j=i(l,y),w=Ve(g,j.collectionRef);return s.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Tn(d),m=D.forwardRef((p,g)=>{const{scope:y,children:b,...j}=p,w=D.useRef(null),N=Ve(g,w),S=i(d,y);return D.useEffect(()=>(S.itemMap.set(w,{ref:w,...j}),()=>void S.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:b})});m.displayName=d;function v(p){const g=i(e+"CollectionConsumer",p);return D.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>j.indexOf(S.ref.current)-j.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var vie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dr=vie.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bie(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}var jie="DismissableLayer",fN="dismissableLayer.update",wie="dismissableLayer.pointerDownOutside",_ie="dismissableLayer.focusOutside",bA,EB=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kB=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(EB),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=Cie(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=Pie(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jA(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=bA)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jA())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(fN,_),()=>document.removeEventListener(fN,_)},[]),s.jsx(dr.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});kB.displayName=jie;var Nie="DismissableLayerBranch",Sie=x.forwardRef((e,t)=>{const n=x.useContext(EB),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(dr.div,{...e,ref:a})});Sie.displayName=Nie;function Cie(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){AB(wie,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pie(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&AB(_ie,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jA(){const e=new CustomEvent(fN);document.dispatchEvent(e)}function AB(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?bie(a,i):a.dispatchEvent(i)}var Hj="focusScope.autoFocusOnMount",Gj="focusScope.autoFocusOnUnmount",wA={bubbles:!1,cancelable:!0},Eie="FocusScope",OB=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Ft(a),d=Ft(i),f=x.useRef(null),h=Ve(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:Yo(f.current,{select:!0})},g=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Yo(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Yo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[r,l,m.paused]),x.useEffect(()=>{if(l){NA.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Hj,wA);l.addEventListener(Hj,u),l.dispatchEvent(y),y.defaultPrevented||(kie($ie(TB(l)),{select:!0}),document.activeElement===p&&Yo(l))}return()=>{l.removeEventListener(Hj,u),setTimeout(()=>{const y=new CustomEvent(Gj,wA);l.addEventListener(Gj,d),l.dispatchEvent(y),y.defaultPrevented||Yo(p??document.body,{select:!0}),l.removeEventListener(Gj,d),NA.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!n&&!r||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const b=p.currentTarget,[j,w]=Aie(b);j&&w?!p.shiftKey&&y===w?(p.preventDefault(),n&&Yo(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&Yo(w,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(dr.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});OB.displayName=Eie;function kie(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yo(r,{select:t}),document.activeElement!==n)return}function Aie(e){const t=TB(e),n=_A(t,e),r=_A(t.reverse(),e);return[n,r]}function TB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _A(e,t){for(const n of e)if(!Oie(n,{upTo:t}))return n}function Oie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tie(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Tie(e)&&t&&e.select()}}var NA=Mie();function Mie(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=SA(e,t),e.unshift(t)},remove(t){var n;e=SA(e,t),(n=e[0])==null||n.resume()}}}function SA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function $ie(e){return e.filter(t=>t.tagName!=="A")}var Die="Arrow",MB=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(dr.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});MB.displayName=Die;var Iie=MB,G2="Popper",[$B,DB]=Jn(G2),[Rie,IB]=$B(G2),RB=e=>{const{__scopePopper:t,children:n}=e,[r,a]=x.useState(null);return s.jsx(Rie,{scope:t,anchor:r,onAnchorChange:a,children:n})};RB.displayName=G2;var FB="PopperAnchor",LB=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=IB(FB,n),o=x.useRef(null),l=Ve(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(dr.div,{...a,ref:l})});LB.displayName=FB;var Y2="PopperContent",[Fie,Lie]=$B(Y2),BB=x.forwardRef((e,t)=>{var je,Oe,ce,_e,H,Y;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=IB(Y2,n),[y,b]=x.useState(null),j=Ve(t,L=>b(L)),[w,N]=x.useState(null),S=Lf(w),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,I={padding:P,boundary:A.filter(zie),altBoundary:O},{refs:F,floatingStyles:B,placement:$,isPositioned:R,middlewareData:M}=_0({strategy:"fixed",placement:E,whileElementsMounted:(...L)=>w0(...L,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[N0({mainAxis:a+C,alignmentAxis:o}),c&&S0({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?C0():void 0,...I}),c&&P0({...I}),E0({...I,apply:({elements:L,rects:Z,availableWidth:Be,availableHeight:Ke})=>{const{width:st,height:$t}=Z.reference,ne=L.floating.style;ne.setProperty("--radix-popper-available-width",`${Be}px`),ne.setProperty("--radix-popper-available-height",`${Ke}px`),ne.setProperty("--radix-popper-anchor-width",`${st}px`),ne.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),w&&A0({element:w,padding:l}),qie({arrowWidth:_,arrowHeight:C}),h&&k0({strategy:"referenceHidden",...I})]}),[T,J]=WB($),re=Ft(v);bt(()=>{R&&(re==null||re())},[R,re]);const X=(je=M.arrow)==null?void 0:je.x,ye=(Oe=M.arrow)==null?void 0:Oe.y,Re=((ce=M.arrow)==null?void 0:ce.centerOffset)!==0,[Je,lt]=x.useState();return bt(()=>{y&&lt(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:R?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(H=M.transformOrigin)==null?void 0:H.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Fie,{scope:n,placedSide:T,onArrowChange:N,arrowX:X,arrowY:ye,shouldHideArrow:Re,children:s.jsx(dr.div,{"data-side":T,"data-align":J,...p,ref:j,style:{...p.style,animation:R?void 0:"none"}})})})});BB.displayName=Y2;var zB="PopperArrow",Bie={top:"bottom",right:"left",bottom:"top",left:"right"},qB=x.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Lie(zB,r),o=Bie[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Iie,{...a,ref:n,style:{...a.style,display:"block"}})})});qB.displayName=zB;function zie(e){return e!==null}var qie=e=>({name:"transformOrigin",options:e,fn(t){var g,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=WB(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function WB(e){const[t,n="center"]=e.split("-");return[t,n]}var Wie=RB,Uie=LB,Vie=BB,Kie=qB,Hie="Portal",UB=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=x.useState(!1);bt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Dp.createPortal(s.jsx(dr.div,{...r,ref:t}),o):null});UB.displayName=Hie;var Gie=Bi[" useInsertionEffect ".trim().toString()]||bt;function CA({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Yie({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=Qie(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function Yie({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return Gie(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function Qie(e){return typeof e=="function"}function Q2(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xie="VisuallyHidden",Zie=x.forwardRef((e,t)=>s.jsx(dr.span,{...e,ref:t,style:{...VB,...e.style}}));Zie.displayName=Xie;var Jie=[" ","Enter","ArrowUp","ArrowDown"],eoe=[" ","Enter"],iu="Select",[V0,K0,toe]=yie(iu),[qf,FLe]=Jn(iu,[toe,DB]),H0=DB(),[noe,Zl]=qf(iu),[roe,soe]=qf(iu),KB=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=H0(t),[g,y]=x.useState(null),[b,j]=x.useState(null),[w,N]=x.useState(!1),S=zf(u),[_,C]=CA({prop:r,defaultProp:a??!1,onChange:i,caller:iu}),[E,P]=CA({prop:o,defaultProp:l,onChange:c,caller:iu}),A=x.useRef(null),O=g?v||!!g.closest("form"):!0,[I,F]=x.useState(new Set),B=Array.from(I).map($=>$.props.value).join(";");return s.jsx(Wie,{...p,children:s.jsxs(noe,{required:m,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Qs(),value:E,onValueChange:P,open:_,onOpenChange:C,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(V0.Provider,{scope:t,children:s.jsx(roe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{F(R=>new Set(R).add($))},[]),onNativeOptionRemove:x.useCallback($=>{F(R=>{const M=new Set(R);return M.delete($),M})},[]),children:n})}),O?s.jsxs(x9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:$=>P($.target.value),disabled:h,form:v,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},B):null]})})};KB.displayName=iu;var HB="SelectTrigger",GB=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=H0(n),o=Zl(HB,n),l=o.disabled||r,c=Ve(t,o.onTriggerChange),u=K0(n),d=x.useRef("touch"),[f,h,m]=y9(p=>{const g=u().filter(j=>!j.disabled),y=g.find(j=>j.value===o.value),b=v9(g,p,y);b!==void 0&&o.onValueChange(b.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Uie,{asChild:!0,...i,children:s.jsx(dr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":g9(o.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:we(a.onPointerDown,p=>{d.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:we(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&Jie.includes(p.key)&&(v(),p.preventDefault())})})})});GB.displayName=HB;var YB="SelectValue",QB=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Zl(YB,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ve(t,c.onValueNodeChange);return bt(()=>{u(d)},[u,d]),s.jsx(dr.span,{...l,ref:f,style:{pointerEvents:"none"},children:g9(c.value)?s.jsx(s.Fragment,{children:o}):i})});QB.displayName=YB;var aoe="SelectIcon",XB=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(dr.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});XB.displayName=aoe;var ioe="SelectPortal",ZB=e=>s.jsx(UB,{asChild:!0,...e});ZB.displayName=ioe;var ou="SelectContent",JB=x.forwardRef((e,t)=>{const n=Zl(ou,e.__scopeSelect),[r,a]=x.useState();if(bt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ca.createPortal(s.jsx(e9,{scope:e.__scopeSelect,children:s.jsx(V0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(t9,{...e,ref:t})});JB.displayName=ou;var $a=10,[e9,Jl]=qf(ou),ooe="SelectContentImpl",loe=Tn("SelectContent.RemoveScroll"),t9=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g,...y}=e,b=Zl(ou,n),[j,w]=x.useState(null),[N,S]=x.useState(null),_=Ve(t,je=>w(je)),[C,E]=x.useState(null),[P,A]=x.useState(null),O=K0(n),[I,F]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(j)return R0(j)},[j]),D0();const $=x.useCallback(je=>{const[Oe,...ce]=O().map(Y=>Y.ref.current),[_e]=ce.slice(-1),H=document.activeElement;for(const Y of je)if(Y===H||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===Oe&&N&&(N.scrollTop=0),Y===_e&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==H))return},[O,N]),R=x.useCallback(()=>$([C,j]),[$,C,j]);x.useEffect(()=>{I&&R()},[I,R]);const{onOpenChange:M,triggerPointerDownPosRef:T}=b;x.useEffect(()=>{if(j){let je={x:0,y:0};const Oe=_e=>{var H,Y;je={x:Math.abs(Math.round(_e.pageX)-(((H=T.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Y=T.current)==null?void 0:Y.y)??0))}},ce=_e=>{je.x<=10&&je.y<=10?_e.preventDefault():j.contains(_e.target)||M(!1),document.removeEventListener("pointermove",Oe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[j,M,T]),x.useEffect(()=>{const je=()=>M(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[M]);const[J,re]=y9(je=>{const Oe=O().filter(H=>!H.disabled),ce=Oe.find(H=>H.ref.current===document.activeElement),_e=v9(Oe,je,ce);_e&&setTimeout(()=>_e.ref.current.focus())}),X=x.useCallback((je,Oe,ce)=>{const _e=!B.current&&!ce;(b.value!==void 0&&b.value===Oe||_e)&&(E(je),_e&&(B.current=!0))},[b.value]),ye=x.useCallback(()=>j==null?void 0:j.focus(),[j]),Re=x.useCallback((je,Oe,ce)=>{const _e=!B.current&&!ce;(b.value!==void 0&&b.value===Oe||_e)&&A(je)},[b.value]),Je=r==="popper"?hN:n9,lt=Je===hN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return s.jsx(e9,{scope:n,content:j,viewport:N,onViewportChange:S,itemRefCallback:X,selectedItem:C,onItemLeave:ye,itemTextRefCallback:Re,focusSelectedItem:R,selectedItemText:P,position:r,isPositioned:I,searchRef:J,children:s.jsx(qp,{as:loe,allowPinchZoom:!0,children:s.jsx(OB,{asChild:!0,trapped:b.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:we(a,je=>{var Oe;(Oe=b.trigger)==null||Oe.focus({preventScroll:!0}),je.preventDefault()}),children:s.jsx(kB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Je,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:je=>je.preventDefault(),...y,...lt,onPlaced:()=>F(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:we(y.onKeyDown,je=>{const Oe=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Oe&&je.key.length===1&&re(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let _e=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(je.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const H=je.target,Y=_e.indexOf(H);_e=_e.slice(Y+1)}setTimeout(()=>$(_e)),je.preventDefault()}})})})})})})});t9.displayName=ooe;var coe="SelectItemAlignedPosition",n9=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Zl(ou,n),o=Jl(ou,n),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Ve(t,_=>d(_)),h=K0(n),m=x.useRef(!1),v=x.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,j=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&g&&y){const _=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=P.left-C.left,Y=E.left-H,L=_.left-Y,Z=_.width+L,Be=Math.max(Z,C.width),Ke=window.innerWidth-$a,st=dN(Y,[$a,Math.max($a,Ke-Be)]);l.style.minWidth=Z+"px",l.style.left=st+"px"}else{const H=C.right-P.right,Y=window.innerWidth-E.right-H,L=window.innerWidth-_.right-Y,Z=_.width+L,Be=Math.max(Z,C.width),Ke=window.innerWidth-$a,st=dN(Y,[$a,Math.max($a,Ke-Be)]);l.style.minWidth=Z+"px",l.style.right=st+"px"}const A=h(),O=window.innerHeight-$a*2,I=p.scrollHeight,F=window.getComputedStyle(u),B=parseInt(F.borderTopWidth,10),$=parseInt(F.paddingTop,10),R=parseInt(F.borderBottomWidth,10),M=parseInt(F.paddingBottom,10),T=B+$+I+M+R,J=Math.min(g.offsetHeight*5,T),re=window.getComputedStyle(p),X=parseInt(re.paddingTop,10),ye=parseInt(re.paddingBottom,10),Re=_.top+_.height/2-$a,Je=O-Re,lt=g.offsetHeight/2,je=g.offsetTop+lt,Oe=B+$+je,ce=T-Oe;if(Oe<=Re){const H=A.length>0&&g===A[A.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-p.offsetTop-p.offsetHeight,L=Math.max(Je,lt+(H?ye:0)+Y+R),Z=Oe+L;l.style.height=Z+"px"}else{const H=A.length>0&&g===A[0].ref.current;l.style.top="0px";const L=Math.max(Re,B+p.offsetTop+(H?X:0)+lt)+ce;l.style.height=L+"px",p.scrollTop=Oe-Re+p.offsetTop}l.style.margin=`${$a}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,g,y,i.dir,r]);bt(()=>j(),[j]);const[w,N]=x.useState();bt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(_=>{_&&v.current===!0&&(j(),b==null||b(),v.current=!1)},[j,b]);return s.jsx(doe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(dr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});n9.displayName=coe;var uoe="SelectPopperPosition",hN=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=$a,...i}=e,o=H0(n);return s.jsx(Vie,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hN.displayName=uoe;var[doe,X2]=qf(ou,{}),mN="SelectViewport",r9=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=Jl(mN,n),o=X2(mN,n),l=Ve(t,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(V0.Slot,{scope:n,children:s.jsx(dr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-$a*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<v){const b=y+m,j=Math.min(v,b),w=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});r9.displayName=mN;var s9="SelectGroup",[foe,hoe]=qf(s9),moe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Qs();return s.jsx(foe,{scope:n,id:a,children:s.jsx(dr.div,{role:"group","aria-labelledby":a,...r,ref:t})})});moe.displayName=s9;var a9="SelectLabel",i9=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=hoe(a9,n);return s.jsx(dr.div,{id:a.id,...r,ref:t})});i9.displayName=a9;var By="SelectItem",[poe,o9]=qf(By),l9=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Zl(By,n),c=Jl(By,n),u=l.value===r,[d,f]=x.useState(i??""),[h,m]=x.useState(!1),v=Ve(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,r,a)}),p=Qs(),g=x.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(poe,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(b=>{f(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(V0.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(dr.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:we(o.onFocus,()=>m(!0)),onBlur:we(o.onBlur,()=>m(!1)),onClick:we(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:we(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:we(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:we(o.onPointerMove,b=>{var j;g.current=b.pointerType,a?(j=c.onItemLeave)==null||j.call(c):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:we(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(eoe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});l9.displayName=By;var Ih="SelectItemText",c9=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Zl(Ih,n),l=Jl(Ih,n),c=o9(Ih,n),u=soe(Ih,n),[d,f]=x.useState(null),h=Ve(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return bt(()=>(p(v),()=>g(v)),[p,g,v]),s.jsxs(s.Fragment,{children:[s.jsx(dr.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ca.createPortal(i.children,o.valueNode):null]})});c9.displayName=Ih;var u9="SelectItemIndicator",d9=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o9(u9,n).isSelected?s.jsx(dr.span,{"aria-hidden":!0,...r,ref:t}):null});d9.displayName=u9;var pN="SelectScrollUpButton",f9=x.forwardRef((e,t)=>{const n=Jl(pN,e.__scopeSelect),r=X2(pN,e.__scopeSelect),[a,i]=x.useState(!1),o=Ve(t,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(m9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});f9.displayName=pN;var xN="SelectScrollDownButton",h9=x.forwardRef((e,t)=>{const n=Jl(xN,e.__scopeSelect),r=X2(xN,e.__scopeSelect),[a,i]=x.useState(!1),o=Ve(t,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(m9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});h9.displayName=xN;var m9=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=Jl("SelectScrollButton",n),o=x.useRef(null),l=K0(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),bt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(dr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:we(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),xoe="SelectSeparator",p9=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(dr.div,{"aria-hidden":!0,...r,ref:t})});p9.displayName=xoe;var gN="SelectArrow",goe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=H0(n),i=Zl(gN,n),o=Jl(gN,n);return i.open&&o.position==="popper"?s.jsx(Kie,{...a,...r,ref:t}):null});goe.displayName=gN;var yoe="SelectBubbleInput",x9=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=x.useRef(null),i=Ve(r,a),o=Q2(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(dr.select,{...n,style:{...VB,...n.style},ref:i,defaultValue:t})});x9.displayName=yoe;function g9(e){return e===""||e===void 0}function y9(e){const t=Ft(e),n=x.useRef(""),r=x.useRef(0),a=x.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function v9(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=voe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function voe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var boe=KB,b9=GB,joe=QB,woe=XB,_oe=ZB,j9=JB,Noe=r9,w9=i9,_9=l9,Soe=c9,Coe=d9,N9=f9,S9=h9,C9=p9;const Xe=boe,Ze=joe,Ge=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(b9,{ref:r,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(woe,{asChild:!0,children:s.jsx(Oi,{className:"h-4 w-4 opacity-50"})})]}));Ge.displayName=b9.displayName;const P9=x.forwardRef(({className:e,...t},n)=>s.jsx(N9,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(py,{className:"h-4 w-4"})}));P9.displayName=N9.displayName;const E9=x.forwardRef(({className:e,...t},n)=>s.jsx(S9,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Oi,{className:"h-4 w-4"})}));E9.displayName=S9.displayName;const Ye=x.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(_oe,{children:s.jsxs(j9,{ref:a,className:tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(P9,{}),s.jsx(Noe,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(E9,{})]})}));Ye.displayName=j9.displayName;const Poe=x.forwardRef(({className:e,...t},n)=>s.jsx(w9,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Poe.displayName=w9.displayName;const q=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(_9,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Coe,{children:s.jsx(qd,{className:"h-4 w-4"})})}),s.jsx(Soe,{children:t})]}));q.displayName=_9.displayName;const Eoe=x.forwardRef(({className:e,...t},n)=>s.jsx(C9,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));Eoe.displayName=C9.displayName;const koe=ie.object({production_order_id:ie.number().min(1,"   "),weight_kg:ie.string().min(1,"  ").refine(e=>{const t=Number.parseFloat(e);return!isNaN(t)&&t>0},"       0"),machine_id:ie.string().min(1,"  ")});function k9({isOpen:e,onClose:t,selectedProductionOrderId:n}){const{toast:r}=Sn(),a=qn(),i=Sr({resolver:Qr(koe),defaultValues:{production_order_id:n||1,weight_kg:"",machine_id:""}}),{data:o=[],isLoading:l}=$e({queryKey:["/api/production-orders"]}),{data:c=[],isLoading:u}=$e({queryKey:["/api/machines"]}),{data:d=[]}=$e({queryKey:["/api/sections"],staleTime:10*60*1e3}),{data:f=[]}=$e({queryKey:["/api/rolls"],staleTime:1*60*1e3}),h=x.useMemo(()=>o.find(b=>b.id===n)||null,[o,n]);x.useEffect(()=>{if(e&&(n&&n>0?i.setValue("production_order_id",n):o.length>0&&i.setValue("production_order_id",o[0].id),n&&h)){const b=g(h);i.setValue("weight_kg",b>0?b.toString():"")}},[e,n,h,f,i,o]);const m=et({mutationFn:async b=>{const j=Number.parseFloat(b.weight_kg),w=await Qt("/api/rolls",{method:"POST",body:JSON.stringify({production_order_id:b.production_order_id,weight_kg:j,machine_id:b.machine_id})});if(!w.ok){const N=await w.text();throw new Error(N||" ")}return w.json()},onSuccess:b=>{r({title:"   ",description:` : ${b.roll_number}`}),a.invalidateQueries({queryKey:["/api/rolls"]}),a.invalidateQueries({queryKey:["/api/production-orders"]}),t(),i.reset()},onError:b=>{console.error("Roll creation error:",b);let j="   ";b instanceof Error&&(j=b.message,j.includes("Network error")||j.includes("Failed to fetch")?j="  .        .":j.includes("Validation")||j.includes("Invalid")?j="   .      .":(j.includes("Conflict")||j.includes("already exists"))&&(j="       .")),r({title:"   ",description:j,variant:"destructive"})}}),v=b=>{m.mutate(b)},p=()=>{m.isPending||(t(),i.reset())},g=b=>{if(!b||!b.quantity_kg)return 0;const j=parseFloat(b.quantity_kg)||0,N=f.filter(S=>S.production_order_id===b.id).reduce((S,_)=>S+(parseFloat(_.weight_kg)||0),0);return Math.max(0,j-N)},y=x.useMemo(()=>{if(!d.length||!c.length)return c;const b=d.find(j=>{var w,N,S,_;return((w=j.name)==null?void 0:w.toLowerCase().includes("film"))||((N=j.name)==null?void 0:N.toLowerCase().includes(""))||((S=j.name_ar)==null?void 0:S.toLowerCase().includes(""))||((_=j.name_ar)==null?void 0:_.toLowerCase().includes("film"))});return b?c.filter(j=>j.section_id===b.id):c},[c,d]);return i.watch("production_order_id")&&!n&&String(i.watch("production_order_id")),s.jsx(ln,{open:e,onOpenChange:b=>{b||p()},children:s.jsxs(rn,{className:"max-w-md","aria-describedby":"roll-creation-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx(jn,{id:"roll-creation-description",children:"      "})]}),s.jsx(Cr,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(v),className:"space-y-4",children:[!n&&s.jsx(Ee,{control:i.control,name:"production_order_id",render:({field:b})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  *"}),s.jsxs(Xe,{value:b.value!=null?String(b.value):void 0,onValueChange:j=>b.onChange(Number.parseInt(j,10)),disabled:l,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsx(Ye,{children:l?s.jsx(q,{value:"loading",disabled:!0,children:" ..."}):o.length?o.filter(j=>j.id).map(j=>s.jsxs(q,{value:String(j.id),children:[j.production_order_number," -"," ",j.customer_name_ar||j.customer_name||" "," ","- "," ",j.item_name_ar||j.item_name||j.size_caption||" "]},j.id)):s.jsx(q,{value:"empty",disabled:!0,children:"    "})})]}),s.jsx(ke,{})]})}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"  "}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-md border",children:[s.jsx("p",{className:"font-medium text-sm",children:(h==null?void 0:h.production_order_number)||`PO-${n}`}),s.jsx("p",{className:"text-xs text-gray-600",children:`${(h==null?void 0:h.customer_name_ar)||(h==null?void 0:h.customer_name)||" "} - ${(h==null?void 0:h.item_name_ar)||(h==null?void 0:h.item_name)||(h==null?void 0:h.size_caption)||" "}`})]})]}),s.jsx(Ee,{control:i.control,name:"weight_kg",render:({field:b})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" () *"}),s.jsx(Pe,{children:s.jsx(fe,{type:"number",step:"0.1",min:"0.1",inputMode:"decimal",placeholder:"45.2",className:"text-right","data-testid":"input-weight_kg",...b})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:i.control,name:"machine_id",render:({field:b})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" *"}),s.jsxs(Xe,{value:b.value??void 0,onValueChange:b.onChange,disabled:u,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-machine",children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:u?s.jsx(q,{value:"loading",disabled:!0,children:" ..."}):y.length?y.filter(j=>j.status==="active"&&j.id).map(j=>s.jsx(q,{value:String(j.id),children:j.name_ar||j.name},String(j.id))):s.jsx(q,{value:"empty",disabled:!0,children:"      "})})]}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4",children:[s.jsx(W,{type:"button",variant:"outline",onClick:p,disabled:m.isPending,children:""}),s.jsx(W,{type:"submit",className:"btn-primary",disabled:m.isPending,children:m.isPending?" ...":" "})]})]})})]})})}const Aoe=(e={})=>{const[t,n]=x.useState(""),[r,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,d]=x.useState(0),[f,h]=x.useState(null),m=x.useRef(null),v=x.useRef(!1),p=typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window),g=x.useCallback((_,C)=>_==="ar-SA"&&C?{standard:"ar-SA",egyptian:"ar-EG",gulf:"ar-SA",levantine:"ar-LB",maghreb:"ar-MA"}[C]||"ar-SA":_||"ar-SA",[]),y=x.useCallback(()=>{if(!p)return null;try{const _=window.SpeechRecognition||window.webkitSpeechRecognition;if(!_)return null;const C=new _;return C.continuous=e.continuous??!1,C.interimResults=e.interimResults??!0,C.maxAlternatives=e.maxAlternatives??1,C.lang=g(e.language||"ar-SA",e.dialect),C}catch(_){return console.warn("Failed to initialize speech recognition:",_),null}},[p,e,g]),b=x.useCallback(()=>{const _=y();return _?(_.onstart=()=>{c(!0),h(null),v.current=!1},_.onresult=C=>{let E="",P="",A=0;for(let O=C.resultIndex;O<C.results.length;O++){const I=C.results[O],F=I[0].transcript;I.isFinal?(P+=F,A=I[0].confidence):E+=F}a(E),P?(o(O=>O+P),n(O=>O+P),d(A)):n((i||"")+E)},_.onerror=C=>{switch(h(C.error),c(!1),C.error){case"network":h("Network error occurred");break;case"not-allowed":h("Microphone access denied");break;case"no-speech":h("No speech was detected");break;case"audio-capture":h("Audio capture failed");break;case"service-not-allowed":h("Speech recognition service not allowed");break;default:h(`Recognition error: ${C.error}`)}},_.onend=()=>{c(!1),e.continuous&&!v.current&&!f&&setTimeout(()=>{if(m.current&&!v.current)try{m.current.start()}catch(C){console.warn("Failed to restart recognition:",C)}},100)},_.onnomatch=()=>{h("No match found")},_.onaudiostart=()=>{h(null)},_.onaudioend=()=>{},_.onsoundstart=()=>{},_.onsoundend=()=>{},_.onspeechstart=()=>{},_.onspeechend=()=>{},_):null},[e,p,g,i,f]),j=x.useCallback(()=>{if(!p){h("Speech recognition not supported in this browser");return}if(!l)try{m.current||(m.current=b()),m.current?(m.current.lang=g(e.language||"ar-SA",e.dialect),m.current.start()):h("Failed to initialize speech recognition")}catch(_){console.error("Failed to start speech recognition:",_),h("Failed to start speech recognition"),c(!1)}},[p,l,b,g,e.language,e.dialect]),w=x.useCallback(()=>{m.current&&l&&(v.current=!0,m.current.stop())},[l]),N=x.useCallback(()=>{m.current&&(v.current=!0,m.current.abort(),c(!1))},[]),S=x.useCallback(()=>{n(""),a(""),o(""),d(0),h(null)},[]);return x.useEffect(()=>()=>{m.current&&(v.current=!0,m.current.abort())},[]),x.useEffect(()=>{if(m.current&&p)try{m.current.continuous=e.continuous??!1,m.current.interimResults=e.interimResults??!0,m.current.maxAlternatives=e.maxAlternatives??1,m.current.lang=g(e.language||"ar-SA",e.dialect)}catch(_){console.warn("Failed to update recognition options:",_)}},[e,p,g]),{transcript:t,interimTranscript:r,finalTranscript:i,isListening:l,hasRecognitionSupport:p,startListening:j,stopListening:w,abortListening:N,resetTranscript:S,confidence:u,error:f}},Ooe=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[a,i]=x.useState([]),o=x.useRef(null),l="speechSynthesis"in window;x.useEffect(()=>{if(!l)return;const p=()=>{const g=speechSynthesis.getVoices();i(g)};return p(),speechSynthesis.addEventListener("voiceschanged",p),()=>{speechSynthesis.removeEventListener("voiceschanged",p)}},[l]),x.useEffect(()=>()=>{l&&speechSynthesis.cancel()},[l]);const c=()=>a.filter(p=>p.lang.startsWith("ar")||p.name.toLowerCase().includes("arabic")||p.name.toLowerCase().includes("")),u=p=>{const y={standard:["ar-SA","ar"],egyptian:["ar-EG"],gulf:["ar-SA","ar-KW","ar-AE","ar-BH","ar-QA"],levantine:["ar-LB","ar-SY","ar-JO","ar-PS"],maghreb:["ar-MA","ar-TN","ar-DZ"],iraqi:["ar-IQ"]}[p]||["ar-SA"];return a.filter(b=>y.some(j=>b.lang.startsWith(j))||b.name.toLowerCase().includes("arabic")&&y.includes("ar"))};return{speak:(p,g={})=>{if(!l||!p.trim())return;speechSynthesis.cancel();const y=new SpeechSynthesisUtterance(p);o.current=y;const b=g.dialect||"standard",j=u(b),w=c(),N=j.length>0?j[0]:w.length>0?w[0]:null;y.voice=g.voice||N,y.rate=g.rate||(b==="egyptian"?1:.9),y.pitch=g.pitch||(b==="gulf"?1.1:1),y.volume=g.volume||1;const S={standard:"ar-SA",egyptian:"ar-EG",gulf:"ar-SA",levantine:"ar-LB",maghreb:"ar-MA",iraqi:"ar-IQ"};y.lang=g.lang||S[b]||"ar-SA",y.onstart=()=>{t(!0),r(!1)},y.onend=()=>{t(!1),r(!1)},y.onpause=()=>{r(!0)},y.onresume=()=>{r(!1)},y.onerror=_=>{console.error("Speech synthesis error:",{error:_.error,type:_.type,text:p.substring(0,50)+"..."}),t(!1),r(!1),!(_.error==="interrupted"||_.error==="canceled")&&console.warn(`Speech synthesis failed: ${_.error}. Text may be too long or voice unavailable.`)},speechSynthesis.speak(y)},stop:()=>{l&&(speechSynthesis.cancel(),t(!1),r(!1))},pause:()=>{l&&e&&speechSynthesis.pause()},resume:()=>{l&&n&&speechSynthesis.resume()},isSpeaking:e,isPaused:n,isSupported:l,voices:a,getArabicVoices:c,getVoicesByDialect:u,getAvailableDialects:()=>{const p=[];return["standard","egyptian","gulf","levantine","maghreb","iraqi"].forEach(y=>{u(y).length>0&&p.push(y)}),p.length>0?p:["standard"]}}};function Toe(){const[e,t]=x.useState(!1),[n,r]=x.useState("ar-SA"),[a,i]=x.useState("standard"),[o,l]=x.useState([]),[c,u]=x.useState(""),d=qn(),{transcript:f,isListening:h,hasRecognitionSupport:m,startListening:v,stopListening:p,resetTranscript:g,confidence:y}=Aoe({continuous:!1,interimResults:!0,language:n,dialect:n==="ar-SA"?a:void 0}),{speak:b,stop:j,isSpeaking:w,isSupported:N,getArabicVoices:S,getVoicesByDialect:_,getAvailableDialects:C}=Ooe(),E=et({mutationFn:async B=>{const $=await fetch("/api/ai/voice-command",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:B,language:n,dialect:n==="ar-SA"?a:void 0,context:"voice_assistant"})});if(!$.ok)throw new Error("    ");return $.json()},onSuccess:(B,$)=>{const R={command:$,confidence:y,timestamp:new Date,response:B.message};l(M=>[R,...M.slice(0,9)]),u(B.message),e&&B.message&&b(B.message,{lang:n,dialect:n==="ar-SA"?a:void 0}),B.action&&P(B.action,B.data)},onError:B=>{const $=n==="ar-SA"?"     ":"Sorry, I could not understand the command";u($),e&&b($,{lang:n,dialect:n==="ar-SA"?a:void 0})}});x.useEffect(()=>{f&&!h&&f.trim().length>2&&e&&(E.mutate(f),g())},[f,h,e]);const P=(B,$)=>{switch(B){case"navigate":$!=null&&$.route&&(window.location.href=$.route);break;case"refresh_data":$!=null&&$.queryKey&&d.invalidateQueries({queryKey:[$.queryKey]});break;case"show_stats":d.invalidateQueries({queryKey:["/api/dashboard/stats"]});break;default:console.log("Unknown voice action:",B)}},A=()=>{e?(p(),j(),t(!1)):t(!0)},O=()=>{h?p():v()},I=()=>{const B=n==="ar-SA"?"en-US":"ar-SA";r(B),b(B==="ar-SA"?"    ":"Language changed to English",{lang:B,dialect:B==="ar-SA"?a:void 0})},F=B=>{i(B);const R=`    ${{standard:" ",egyptian:" ",gulf:" ",levantine:" ",maghreb:" "}[B]}`;b(R,{dialect:B})};return!m||!N?s.jsx(K,{className:"w-full max-w-md",children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Ga,{className:"mx-auto h-8 w-8 mb-2"}),s.jsx("p",{className:"text-sm",children:n==="ar-SA"?"    ":"Voice commands not supported in this browser"})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(K,{className:"w-full",children:[s.jsx(le,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"}),n==="ar-SA"?" ":"Voice Assistant"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n==="ar-SA"&&s.jsxs(Xe,{value:a,onValueChange:B=>F(B),children:[s.jsxs(Ge,{className:"w-[140px] h-8",children:[s.jsx(eJ,{className:"h-4 w-4 mr-1"}),s.jsx(Ze,{})]}),s.jsxs(Ye,{children:[s.jsx(q,{value:"standard",children:" "}),s.jsx(q,{value:"egyptian",children:""}),s.jsx(q,{value:"gulf",children:""}),s.jsx(q,{value:"levantine",children:""}),s.jsx(q,{value:"maghreb",children:""})]})]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:I,className:"gap-2",children:[s.jsx(sJ,{className:"h-4 w-4"}),n==="ar-SA"?"":"EN"]}),s.jsxs(W,{variant:e?"default":"outline",size:"sm",onClick:A,className:"gap-2",children:[s.jsx(wn,{className:"h-4 w-4"}),e?n==="ar-SA"?"":"ON":n==="ar-SA"?" ":"OFF"]})]})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W,{variant:h?"destructive":"default",size:"lg",onClick:O,disabled:!e||E.isPending,className:"gap-2",children:h?s.jsxs(s.Fragment,{children:[s.jsx(C6,{className:"h-5 w-5"}),n==="ar-SA"?"":"Stop"]}):s.jsxs(s.Fragment,{children:[s.jsx(Y_,{className:"h-5 w-5"}),n==="ar-SA"?"":"Speak"]})}),w&&s.jsxs(W,{variant:"outline",onClick:j,className:"gap-2",children:[s.jsx(O6,{className:"h-4 w-4"}),n==="ar-SA"?" ":"Stop Audio"]}),E.isPending&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ho,{className:"h-4 w-4 animate-spin"}),n==="ar-SA"?" ...":"Processing..."]})]}),(f||h)&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Y_,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:n==="ar-SA"?" :":"Transcript:"}),y>0&&s.jsxs(ge,{variant:"secondary",className:"text-xs",children:[Math.round(y*100),"%"]})]}),s.jsx("p",{className:"text-sm",children:f||(n==="ar-SA"?"...":"Listening...")})]}),c&&s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(m2,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:n==="ar-SA"?" :":"Assistant Response:"})]}),s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:c})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-1",children:n==="ar-SA"?"   :":"Voice command examples:"}),s.jsx("ul",{className:"space-y-1",children:n==="ar-SA"?a==="egyptian"?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'})]}):a==="gulf"?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:' "   "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'})]}):a==="levantine"?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:' "   "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'}),s.jsx("li",{children:' "  "'})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:' "   "'}),s.jsx("li",{children:' "   "'}),s.jsx("li",{children:' "   "'}),s.jsx("li",{children:' "  "'})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:' "Show production statistics"'}),s.jsx("li",{children:' "Go to orders page"'}),s.jsx("li",{children:' "What is the machine status?"'}),s.jsx("li",{children:' "Add new order"'})]})}),n==="ar-SA"&&a!=="standard"&&s.jsxs("p",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:["    ",a==="egyptian"?"":a==="gulf"?"":a==="levantine"?"":"","   "]})]})]})]}),o.length>0&&s.jsxs(K,{children:[s.jsx(le,{className:"pb-3",children:s.jsx(oe,{className:"text-base",children:n==="ar-SA"?" ":"Command History"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:o.map((B,$)=>s.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium",children:B.command}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(ge,{variant:"outline",className:"text-xs",children:[Math.round(B.confidence*100),"%"]}),s.jsx(It,{className:"h-3 w-3 text-green-500"})]})]}),B.response&&s.jsx("p",{className:"text-muted-foreground text-xs",children:B.response}),s.jsx("span",{className:"text-xs text-muted-foreground",children:B.timestamp.toLocaleTimeString()})]},$))})})]})]})}function Moe(){const[e,t]=x.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:[s.jsx(qte,{}),s.jsx(fB,{onCreateRoll:()=>t(!0)}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(die,{}),s.jsx(fie,{onCreateRoll:()=>t(!0)})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsx(gie,{}),s.jsx(Toe,{})]})]})]}),s.jsx(k9,{isOpen:e,onClose:()=>t(!1)})]})}const rr=x.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));rr.displayName="Textarea";function $oe(){const{user:e}=ii(),{toast:t}=Sn(),n=qn(),[r,a]=x.useState(null),[i,o]=x.useState(""),[l,c]=x.useState(new Date);x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(_=>{a({lat:_.coords.latitude,lng:_.coords.longitude})},_=>{o("     ")})},[]),x.useEffect(()=>{const _=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(_)},[]);const{data:u}=$e({queryKey:["/api/users",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:d}=$e({queryKey:["/api/attendance"],select:_=>_.filter(C=>C.user_id===(e==null?void 0:e.id))}),{data:f}=$e({queryKey:["/api/violations"],select:_=>_.filter(C=>C.user_id===(e==null?void 0:e.id))}),{data:h}=$e({queryKey:["/api/user-requests"],select:_=>_.filter(C=>C.user_id===(e==null?void 0:e.id))}),{data:m}=$e({queryKey:["/api/attendance/daily-status",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),refetchInterval:12e4,staleTime:9e4}),v=d==null?void 0:d.filter(_=>_.date===new Date().toISOString().split("T")[0]).sort((_,C)=>{const E=_.created_at?new Date(_.created_at).getTime():0;return(C.created_at?new Date(C.created_at).getTime():0)-E})[0],p=et({mutationFn:async _=>{const C=await fetch("/api/attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e==null?void 0:e.id,status:_.status,action:_.action,date:new Date().toISOString().split("T")[0],notes:_.notes})});if(!C.ok){const E=await C.json();throw new Error(E.message||"   ")}return C.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/attendance"]}),n.invalidateQueries({queryKey:["/api/attendance/daily-status",e==null?void 0:e.id]}),t({title:"   "})},onError:_=>{t({title:"  ",description:_.message,variant:"destructive"})}}),y=((_,C)=>{const E=new Date().toISOString().split("T")[0],P=(_==null?void 0:_.filter(Oe=>!Oe.date||Oe.user_id!==C?!1:new Date(Oe.date).toISOString().split("T")[0]===E).sort((Oe,ce)=>{const _e=Oe.created_at?new Date(Oe.created_at).getTime():0,H=ce.created_at?new Date(ce.created_at).getTime():0;return _e-H}))||[];if(P.length===0)return{workingHours:0,overtimeHours:0,deficitHours:0,breakMinutes:0,totalMinutes:0,isFriday:!1};const A=P.find(Oe=>Oe.check_in_time&&Oe.status==="");if(!(A!=null&&A.check_in_time))return{workingHours:0,overtimeHours:0,deficitHours:0,breakMinutes:0,totalMinutes:0,isFriday:!1};const O=new Date(A.check_in_time),I=P.reverse().find(Oe=>Oe.check_out_time&&Oe.status===""),F=I&&I.check_out_time,B=F?new Date(I.check_out_time):new Date,$=Math.floor((B.getTime()-O.getTime())/(1e3*60));let R=0;const M=P.find(Oe=>Oe.lunch_start_time),T=P.find(Oe=>Oe.lunch_end_time);if(M!=null&&M.lunch_start_time&&(T!=null&&T.lunch_end_time)){const Oe=new Date(M.lunch_start_time),ce=new Date(T.lunch_end_time);R=Math.floor((ce.getTime()-Oe.getTime())/(1e3*60))}else if(M!=null&&M.lunch_start_time&&!(T!=null&&T.lunch_end_time)){const Oe=new Date(M.lunch_start_time);R=Math.floor(((F?B:new Date).getTime()-Oe.getTime())/(1e3*60))}const J=Math.max(0,$-R),re=J/60,X=new Date().getDay()===5,ye=8*60;let Re=0,Je=0,lt=0;return X?(Je=re,Re=0):J>=ye?(Re=8,Je=(J-ye)/60):(Re=re,lt=(ye-J)/60),{workingHours:Math.round(Re*100)/100,overtimeHours:Math.round(Je*100)/100,deficitHours:Math.round(lt*100)/100,breakMinutes:Math.round(R),totalMinutes:$,isFriday:X}})(d,(e==null?void 0:e.id)||0),b=Sr({defaultValues:{type:"",title:"",description:""}}),j=et({mutationFn:async _=>(await fetch("/api/user-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,user_id:e==null?void 0:e.id,date:new Date().toISOString(),status:""})})).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/user-requests"]}),t({title:"   "}),b.reset()}}),w=(_,C)=>{p.mutate({status:_,action:C})},N=_=>({:"bg-green-500",:"bg-red-500"," ":"bg-yellow-500",:"bg-blue-500",:"bg-gray-500"})[_]||"bg-gray-500",S=_=>({:"secondary",:"default",:"destructive",:"destructive",:"outline"})[_]||"secondary";return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsx("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"  "}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[" ",(u==null?void 0:u.full_name)||(u==null?void 0:u.username)]})]}),s.jsxs(Is,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(vs,{className:"grid w-full grid-cols-5",children:[s.jsx(mt,{value:"overview",children:" "}),s.jsx(mt,{value:"attendance",children:""}),s.jsx(mt,{value:"violations",children:""}),s.jsx(mt,{value:"requests",children:""}),s.jsx(mt,{value:"location",children:""})]}),s.jsxs(ct,{value:"overview",className:"space-y-6",children:[s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "}),s.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${(m==null?void 0:m.currentStatus)===""?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":(m==null?void 0:m.currentStatus)===" "?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":(m==null?void 0:m.currentStatus)===""?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":(m==null?void 0:m.currentStatus)===""?"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:(m==null?void 0:m.currentStatus)||""})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"  "}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:m!=null&&m.currentStatus?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(ge,{className:N(m.currentStatus),children:m.currentStatus}),(m.currentStatus===""||m.currentStatus===" "||m.currentStatus===""||m.currentStatus==="")&&m.hasCheckedIn&&s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:(()=>{const _=d==null?void 0:d.find(I=>I.date===new Date().toISOString().split("T")[0]&&I.user_id===(e==null?void 0:e.id)&&I.check_in_time);if(!(_!=null&&_.check_in_time))return"";const C=new Date(_.check_in_time),P=(_.check_out_time?new Date(_.check_out_time):l).getTime()-C.getTime(),A=Math.floor(P/(1e3*60*60)),O=Math.floor(P%(1e3*60*60)/(1e3*60));return`${A}  ${O} `})()})]}):s.jsx(ge,{variant:"outline",children:"  "})})})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"  "}),s.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Jt((d==null?void 0:d.filter(_=>_.check_in_time!==null).length)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(cn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Jt((f==null?void 0:f.filter(_=>_.status==="").length)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(Ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Jt((h==null?void 0:h.filter(_=>_.status==="").length)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsxs(Nn,{children:[" : ",(m==null?void 0:m.currentStatus)||"   "]})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(W,{onClick:()=>w(""),className:"bg-green-600 hover:bg-green-700 w-full",disabled:(m==null?void 0:m.hasCheckedIn)||p.isPending,children:m!=null&&m.hasCheckedIn?"  ":""}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 h-4 text-center",children:(()=>{const _=d==null?void 0:d.filter(E=>E.date===new Date().toISOString().split("T")[0]&&E.user_id===(e==null?void 0:e.id)),C=_==null?void 0:_.find(E=>E.check_in_time);return C!=null&&C.check_in_time?new Date(C.check_in_time).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace("","").replace("",""):""})()})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(W,{onClick:()=>w(" "),className:"bg-yellow-600 hover:bg-yellow-700 w-full",disabled:!(m!=null&&m.hasCheckedIn)||(m==null?void 0:m.hasStartedLunch)||p.isPending,children:m!=null&&m.hasStartedLunch?"   ":" "}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 h-4 text-center",children:(()=>{const _=d==null?void 0:d.filter(E=>E.date===new Date().toISOString().split("T")[0]&&E.user_id===(e==null?void 0:e.id)),C=_==null?void 0:_.find(E=>E.lunch_start_time);return C!=null&&C.lunch_start_time?new Date(C.lunch_start_time).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace("","").replace("",""):""})()})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(W,{onClick:()=>w("","end_lunch"),className:"bg-blue-600 hover:bg-blue-700 w-full",disabled:!(m!=null&&m.hasStartedLunch)||(m==null?void 0:m.hasEndedLunch)||p.isPending,children:m!=null&&m.hasEndedLunch?"   ":" "}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 h-4 text-center",children:(()=>{const _=d==null?void 0:d.filter(E=>E.date===new Date().toISOString().split("T")[0]&&E.user_id===(e==null?void 0:e.id)),C=_==null?void 0:_.find(E=>E.lunch_end_time);return C!=null&&C.lunch_end_time?new Date(C.lunch_end_time).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace("","").replace("",""):""})()})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(W,{onClick:()=>w(""),className:"bg-gray-600 hover:bg-gray-700 w-full",disabled:!(m!=null&&m.hasCheckedIn)||(m==null?void 0:m.hasCheckedOut)||p.isPending,children:m!=null&&m.hasCheckedOut?"  ":""}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 h-4 text-center",children:(()=>{const _=d==null?void 0:d.filter(E=>E.date===new Date().toISOString().split("T")[0]&&E.user_id===(e==null?void 0:e.id)),C=_==null?void 0:_.find(E=>E.check_out_time);return C!=null&&C.check_out_time?new Date(C.check_out_time).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace("","").replace("",""):""})()})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:" :"}),d==null?void 0:d.filter(_=>_.date===new Date().toISOString().split("T")[0]&&_.user_id===(e==null?void 0:e.id)).map((_,C)=>s.jsxs("div",{className:"mb-2 last:mb-0",children:[_.check_in_time&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-green-600",children:"  "}),s.jsx("span",{className:"text-gray-600",children:new Date(_.check_in_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.lunch_start_time&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-yellow-600",children:"  "}),s.jsx("span",{className:"text-gray-600",children:new Date(_.lunch_start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.lunch_end_time&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-blue-600",children:"  "}),s.jsx("span",{className:"text-gray-600",children:new Date(_.lunch_end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.check_out_time&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-gray-600",children:"  "}),s.jsx("span",{className:"text-gray-600",children:new Date(_.check_out_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},_.id)),(m==null?void 0:m.hasCheckedIn)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("h5",{className:"font-medium text-sm mb-2 text-blue-700 dark:text-blue-300",children:["    ",y.isFriday?"( )":"",":"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-green-700 dark:text-green-300",children:"  "}),s.jsxs("span",{className:"font-medium text-green-800 dark:text-green-200",children:[y.workingHours.toFixed(1)," "]})]})}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"  "}),s.jsxs("span",{className:"font-medium text-orange-800 dark:text-orange-200",children:[y.overtimeHours.toFixed(1)," "]})]})}),s.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"  "}),s.jsxs("span",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:[y.breakMinutes," "]})]})}),y.deficitHours>0&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-red-700 dark:text-red-300",children:"  "}),s.jsxs("span",{className:"font-medium text-red-800 dark:text-red-200",children:[y.deficitHours.toFixed(1)," "]})]})})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" :"}),s.jsxs("span",{children:[Math.floor(y.totalMinutes/60),":",(y.totalMinutes%60).toString().padStart(2,"0")]})]}),y.isFriday&&s.jsx("div",{className:"text-orange-600 dark:text-orange-400 mt-1 font-medium",children:"*   -    "})]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t",children:[!(m!=null&&m.hasCheckedIn)&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-gray-400",children:"  "}),s.jsx("span",{className:"text-gray-400",children:" "})]}),!(m!=null&&m.hasStartedLunch)&&(m==null?void 0:m.hasCheckedIn)&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-gray-400",children:"  "}),s.jsx("span",{className:"text-gray-400",children:" "})]}),!(m!=null&&m.hasEndedLunch)&&(m==null?void 0:m.hasStartedLunch)&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-gray-400",children:"  "}),s.jsx("span",{className:"text-gray-400",children:" "})]}),!(m!=null&&m.hasCheckedOut)&&(m==null?void 0:m.hasCheckedIn)&&s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"text-gray-400",children:"  "}),s.jsx("span",{className:"text-gray-400",children:" "})]})]})]})]})]})]}),s.jsx(ct,{value:"attendance",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"   "}),s.jsx(Nn,{children:"      "})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[d==null?void 0:d.slice(0,15).map(_=>s.jsxs("div",{className:"p-4 border rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ge,{className:N(_.status),variant:"outline",children:_.status}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:new Date(_.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),_.notes&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:_.notes})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[_.check_in_time&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 text-xs",children:""}),s.jsx("span",{className:"font-medium text-green-600",children:new Date(_.check_in_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.lunch_start_time&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 text-xs",children:" "}),s.jsx("span",{className:"font-medium text-yellow-600",children:new Date(_.lunch_start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.lunch_end_time&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 text-xs",children:" "}),s.jsx("span",{className:"font-medium text-blue-600",children:new Date(_.lunch_end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),_.check_out_time&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-500 text-xs",children:""}),s.jsx("span",{className:"font-medium text-gray-600",children:new Date(_.check_out_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),_.check_in_time&&_.check_out_time&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"  :"}),s.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:(()=>{const C=new Date(_.check_in_time),P=new Date(_.check_out_time).getTime()-C.getTime(),A=Math.floor(P/(1e3*60*60)),O=Math.floor(P%(1e3*60*60)/(1e3*60));return`${A}  ${O} `})()})]})})]},_.id)),(!d||d.length===0)&&s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(Jc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "})]})]})})]})}),s.jsx(ct,{value:"violations",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[f==null?void 0:f.map(_=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium",children:_.type}),s.jsx(ge,{variant:S(_.status),children:_.status})]}),s.jsx("p",{className:"text-gray-600 mb-2",children:_.description}),s.jsxs("p",{className:"text-sm text-red-600 mb-2",children:[s.jsx("strong",{children:":"})," ",_.penalty]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",new Date(_.date).toLocaleDateString("ar")]})]},_.id)),(!f||f.length===0)&&s.jsx("p",{className:"text-center text-gray-500 py-8",children:"   "})]})})]})}),s.jsx(ct,{value:"requests",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:s.jsx(Cr,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(_=>j.mutate(_)),className:"space-y-4",children:[s.jsx(Ee,{control:b.control,name:"type",render:({field:_})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:_.onChange,value:_.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:" "}),s.jsx(q,{value:"",children:" "}),s.jsx(q,{value:" ",children:" "})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:b.control,name:"title",render:({field:_})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"  ",..._})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:b.control,name:"description",render:({field:_})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{placeholder:"  ",..._})}),s.jsx(ke,{})]})}),s.jsx(W,{type:"submit",disabled:j.isPending,children:j.isPending?" ...":" "})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[h==null?void 0:h.map(_=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium",children:_.title}),s.jsx(ge,{variant:S(_.status),children:_.status})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:":"})," ",_.type]}),s.jsx("p",{className:"text-gray-600 mb-2",children:_.description}),_.response&&s.jsxs("p",{className:"text-sm text-blue-600 mb-2",children:[s.jsx("strong",{children:":"})," ",_.response]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",new Date(_.date).toLocaleDateString("ar")]})]},_.id)),(!h||h.length===0)&&s.jsx("p",{className:"text-center text-gray-500 py-8",children:"   "})]})})]})]})}),s.jsx(ct,{value:"location",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:" "}),s.jsx(Nn,{children:"    "})]}),s.jsx(G,{children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G_,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-medium",children:"   "})]}),s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",r.lat.toFixed(6)]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",r.lng.toFixed(6)]})]}),s.jsx(W,{onClick:()=>w(""),className:"w-full",disabled:(v==null?void 0:v.status)==="",children:"    "})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(G_,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:i||"   ..."}),s.jsx(W,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:" "})]})})]})})]})]})})]})]})}function Doe(){const[e,t]=x.useState(!1),[n,r]=x.useState(),a=o=>{r(o),t(!0)},i=()=>{t(!1),r(void 0)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"    "})]}),s.jsx(fB,{onCreateRoll:a})]})]}),s.jsx(k9,{isOpen:e,onClose:i,selectedProductionOrderId:n})]})}const lu=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:tt("w-full caption-bottom text-sm",e),...t})}));lu.displayName="Table";const cu=x.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:tt("[&_tr]:border-b",e),...t}));cu.displayName="TableHeader";const uu=x.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:tt("[&_tr:last-child]:border-0",e),...t}));uu.displayName="TableBody";const Ioe=x.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ioe.displayName="TableFooter";const us=x.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));us.displayName="TableRow";const Ot=x.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:tt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableHead";const St=x.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:tt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));St.displayName="TableCell";const Roe=x.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:tt("mt-4 text-sm text-muted-foreground",e),...t}));Roe.displayName="TableCaption";var Foe=Array.isArray,Rs=Foe,Loe=typeof px=="object"&&px&&px.Object===Object&&px,A9=Loe,Boe=A9,zoe=typeof self=="object"&&self&&self.Object===Object&&self,qoe=Boe||zoe||Function("return this")(),Ui=qoe,Woe=Ui,Uoe=Woe.Symbol,Gp=Uoe,PA=Gp,O9=Object.prototype,Voe=O9.hasOwnProperty,Koe=O9.toString,yh=PA?PA.toStringTag:void 0;function Hoe(e){var t=Voe.call(e,yh),n=e[yh];try{e[yh]=void 0;var r=!0}catch{}var a=Koe.call(e);return r&&(t?e[yh]=n:delete e[yh]),a}var Goe=Hoe,Yoe=Object.prototype,Qoe=Yoe.toString;function Xoe(e){return Qoe.call(e)}var Zoe=Xoe,EA=Gp,Joe=Goe,ele=Zoe,tle="[object Null]",nle="[object Undefined]",kA=EA?EA.toStringTag:void 0;function rle(e){return e==null?e===void 0?nle:tle:kA&&kA in Object(e)?Joe(e):ele(e)}var Ro=rle;function sle(e){return e!=null&&typeof e=="object"}var Fo=sle,ale=Ro,ile=Fo,ole="[object Symbol]";function lle(e){return typeof e=="symbol"||ile(e)&&ale(e)==ole}var Wf=lle,cle=Rs,ule=Wf,dle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fle=/^\w*$/;function hle(e,t){if(cle(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ule(e)?!0:fle.test(e)||!dle.test(e)||t!=null&&e in Object(t)}var Z2=hle;function mle(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ec=mle;const Uf=pn(ec);var ple=Ro,xle=ec,gle="[object AsyncFunction]",yle="[object Function]",vle="[object GeneratorFunction]",ble="[object Proxy]";function jle(e){if(!xle(e))return!1;var t=ple(e);return t==yle||t==vle||t==gle||t==ble}var J2=jle;const jt=pn(J2);var wle=Ui,_le=wle["__core-js_shared__"],Nle=_le,Yj=Nle,AA=function(){var e=/[^.]+$/.exec(Yj&&Yj.keys&&Yj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sle(e){return!!AA&&AA in e}var Cle=Sle,Ple=Function.prototype,Ele=Ple.toString;function kle(e){if(e!=null){try{return Ele.call(e)}catch{}try{return e+""}catch{}}return""}var T9=kle,Ale=J2,Ole=Cle,Tle=ec,Mle=T9,$le=/[\\^$.*+?()[\]{}|]/g,Dle=/^\[object .+?Constructor\]$/,Ile=Function.prototype,Rle=Object.prototype,Fle=Ile.toString,Lle=Rle.hasOwnProperty,Ble=RegExp("^"+Fle.call(Lle).replace($le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zle(e){if(!Tle(e)||Ole(e))return!1;var t=Ale(e)?Ble:Dle;return t.test(Mle(e))}var qle=zle;function Wle(e,t){return e==null?void 0:e[t]}var Ule=Wle,Vle=qle,Kle=Ule;function Hle(e,t){var n=Kle(e,t);return Vle(n)?n:void 0}var bu=Hle,Gle=bu,Yle=Gle(Object,"create"),G0=Yle,OA=G0;function Qle(){this.__data__=OA?OA(null):{},this.size=0}var Xle=Qle;function Zle(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jle=Zle,ece=G0,tce="__lodash_hash_undefined__",nce=Object.prototype,rce=nce.hasOwnProperty;function sce(e){var t=this.__data__;if(ece){var n=t[e];return n===tce?void 0:n}return rce.call(t,e)?t[e]:void 0}var ace=sce,ice=G0,oce=Object.prototype,lce=oce.hasOwnProperty;function cce(e){var t=this.__data__;return ice?t[e]!==void 0:lce.call(t,e)}var uce=cce,dce=G0,fce="__lodash_hash_undefined__";function hce(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dce&&t===void 0?fce:t,this}var mce=hce,pce=Xle,xce=Jle,gce=ace,yce=uce,vce=mce;function Vf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vf.prototype.clear=pce;Vf.prototype.delete=xce;Vf.prototype.get=gce;Vf.prototype.has=yce;Vf.prototype.set=vce;var bce=Vf;function jce(){this.__data__=[],this.size=0}var wce=jce;function _ce(e,t){return e===t||e!==e&&t!==t}var eC=_ce,Nce=eC;function Sce(e,t){for(var n=e.length;n--;)if(Nce(e[n][0],t))return n;return-1}var Y0=Sce,Cce=Y0,Pce=Array.prototype,Ece=Pce.splice;function kce(e){var t=this.__data__,n=Cce(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ece.call(t,n,1),--this.size,!0}var Ace=kce,Oce=Y0;function Tce(e){var t=this.__data__,n=Oce(t,e);return n<0?void 0:t[n][1]}var Mce=Tce,$ce=Y0;function Dce(e){return $ce(this.__data__,e)>-1}var Ice=Dce,Rce=Y0;function Fce(e,t){var n=this.__data__,r=Rce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Lce=Fce,Bce=wce,zce=Ace,qce=Mce,Wce=Ice,Uce=Lce;function Kf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kf.prototype.clear=Bce;Kf.prototype.delete=zce;Kf.prototype.get=qce;Kf.prototype.has=Wce;Kf.prototype.set=Uce;var Q0=Kf,Vce=bu,Kce=Ui,Hce=Vce(Kce,"Map"),tC=Hce,TA=bce,Gce=Q0,Yce=tC;function Qce(){this.size=0,this.__data__={hash:new TA,map:new(Yce||Gce),string:new TA}}var Xce=Qce;function Zce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Jce=Zce,eue=Jce;function tue(e,t){var n=e.__data__;return eue(t)?n[typeof t=="string"?"string":"hash"]:n.map}var X0=tue,nue=X0;function rue(e){var t=nue(this,e).delete(e);return this.size-=t?1:0,t}var sue=rue,aue=X0;function iue(e){return aue(this,e).get(e)}var oue=iue,lue=X0;function cue(e){return lue(this,e).has(e)}var uue=cue,due=X0;function fue(e,t){var n=due(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var hue=fue,mue=Xce,pue=sue,xue=oue,gue=uue,yue=hue;function Hf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hf.prototype.clear=mue;Hf.prototype.delete=pue;Hf.prototype.get=xue;Hf.prototype.has=gue;Hf.prototype.set=yue;var nC=Hf,M9=nC,vue="Expected a function";function rC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vue);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(rC.Cache||M9),n}rC.Cache=M9;var $9=rC;const bue=pn($9);var jue=$9,wue=500;function _ue(e){var t=jue(e,function(r){return n.size===wue&&n.clear(),r}),n=t.cache;return t}var Nue=_ue,Sue=Nue,Cue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pue=/\\(\\)?/g,Eue=Sue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Cue,function(n,r,a,i){t.push(a?i.replace(Pue,"$1"):r||n)}),t}),kue=Eue;function Aue(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var sC=Aue,MA=Gp,Oue=sC,Tue=Rs,Mue=Wf,$ue=1/0,$A=MA?MA.prototype:void 0,DA=$A?$A.toString:void 0;function D9(e){if(typeof e=="string")return e;if(Tue(e))return Oue(e,D9)+"";if(Mue(e))return DA?DA.call(e):"";var t=e+"";return t=="0"&&1/e==-$ue?"-0":t}var Due=D9,Iue=Due;function Rue(e){return e==null?"":Iue(e)}var I9=Rue,Fue=Rs,Lue=Z2,Bue=kue,zue=I9;function que(e,t){return Fue(e)?e:Lue(e,t)?[e]:Bue(zue(e))}var R9=que,Wue=Wf,Uue=1/0;function Vue(e){if(typeof e=="string"||Wue(e))return e;var t=e+"";return t=="0"&&1/e==-Uue?"-0":t}var Z0=Vue,Kue=R9,Hue=Z0;function Gue(e,t){t=Kue(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Hue(t[n++])];return n&&n==r?e:void 0}var aC=Gue,Yue=aC;function Que(e,t,n){var r=e==null?void 0:Yue(e,t);return r===void 0?n:r}var F9=Que;const Js=pn(F9);function Xue(e){return e==null}var Zue=Xue;const wt=pn(Zue);var Jue=Ro,ede=Rs,tde=Fo,nde="[object String]";function rde(e){return typeof e=="string"||!ede(e)&&tde(e)&&Jue(e)==nde}var sde=rde;const Yp=pn(sde);var L9={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC=Symbol.for("react.element"),oC=Symbol.for("react.portal"),J0=Symbol.for("react.fragment"),eb=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),ade=Symbol.for("react.server_context"),sb=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),ob=Symbol.for("react.memo"),lb=Symbol.for("react.lazy"),ide=Symbol.for("react.offscreen"),B9;B9=Symbol.for("react.module.reference");function Ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iC:switch(e=e.type,e){case J0:case tb:case eb:case ab:case ib:return e;default:switch(e=e&&e.$$typeof,e){case ade:case rb:case sb:case lb:case ob:case nb:return e;default:return t}}case oC:return t}}}yn.ContextConsumer=rb;yn.ContextProvider=nb;yn.Element=iC;yn.ForwardRef=sb;yn.Fragment=J0;yn.Lazy=lb;yn.Memo=ob;yn.Portal=oC;yn.Profiler=tb;yn.StrictMode=eb;yn.Suspense=ab;yn.SuspenseList=ib;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return Ea(e)===rb};yn.isContextProvider=function(e){return Ea(e)===nb};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iC};yn.isForwardRef=function(e){return Ea(e)===sb};yn.isFragment=function(e){return Ea(e)===J0};yn.isLazy=function(e){return Ea(e)===lb};yn.isMemo=function(e){return Ea(e)===ob};yn.isPortal=function(e){return Ea(e)===oC};yn.isProfiler=function(e){return Ea(e)===tb};yn.isStrictMode=function(e){return Ea(e)===eb};yn.isSuspense=function(e){return Ea(e)===ab};yn.isSuspenseList=function(e){return Ea(e)===ib};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J0||e===tb||e===eb||e===ab||e===ib||e===ide||typeof e=="object"&&e!==null&&(e.$$typeof===lb||e.$$typeof===ob||e.$$typeof===nb||e.$$typeof===rb||e.$$typeof===sb||e.$$typeof===B9||e.getModuleId!==void 0)};yn.typeOf=Ea;L9.exports=yn;var ode=L9.exports,lde=Ro,cde=Fo,ude="[object Number]";function dde(e){return typeof e=="number"||cde(e)&&lde(e)==ude}var z9=dde;const fde=pn(z9);var hde=z9;function mde(e){return hde(e)&&e!=+e}var pde=mde;const Gf=pn(pde);var ds=function(t){return t===0?0:t>0?1:-1},Sc=function(t){return Yp(t)&&t.indexOf("%")===t.length-1},Ie=function(t){return fde(t)&&!Gf(t)},_r=function(t){return Ie(t)||Yp(t)},xde=0,tc=function(t){var n=++xde;return"".concat(t||"").concat(n)},fs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&!Yp(t))return r;var i;if(Sc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Gf(i)&&(i=r),a&&i>n&&(i=n),i},il=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},gde=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Yn=function(t,n){return Ie(t)&&Ie(n)?function(r){return t+r*(n-t)}:function(){return n}};function zy(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Js(r,t))===n})}var yde=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<n;f++)u=t[f].cx||0,d=t[f].cy||0,r+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=n*o!==r*r?(n*i-r*a)/(n*o-r*r):0;return{xmin:l,xmax:c,a:h,b:(a-h*r)/n}};function xd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function yN(e){"@babel/helpers - typeof";return yN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yN(e)}var vde=["viewBox","children"],bde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IA=["points","pathLength"],Qj={svg:vde,polygon:IA,polyline:IA},lC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qy=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),!Uf(r))return null;var a={};return Object.keys(r).forEach(function(i){lC.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},jde=function(t,n,r){return function(a){return t(n,r,a),null}},Hl=function(t,n,r){if(!Uf(t)||yN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];lC.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=jde(o,n,r))}),a},wde=["children"],_de=["children"];function RA(e,t){if(e==null)return{};var n=Nde(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vN(e){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vN(e)}var FA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LA=null,Xj=null,cC=function e(t){if(t===LA&&Array.isArray(Xj))return Xj;var n=[];return x.Children.forEach(t,function(r){wt(r)||(ode.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Xj=n,LA=t,n};function ps(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return bo(a)}):r=[bo(t)],cC(e).forEach(function(a){var i=Js(a,"type.displayName")||Js(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Ws(e,t){var n=ps(e,t);return n&&n[0]}var BA=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ie(r)||r<=0||!Ie(a)||a<=0)},Sde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cde=function(t){return t&&t.type&&Yp(t.type)&&Sde.indexOf(t.type)>=0},q9=function(t){return t&&vN(t)==="object"&&"clipDot"in t},Pde=function(t,n,r,a){var i,o=(i=Qj==null?void 0:Qj[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!jt(t)&&(a&&o.includes(n)||bde.includes(n))||r&&lC.includes(n)},ut=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Uf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Pde((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},bN=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zA(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!zA(i,o))return!1}return!0},zA=function(t,n){if(wt(t)&&wt(n))return!0;if(!wt(t)&&!wt(n)){var r=t.props||{},a=r.children,i=RA(r,wde),o=n.props||{},l=o.children,c=RA(o,_de);return a&&l?xd(i,c)&&bN(a,l):!a&&!l?xd(i,c):!1}return!1},qA=function(t,n){var r=[],a={};return cC(t).forEach(function(i,o){if(Cde(i))r.push(i);else if(i){var l=bo(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);r.push(f),a[l]=!0}}}),r},Ede=function(t){var n=t&&t.type;return n&&FA[n]?FA[n]:null},kde=function(t,n){return cC(n).indexOf(t)},Ade=["children","width","height","viewBox","className","style","title","desc"];function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jN.apply(this,arguments)}function Ode(e,t){if(e==null)return{};var n=Tde(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wN(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ode(e,Ade),d=a||{width:n,height:r,x:0,y:0},f=Rt("recharts-surface",i);return D.createElement("svg",jN({},ut(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),t)}var Mde=["children","className"];function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_N.apply(this,arguments)}function $de(e,t){if(e==null)return{};var n=Dde(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Bt=D.forwardRef(function(e,t){var n=e.children,r=e.className,a=$de(e,Mde),i=Rt("recharts-layer",r);return D.createElement("g",_N({className:i},ut(a,!0),{ref:t}),n)}),Xa=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Ide(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Rde=Ide,Fde=Rde;function Lde(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Fde(e,t,n)}var Bde=Lde,zde="\\ud800-\\udfff",qde="\\u0300-\\u036f",Wde="\\ufe20-\\ufe2f",Ude="\\u20d0-\\u20ff",Vde=qde+Wde+Ude,Kde="\\ufe0e\\ufe0f",Hde="\\u200d",Gde=RegExp("["+Hde+zde+Vde+Kde+"]");function Yde(e){return Gde.test(e)}var W9=Yde;function Qde(e){return e.split("")}var Xde=Qde,U9="\\ud800-\\udfff",Zde="\\u0300-\\u036f",Jde="\\ufe20-\\ufe2f",efe="\\u20d0-\\u20ff",tfe=Zde+Jde+efe,nfe="\\ufe0e\\ufe0f",rfe="["+U9+"]",NN="["+tfe+"]",SN="\\ud83c[\\udffb-\\udfff]",sfe="(?:"+NN+"|"+SN+")",V9="[^"+U9+"]",K9="(?:\\ud83c[\\udde6-\\uddff]){2}",H9="[\\ud800-\\udbff][\\udc00-\\udfff]",afe="\\u200d",G9=sfe+"?",Y9="["+nfe+"]?",ife="(?:"+afe+"(?:"+[V9,K9,H9].join("|")+")"+Y9+G9+")*",ofe=Y9+G9+ife,lfe="(?:"+[V9+NN+"?",NN,K9,H9,rfe].join("|")+")",cfe=RegExp(SN+"(?="+SN+")|"+lfe+ofe,"g");function ufe(e){return e.match(cfe)||[]}var dfe=ufe,ffe=Xde,hfe=W9,mfe=dfe;function pfe(e){return hfe(e)?mfe(e):ffe(e)}var xfe=pfe,gfe=Bde,yfe=W9,vfe=xfe,bfe=I9;function jfe(e){return function(t){t=bfe(t);var n=yfe(t)?vfe(t):void 0,r=n?n[0]:t.charAt(0),a=n?gfe(n,1).join(""):t.slice(1);return r[e]()+a}}var wfe=jfe,_fe=wfe,Nfe=_fe("toUpperCase"),Sfe=Nfe;const cb=pn(Sfe);function En(e){return function(){return e}}const Q9=Math.cos,Wy=Math.sin,ci=Math.sqrt,Uy=Math.PI,ub=2*Uy,CN=Math.PI,PN=2*CN,pc=1e-6,Cfe=PN-pc;function X9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Pfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X9;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Efe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X9:Pfe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>pc)if(!(Math.abs(f*c-u*d)>pc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,v=a-l,p=c*c+u*u,g=m*m+v*v,y=Math.sqrt(p),b=Math.sqrt(h),j=i*Math.tan((CN-Math.acos((p+h-g)/(2*y*b)))/2),w=j/b,N=j/y;Math.abs(w-1)>pc&&this._append`L${t+w*d},${n+w*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+N*c},${this._y1=n+N*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pc||Math.abs(this._y1-d)>pc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%PN+PN),h>Cfe?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>pc&&this._append`A${r},${r},0,${+(h>=CN)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function uC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Efe(t)}function dC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z9(e){this._context=e}Z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function db(e){return new Z9(e)}function J9(e){return e[0]}function ez(e){return e[1]}function tz(e,t){var n=En(!0),r=null,a=db,i=null,o=uC(l);e=typeof e=="function"?e:e===void 0?J9:En(e),t=typeof t=="function"?t:t===void 0?ez:En(t);function l(c){var u,d=(c=dC(c)).length,f,h=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:En(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:En(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Yx(e,t,n){var r=null,a=En(!0),i=null,o=db,l=null,c=uC(u);e=typeof e=="function"?e:e===void 0?J9:En(+e),t=typeof t=="function"?t:En(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ez:En(+n);function u(f){var h,m,v,p=(f=dC(f)).length,g,y=!1,b,j=new Array(p),w=new Array(p);for(i==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(g=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(j[v],w[v]);l.lineEnd(),l.areaEnd()}y&&(j[h]=+e(g,h,f),w[h]=+t(g,h,f),l.point(r?+r(g,h,f):j[h],n?+n(g,h,f):w[h]))}if(b)return l=null,b+""||null}function d(){return tz().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:En(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:En(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:En(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:En(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:En(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class nz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kfe(e){return new nz(e,!0)}function Afe(e){return new nz(e,!1)}const fC={draw(e,t){const n=ci(t/Uy);e.moveTo(n,0),e.arc(0,0,n,0,ub)}},Ofe={draw(e,t){const n=ci(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rz=ci(1/3),Tfe=rz*2,Mfe={draw(e,t){const n=ci(t/Tfe),r=n*rz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$fe={draw(e,t){const n=ci(t),r=-n/2;e.rect(r,r,n,n)}},Dfe=.8908130915292852,sz=Wy(Uy/10)/Wy(7*Uy/10),Ife=Wy(ub/10)*sz,Rfe=-Q9(ub/10)*sz,Ffe={draw(e,t){const n=ci(t*Dfe),r=Ife*n,a=Rfe*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=ub*i/5,l=Q9(o),c=Wy(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},Zj=ci(3),Lfe={draw(e,t){const n=-ci(t/(Zj*3));e.moveTo(0,n*2),e.lineTo(-Zj*n,-n),e.lineTo(Zj*n,-n),e.closePath()}},sa=-.5,aa=ci(3)/2,EN=1/ci(12),Bfe=(EN/2+1)*3,zfe={draw(e,t){const n=ci(t/Bfe),r=n/2,a=n*EN,i=r,o=n*EN+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(sa*r-aa*a,aa*r+sa*a),e.lineTo(sa*i-aa*o,aa*i+sa*o),e.lineTo(sa*l-aa*c,aa*l+sa*c),e.lineTo(sa*r+aa*a,sa*a-aa*r),e.lineTo(sa*i+aa*o,sa*o-aa*i),e.lineTo(sa*l+aa*c,sa*c-aa*l),e.closePath()}};function qfe(e,t){let n=null,r=uC(a);e=typeof e=="function"?e:En(e||fC),t=typeof t=="function"?t:En(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:En(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:En(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Vy(){}function Ky(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function az(e){this._context=e}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ky(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wfe(e){return new az(e)}function iz(e){this._context=e}iz.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ufe(e){return new iz(e)}function oz(e){this._context=e}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vfe(e){return new oz(e)}function lz(e){this._context=e}lz.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Kfe(e){return new lz(e)}function WA(e){return e<0?-1:1}function UA(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(WA(i)+WA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function VA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jj(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Hy(e){this._context=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jj(this,this._t0,VA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jj(this,VA(this,n=UA(this,e,t)),n);break;default:Jj(this,this._t0,n=UA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function cz(e){this._context=new uz(e)}(cz.prototype=Object.create(Hy.prototype)).point=function(e,t){Hy.prototype.point.call(this,t,e)};function uz(e){this._context=e}uz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Hfe(e){return new Hy(e)}function Gfe(e){return new cz(e)}function dz(e){this._context=e}dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=KA(e),a=KA(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KA(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Yfe(e){return new dz(e)}function fb(e,t){this._context=e,this._t=t}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Qfe(e){return new fb(e,.5)}function Xfe(e){return new fb(e,0)}function Zfe(e){return new fb(e,1)}function Qd(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function kN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jfe(e,t){return e[t]}function ehe(e){const t=[];return t.key=e,t}function the(){var e=En([]),t=kN,n=Qd,r=Jfe;function a(i){var o=Array.from(e.apply(this,arguments),ehe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=dC(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:En(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:En(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?kN:typeof i=="function"?i:En(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Qd,a):n},a}function nhe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Qd(e,t)}}function rhe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Qd(e,t)}}function she(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],g=p[r][1]||0,y=p[r-1][1]||0;m+=g-y}c+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Qd(e,t)}}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var ahe=["type","size","sizeType"];function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AN.apply(this,arguments)}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){ihe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ihe(e,t,n){return t=ohe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ohe(e){var t=lhe(e,"string");return Wm(t)=="symbol"?t:t+""}function lhe(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function che(e,t){if(e==null)return{};var n=uhe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uhe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fz={symbolCircle:fC,symbolCross:Ofe,symbolDiamond:Mfe,symbolSquare:$fe,symbolStar:Ffe,symbolTriangle:Lfe,symbolWye:zfe},dhe=Math.PI/180,fhe=function(t){var n="symbol".concat(cb(t));return fz[n]||fC},hhe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*dhe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mhe=function(t,n){fz["symbol".concat(cb(t))]=n},hb=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=che(t,ahe),u=GA(GA({},c),{},{type:r,size:i,sizeType:l}),d=function(){var g=fhe(r),y=qfe().type(g).size(hhe(i,l,r));return y()},f=u.className,h=u.cx,m=u.cy,v=ut(u,!0);return h===+h&&m===+m&&i===+i?D.createElement("path",AN({},v,{className:Rt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};hb.registerSymbol=mhe;function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(this,arguments)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function phe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){Um(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ghe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mz(r.key),r)}}function yhe(e,t,n){return t&&ghe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vhe(e,t,n){return t=Gy(t),bhe(e,hz()?Reflect.construct(t,n||[],Gy(e).constructor):t.apply(e,n))}function bhe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(e)}function jhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hz=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(e)}function whe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TN(e,t)}function Um(e,t,n){return t=mz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mz(e){var t=_he(e,"string");return Xd(t)=="symbol"?t:t+""}function _he(e,t){if(Xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ia=32,hC=function(e){function t(){return xhe(this,t),vhe(this,t,arguments)}return whe(t,e),yhe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ia/2,o=ia/6,l=ia/3,c=r.inactive?a:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ia,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ia,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ia/8,"h").concat(ia,"v").concat(ia*3/4,"h").concat(-ia,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=phe({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(hb,{fill:c,cx:i,cy:i,size:ia,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ia,height:ia},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var p=m.formatter||c,g=Rt(Um(Um({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=jt(m.value)?null:m.value;Xa(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return D.createElement("li",ON({className:g,style:f,key:"legend-item-".concat(v)},Hl(r.props,m,v)),D.createElement(wN,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,v):y))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Um(hC,"displayName","Legend");Um(hC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nhe=Q0;function She(){this.__data__=new Nhe,this.size=0}var Che=She;function Phe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ehe=Phe;function khe(e){return this.__data__.get(e)}var Ahe=khe;function Ohe(e){return this.__data__.has(e)}var The=Ohe,Mhe=Q0,$he=tC,Dhe=nC,Ihe=200;function Rhe(e,t){var n=this.__data__;if(n instanceof Mhe){var r=n.__data__;if(!$he||r.length<Ihe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dhe(r)}return n.set(e,t),this.size=n.size,this}var Fhe=Rhe,Lhe=Q0,Bhe=Che,zhe=Ehe,qhe=Ahe,Whe=The,Uhe=Fhe;function Yf(e){var t=this.__data__=new Lhe(e);this.size=t.size}Yf.prototype.clear=Bhe;Yf.prototype.delete=zhe;Yf.prototype.get=qhe;Yf.prototype.has=Whe;Yf.prototype.set=Uhe;var pz=Yf,Vhe="__lodash_hash_undefined__";function Khe(e){return this.__data__.set(e,Vhe),this}var Hhe=Khe;function Ghe(e){return this.__data__.has(e)}var Yhe=Ghe,Qhe=nC,Xhe=Hhe,Zhe=Yhe;function Yy(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Qhe;++t<n;)this.add(e[t])}Yy.prototype.add=Yy.prototype.push=Xhe;Yy.prototype.has=Zhe;var xz=Yy;function Jhe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gz=Jhe;function eme(e,t){return e.has(t)}var yz=eme,tme=xz,nme=gz,rme=yz,sme=1,ame=2;function ime(e,t,n,r,a,i){var o=n&sme,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&ame?new tme:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],p=t[f];if(r)var g=o?r(p,v,f,t,e,i):r(v,p,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!nme(t,function(y,b){if(!rme(m,b)&&(v===y||a(v,y,n,r,i)))return m.push(b)})){h=!1;break}}else if(!(v===p||a(v,p,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var vz=ime,ome=Ui,lme=ome.Uint8Array,cme=lme;function ume(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var dme=ume;function fme(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var mC=fme,QA=Gp,XA=cme,hme=eC,mme=vz,pme=dme,xme=mC,gme=1,yme=2,vme="[object Boolean]",bme="[object Date]",jme="[object Error]",wme="[object Map]",_me="[object Number]",Nme="[object RegExp]",Sme="[object Set]",Cme="[object String]",Pme="[object Symbol]",Eme="[object ArrayBuffer]",kme="[object DataView]",ZA=QA?QA.prototype:void 0,ew=ZA?ZA.valueOf:void 0;function Ame(e,t,n,r,a,i,o){switch(n){case kme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Eme:return!(e.byteLength!=t.byteLength||!i(new XA(e),new XA(t)));case vme:case bme:case _me:return hme(+e,+t);case jme:return e.name==t.name&&e.message==t.message;case Nme:case Cme:return e==t+"";case wme:var l=pme;case Sme:var c=r&gme;if(l||(l=xme),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=yme,o.set(e,t);var d=mme(l(e),l(t),r,a,i,o);return o.delete(e),d;case Pme:if(ew)return ew.call(e)==ew.call(t)}return!1}var Ome=Ame;function Tme(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var bz=Tme,Mme=bz,$me=Rs;function Dme(e,t,n){var r=t(e);return $me(e)?r:Mme(r,n(e))}var Ime=Dme;function Rme(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Fme=Rme;function Lme(){return[]}var Bme=Lme,zme=Fme,qme=Bme,Wme=Object.prototype,Ume=Wme.propertyIsEnumerable,JA=Object.getOwnPropertySymbols,Vme=JA?function(e){return e==null?[]:(e=Object(e),zme(JA(e),function(t){return Ume.call(e,t)}))}:qme,Kme=Vme;function Hme(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Gme=Hme,Yme=Ro,Qme=Fo,Xme="[object Arguments]";function Zme(e){return Qme(e)&&Yme(e)==Xme}var Jme=Zme,eO=Jme,epe=Fo,jz=Object.prototype,tpe=jz.hasOwnProperty,npe=jz.propertyIsEnumerable,rpe=eO(function(){return arguments}())?eO:function(e){return epe(e)&&tpe.call(e,"callee")&&!npe.call(e,"callee")},pC=rpe,Qy={exports:{}};function spe(){return!1}var ape=spe;Qy.exports;(function(e,t){var n=Ui,r=ape,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Qy,Qy.exports);var wz=Qy.exports,ipe=9007199254740991,ope=/^(?:0|[1-9]\d*)$/;function lpe(e,t){var n=typeof e;return t=t??ipe,!!t&&(n=="number"||n!="symbol"&&ope.test(e))&&e>-1&&e%1==0&&e<t}var xC=lpe,cpe=9007199254740991;function upe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cpe}var gC=upe,dpe=Ro,fpe=gC,hpe=Fo,mpe="[object Arguments]",ppe="[object Array]",xpe="[object Boolean]",gpe="[object Date]",ype="[object Error]",vpe="[object Function]",bpe="[object Map]",jpe="[object Number]",wpe="[object Object]",_pe="[object RegExp]",Npe="[object Set]",Spe="[object String]",Cpe="[object WeakMap]",Ppe="[object ArrayBuffer]",Epe="[object DataView]",kpe="[object Float32Array]",Ape="[object Float64Array]",Ope="[object Int8Array]",Tpe="[object Int16Array]",Mpe="[object Int32Array]",$pe="[object Uint8Array]",Dpe="[object Uint8ClampedArray]",Ipe="[object Uint16Array]",Rpe="[object Uint32Array]",Fn={};Fn[kpe]=Fn[Ape]=Fn[Ope]=Fn[Tpe]=Fn[Mpe]=Fn[$pe]=Fn[Dpe]=Fn[Ipe]=Fn[Rpe]=!0;Fn[mpe]=Fn[ppe]=Fn[Ppe]=Fn[xpe]=Fn[Epe]=Fn[gpe]=Fn[ype]=Fn[vpe]=Fn[bpe]=Fn[jpe]=Fn[wpe]=Fn[_pe]=Fn[Npe]=Fn[Spe]=Fn[Cpe]=!1;function Fpe(e){return hpe(e)&&fpe(e.length)&&!!Fn[dpe(e)]}var Lpe=Fpe;function Bpe(e){return function(t){return e(t)}}var _z=Bpe,Xy={exports:{}};Xy.exports;(function(e,t){var n=A9,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Xy,Xy.exports);var zpe=Xy.exports,qpe=Lpe,Wpe=_z,tO=zpe,nO=tO&&tO.isTypedArray,Upe=nO?Wpe(nO):qpe,Nz=Upe,Vpe=Gme,Kpe=pC,Hpe=Rs,Gpe=wz,Ype=xC,Qpe=Nz,Xpe=Object.prototype,Zpe=Xpe.hasOwnProperty;function Jpe(e,t){var n=Hpe(e),r=!n&&Kpe(e),a=!n&&!r&&Gpe(e),i=!n&&!r&&!a&&Qpe(e),o=n||r||a||i,l=o?Vpe(e.length,String):[],c=l.length;for(var u in e)(t||Zpe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ype(u,c)))&&l.push(u);return l}var exe=Jpe,txe=Object.prototype;function nxe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||txe;return e===n}var rxe=nxe;function sxe(e,t){return function(n){return e(t(n))}}var Sz=sxe,axe=Sz,ixe=axe(Object.keys,Object),oxe=ixe,lxe=rxe,cxe=oxe,uxe=Object.prototype,dxe=uxe.hasOwnProperty;function fxe(e){if(!lxe(e))return cxe(e);var t=[];for(var n in Object(e))dxe.call(e,n)&&n!="constructor"&&t.push(n);return t}var hxe=fxe,mxe=J2,pxe=gC;function xxe(e){return e!=null&&pxe(e.length)&&!mxe(e)}var Qp=xxe,gxe=exe,yxe=hxe,vxe=Qp;function bxe(e){return vxe(e)?gxe(e):yxe(e)}var mb=bxe,jxe=Ime,wxe=Kme,_xe=mb;function Nxe(e){return jxe(e,_xe,wxe)}var Sxe=Nxe,rO=Sxe,Cxe=1,Pxe=Object.prototype,Exe=Pxe.hasOwnProperty;function kxe(e,t,n,r,a,i){var o=n&Cxe,l=rO(e),c=l.length,u=rO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Exe.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(r)var j=o?r(b,y,h,t,e,i):r(y,b,h,e,t,i);if(!(j===void 0?y===b||a(y,b,n,r,i):j)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var Axe=kxe,Oxe=bu,Txe=Ui,Mxe=Oxe(Txe,"DataView"),$xe=Mxe,Dxe=bu,Ixe=Ui,Rxe=Dxe(Ixe,"Promise"),Fxe=Rxe,Lxe=bu,Bxe=Ui,zxe=Lxe(Bxe,"Set"),Cz=zxe,qxe=bu,Wxe=Ui,Uxe=qxe(Wxe,"WeakMap"),Vxe=Uxe,MN=$xe,$N=tC,DN=Fxe,IN=Cz,RN=Vxe,Pz=Ro,Qf=T9,sO="[object Map]",Kxe="[object Object]",aO="[object Promise]",iO="[object Set]",oO="[object WeakMap]",lO="[object DataView]",Hxe=Qf(MN),Gxe=Qf($N),Yxe=Qf(DN),Qxe=Qf(IN),Xxe=Qf(RN),xc=Pz;(MN&&xc(new MN(new ArrayBuffer(1)))!=lO||$N&&xc(new $N)!=sO||DN&&xc(DN.resolve())!=aO||IN&&xc(new IN)!=iO||RN&&xc(new RN)!=oO)&&(xc=function(e){var t=Pz(e),n=t==Kxe?e.constructor:void 0,r=n?Qf(n):"";if(r)switch(r){case Hxe:return lO;case Gxe:return sO;case Yxe:return aO;case Qxe:return iO;case Xxe:return oO}return t});var Zxe=xc,tw=pz,Jxe=vz,ege=Ome,tge=Axe,cO=Zxe,uO=Rs,dO=wz,nge=Nz,rge=1,fO="[object Arguments]",hO="[object Array]",Qx="[object Object]",sge=Object.prototype,mO=sge.hasOwnProperty;function age(e,t,n,r,a,i){var o=uO(e),l=uO(t),c=o?hO:cO(e),u=l?hO:cO(t);c=c==fO?Qx:c,u=u==fO?Qx:u;var d=c==Qx,f=u==Qx,h=c==u;if(h&&dO(e)){if(!dO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new tw),o||nge(e)?Jxe(e,t,n,r,a,i):ege(e,t,c,n,r,a,i);if(!(n&rge)){var m=d&&mO.call(e,"__wrapped__"),v=f&&mO.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,g=v?t.value():t;return i||(i=new tw),a(p,g,n,r,i)}}return h?(i||(i=new tw),tge(e,t,n,r,a,i)):!1}var ige=age,oge=ige,pO=Fo;function Ez(e,t,n,r,a){return e===t?!0:e==null||t==null||!pO(e)&&!pO(t)?e!==e&&t!==t:oge(e,t,n,r,Ez,a)}var yC=Ez,lge=pz,cge=yC,uge=1,dge=2;function fge(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new lge;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?cge(d,u,uge|dge,r,f):h))return!1}}return!0}var hge=fge,mge=ec;function pge(e){return e===e&&!mge(e)}var kz=pge,xge=kz,gge=mb;function yge(e){for(var t=gge(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,xge(a)]}return t}var vge=yge;function bge(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Az=bge,jge=hge,wge=vge,_ge=Az;function Nge(e){var t=wge(e);return t.length==1&&t[0][2]?_ge(t[0][0],t[0][1]):function(n){return n===e||jge(n,e,t)}}var Sge=Nge;function Cge(e,t){return e!=null&&t in Object(e)}var Pge=Cge,Ege=R9,kge=pC,Age=Rs,Oge=xC,Tge=gC,Mge=Z0;function $ge(e,t,n){t=Ege(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Mge(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Tge(a)&&Oge(o,a)&&(Age(e)||kge(e)))}var Dge=$ge,Ige=Pge,Rge=Dge;function Fge(e,t){return e!=null&&Rge(e,t,Ige)}var Lge=Fge,Bge=yC,zge=F9,qge=Lge,Wge=Z2,Uge=kz,Vge=Az,Kge=Z0,Hge=1,Gge=2;function Yge(e,t){return Wge(e)&&Uge(t)?Vge(Kge(e),t):function(n){var r=zge(n,e);return r===void 0&&r===t?qge(n,e):Bge(t,r,Hge|Gge)}}var Qge=Yge;function Xge(e){return e}var Xf=Xge;function Zge(e){return function(t){return t==null?void 0:t[e]}}var Jge=Zge,eye=aC;function tye(e){return function(t){return eye(t,e)}}var nye=tye,rye=Jge,sye=nye,aye=Z2,iye=Z0;function oye(e){return aye(e)?rye(iye(e)):sye(e)}var lye=oye,cye=Sge,uye=Qge,dye=Xf,fye=Rs,hye=lye;function mye(e){return typeof e=="function"?e:e==null?dye:typeof e=="object"?fye(e)?uye(e[0],e[1]):cye(e):hye(e)}var Vi=mye;function pye(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Oz=pye;function xye(e){return e!==e}var gye=xye;function yye(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var vye=yye,bye=Oz,jye=gye,wye=vye;function _ye(e,t,n){return t===t?wye(e,t,n):bye(e,jye,n)}var Nye=_ye,Sye=Nye;function Cye(e,t){var n=e==null?0:e.length;return!!n&&Sye(e,t,0)>-1}var Pye=Cye;function Eye(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var kye=Eye;function Aye(){}var Oye=Aye,nw=Cz,Tye=Oye,Mye=mC,$ye=1/0,Dye=nw&&1/Mye(new nw([,-0]))[1]==$ye?function(e){return new nw(e)}:Tye,Iye=Dye,Rye=xz,Fye=Pye,Lye=kye,Bye=yz,zye=Iye,qye=mC,Wye=200;function Uye(e,t,n){var r=-1,a=Fye,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Lye;else if(i>=Wye){var u=t?null:zye(e);if(u)return qye(u);o=!1,a=Bye,c=new Rye}else c=t?[]:l;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var Vye=Uye,Kye=Vi,Hye=Vye;function Gye(e,t){return e&&e.length?Hye(e,Kye(t)):[]}var Yye=Gye;const xO=pn(Yye);function Tz(e,t,n){return t===!0?xO(e,n):jt(t)?xO(e,t):e}function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}var Qye=["ref"];function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$z(r.key),r)}}function Zye(e,t,n){return t&&yO(e.prototype,t),n&&yO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jye(e,t,n){return t=Zy(t),eve(e,Mz()?Reflect.construct(t,n||[],Zy(e).constructor):t.apply(e,n))}function eve(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(e)}function tve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mz=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zy(e)}function nve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},FN(e,t)}function pb(e,t,n){return t=$z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $z(e){var t=rve(e,"string");return Zd(t)=="symbol"?t:t+""}function rve(e,t){if(Zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sve(e,t){if(e==null)return{};var n=ave(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ave(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ive(e){return e.value}function ove(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var n=sve(t,Qye);return D.createElement(hC,n)}var vO=1,Za=function(e){function t(){var n;Xye(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Jye(this,t,[].concat(a)),pb(n,"lastBoundingBox",{width:-1,height:-1}),n}return nve(t,e),Zye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>vO||Math.abs(a.height-this.lastBoundingBox.height)>vO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xi(Xi({},f),h)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xi(Xi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},ove(i,Xi(Xi({},this.props),{},{payload:Tz(d,u,ive)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Xi(Xi({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ie(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(x.PureComponent);pb(Za,"displayName","Legend");pb(Za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bO=Gp,lve=pC,cve=Rs,jO=bO?bO.isConcatSpreadable:void 0;function uve(e){return cve(e)||lve(e)||!!(jO&&e&&e[jO])}var dve=uve,fve=bz,hve=dve;function Dz(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=hve),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?Dz(l,t-1,n,r,a):fve(a,l):r||(a[a.length]=l)}return a}var Iz=Dz;function mve(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var pve=mve,xve=pve,gve=xve(),yve=gve,vve=yve,bve=mb;function jve(e,t){return e&&vve(e,t,bve)}var Rz=jve,wve=Qp;function _ve(e,t){return function(n,r){if(n==null)return n;if(!wve(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Nve=_ve,Sve=Rz,Cve=Nve,Pve=Cve(Sve),vC=Pve,Eve=vC,kve=Qp;function Ave(e,t){var n=-1,r=kve(e)?Array(e.length):[];return Eve(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var Fz=Ave;function Ove(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Tve=Ove,wO=Wf;function Mve(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=wO(e),o=t!==void 0,l=t===null,c=t===t,u=wO(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var $ve=Mve,Dve=$ve;function Ive(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=Dve(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Rve=Ive,rw=sC,Fve=aC,Lve=Vi,Bve=Fz,zve=Tve,qve=_z,Wve=Rve,Uve=Xf,Vve=Rs;function Kve(e,t,n){t.length?t=rw(t,function(i){return Vve(i)?function(o){return Fve(o,i.length===1?i[0]:i)}:i}):t=[Uve];var r=-1;t=rw(t,qve(Lve));var a=Bve(e,function(i,o,l){var c=rw(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return zve(a,function(i,o){return Wve(i,o,n)})}var Hve=Kve;function Gve(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Yve=Gve,Qve=Yve,_O=Math.max;function Xve(e,t,n){return t=_O(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=_O(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),Qve(e,this,l)}}var Zve=Xve;function Jve(e){return function(){return e}}var e0e=Jve,t0e=bu,n0e=function(){try{var e=t0e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Lz=n0e,r0e=e0e,NO=Lz,s0e=Xf,a0e=NO?function(e,t){return NO(e,"toString",{configurable:!0,enumerable:!1,value:r0e(t),writable:!0})}:s0e,i0e=a0e,o0e=800,l0e=16,c0e=Date.now;function u0e(e){var t=0,n=0;return function(){var r=c0e(),a=l0e-(r-n);if(n=r,a>0){if(++t>=o0e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var d0e=u0e,f0e=i0e,h0e=d0e,m0e=h0e(f0e),p0e=m0e,x0e=Xf,g0e=Zve,y0e=p0e;function v0e(e,t){return y0e(g0e(e,t,x0e),e+"")}var b0e=v0e,j0e=eC,w0e=Qp,_0e=xC,N0e=ec;function S0e(e,t,n){if(!N0e(n))return!1;var r=typeof t;return(r=="number"?w0e(n)&&_0e(t,n.length):r=="string"&&t in n)?j0e(n[t],e):!1}var xb=S0e,C0e=Iz,P0e=Hve,E0e=b0e,SO=xb,k0e=E0e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&SO(e,t[0],t[1])?t=[]:n>2&&SO(t[0],t[1],t[2])&&(t=[t[0]]),P0e(e,C0e(t,1),[])}),A0e=k0e;const bC=pn(A0e);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(this,arguments)}function O0e(e,t){return D0e(e)||$0e(e,t)||M0e(e,t)||T0e()}function T0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(e,t){if(e){if(typeof e=="string")return CO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function D0e(e){if(Array.isArray(e))return e}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){I0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I0e(e,t,n){return t=R0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R0e(e){var t=F0e(e,"string");return Vm(t)=="symbol"?t:t+""}function F0e(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0e(e){return Array.isArray(e)&&_r(e[0])&&_r(e[1])?e.join(" ~ "):e}var B0e=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,j=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?bC(d,h):d).map(function(F,B){if(F.type==="none")return null;var $=sw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),R=F.formatter||f||L0e,M=F.value,T=F.name,J=M,re=T;if(R&&J!=null&&re!=null){var X=R(M,T,F,B,d);if(Array.isArray(X)){var ye=O0e(X,2);J=ye[0],re=ye[1]}else J=X}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},_r(re)?D.createElement("span",{className:"recharts-tooltip-item-name"},re):null,_r(re)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},J),D.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},w=sw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=sw({margin:0},u),S=!wt(p),_=S?p:"",C=Rt("recharts-default-tooltip",m),E=Rt("recharts-tooltip-label",v);S&&g&&d!==void 0&&d!==null&&(_=g(p,d));var P=b?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",LN({className:C,style:w},P),D.createElement("p",{className:E,style:N},D.isValidElement(_)?_:"".concat(_)),j())};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Xx(e,t,n){return t=z0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z0e(e){var t=q0e(e,"string");return Km(t)=="symbol"?t:t+""}function q0e(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh="recharts-tooltip-wrapper",W0e={visibility:"hidden"};function U0e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Rt(vh,Xx(Xx(Xx(Xx({},"".concat(vh,"-right"),Ie(n)&&t&&Ie(t.x)&&n>=t.x),"".concat(vh,"-left"),Ie(n)&&t&&Ie(t.x)&&n<t.x),"".concat(vh,"-bottom"),Ie(r)&&t&&Ie(t.y)&&r>=t.y),"".concat(vh,"-top"),Ie(r)&&t&&Ie(t.y)&&r<t.y))}function EO(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ie(i[r]))return i[r];var d=n[r]-l-a,f=n[r]+a;if(t[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+l,p=c[r]+u;return v>p?Math.max(d,c[r]):Math.max(f,c[r])}function V0e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function K0e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=EO({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=EO({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=V0e({translateX:d,translateY:f,useTranslate3d:l})):u=W0e,{cssProperties:u,cssClasses:U0e({translateX:d,translateY:f,coordinate:n})}}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){zN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zz(r.key),r)}}function Y0e(e,t,n){return t&&G0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0e(e,t,n){return t=Jy(t),X0e(e,Bz()?Reflect.construct(t,n||[],Jy(e).constructor):t.apply(e,n))}function X0e(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z0e(e)}function Z0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jy(e)}function J0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},BN(e,t)}function zN(e,t,n){return t=zz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zz(e){var t=ebe(e,"string");return Jd(t)=="symbol"?t:t+""}function ebe(e,t){if(Jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OO=1,tbe=function(e){function t(){var n;H0e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Q0e(this,t,[].concat(a)),zN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zN(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return J0e(t,e),Y0e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>OO||Math.abs(r.height-this.state.lastBoundingBox.height)>OO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,j=K0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),w=j.cssClasses,N=j.cssProperties,S=AO(AO({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return D.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(C){r.wrapperNode=C}},u)}}])}(x.PureComponent),nbe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ba={isSsr:nbe(),get:function(t){return ba[t]},set:function(t,n){if(typeof t=="string")ba[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){ba[a]=t[a]})}}};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){jC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wz(r.key),r)}}function abe(e,t,n){return t&&sbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ibe(e,t,n){return t=ev(t),obe(e,qz()?Reflect.construct(t,n||[],ev(e).constructor):t.apply(e,n))}function obe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lbe(e)}function lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(e)}function cbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qN(e,t)}function jC(e,t,n){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wz(e){var t=ube(e,"string");return ef(t)=="symbol"?t:t+""}function ube(e,t){if(ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dbe(e){return e.dataKey}function fbe(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(B0e,t)}var Ar=function(e){function t(){return rbe(this,t),ibe(this,t,arguments)}return cbe(t,e),abe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,g=a.position,y=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,w=a.wrapperStyle,N=v??[];f&&N.length&&(N=Tz(v.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),p,dbe));var S=N.length>0;return D.createElement(tbe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:g,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:w},fbe(u,MO(MO({},this.props),{},{payload:N})))}}])}(x.PureComponent);jC(Ar,"displayName","Tooltip");jC(Ar,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ba.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hbe=Ui,mbe=function(){return hbe.Date.now()},pbe=mbe,xbe=/\s/;function gbe(e){for(var t=e.length;t--&&xbe.test(e.charAt(t)););return t}var ybe=gbe,vbe=ybe,bbe=/^\s+/;function jbe(e){return e&&e.slice(0,vbe(e)+1).replace(bbe,"")}var wbe=jbe,_be=wbe,$O=ec,Nbe=Wf,DO=NaN,Sbe=/^[-+]0x[0-9a-f]+$/i,Cbe=/^0b[01]+$/i,Pbe=/^0o[0-7]+$/i,Ebe=parseInt;function kbe(e){if(typeof e=="number")return e;if(Nbe(e))return DO;if($O(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$O(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_be(e);var n=Cbe.test(e);return n||Pbe.test(e)?Ebe(e.slice(2),n?2:8):Sbe.test(e)?DO:+e}var Uz=kbe,Abe=ec,aw=pbe,IO=Uz,Obe="Expected a function",Tbe=Math.max,Mbe=Math.min;function $be(e,t,n){var r,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Obe);t=IO(t)||0,Abe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?Tbe(IO(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function m(S){var _=r,C=a;return r=a=void 0,u=S,o=e.apply(C,_),o}function v(S){return u=S,l=setTimeout(y,t),d?m(S):o}function p(S){var _=S-c,C=S-u,E=t-_;return f?Mbe(E,i-C):E}function g(S){var _=S-c,C=S-u;return c===void 0||_>=t||_<0||f&&C>=i}function y(){var S=aw();if(g(S))return b(S);l=setTimeout(y,p(S))}function b(S){return l=void 0,h&&r?m(S):(r=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function w(){return l===void 0?o:b(aw())}function N(){var S=aw(),_=g(S);if(r=arguments,a=this,c=S,_){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=j,N.flush=w,N}var Dbe=$be,Ibe=Dbe,Rbe=ec,Fbe="Expected a function";function Lbe(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Fbe);return Rbe(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Ibe(e,t,{leading:r,maxWait:t,trailing:a})}var Bbe=Lbe;const Vz=pn(Bbe);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){zbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zbe(e,t,n){return t=qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qbe(e){var t=Wbe(e,"string");return Hm(t)=="symbol"?t:t+""}function Wbe(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ube(e,t){return Gbe(e)||Hbe(e,t)||Kbe(e,t)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(e,t){if(e){if(typeof e=="string")return FO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FO(e,t)}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gbe(e){if(Array.isArray(e))return e}var Oo=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,j=e.style,w=j===void 0?{}:j,N=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=x.useState({containerWidth:a.width,containerHeight:a.height}),C=Ube(_,2),E=C[0],P=C[1],A=x.useCallback(function(I,F){P(function(B){var $=Math.round(I),R=Math.round(F);return B.containerWidth===$&&B.containerHeight===R?B:{containerWidth:$,containerHeight:R}})},[]);x.useEffect(function(){var I=function(T){var J,re=T[0].contentRect,X=re.width,ye=re.height;A(X,ye),(J=S.current)===null||J===void 0||J.call(S,X,ye)};p>0&&(I=Vz(I,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),B=N.current.getBoundingClientRect(),$=B.width,R=B.height;return A($,R),F.observe(N.current),function(){F.disconnect()}},[A,p]);var O=x.useMemo(function(){var I=E.containerWidth,F=E.containerHeight;if(I<0||F<0)return null;Xa(Sc(o)||Sc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Sc(o)?I:o,$=Sc(c)?F:c;n&&n>0&&(B?$=B/n:$&&(B=$*n),h&&$>h&&($=h)),Xa(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,o,c,d,f,n);var R=!Array.isArray(m)&&bo(m.type).endsWith("Chart");return D.Children.map(m,function(M){return D.isValidElement(M)?x.cloneElement(M,Zx({width:B,height:$},R?{style:Zx({height:"100%",width:"100%",maxHeight:$,maxWidth:B},M.props.style)}:{})):M})},[n,m,c,h,f,d,E,o]);return D.createElement("div",{id:g?"".concat(g):void 0,className:Rt("recharts-responsive-container",y),style:Zx(Zx({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},O)}),ju=function(t){return null};ju.displayName="Cell";function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){Ybe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ybe(e,t,n){return t=Qbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=Xbe(e,"string");return Gm(t)=="symbol"?t:t+""}function Xbe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Du={widthCache:{},cacheCount:0},Zbe=2e3,Jbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BO="recharts_measurement_span";function eje(e){var t=WN({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Zh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ba.isSsr)return{width:0,height:0};var r=eje(n),a=JSON.stringify({text:t,copyStyle:r});if(Du.widthCache[a])return Du.widthCache[a];try{var i=document.getElementById(BO);i||(i=document.createElement("span"),i.setAttribute("id",BO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=WN(WN({},Jbe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Du.widthCache[a]=c,++Du.cacheCount>Zbe&&(Du.cacheCount=0,Du.widthCache={}),c}catch{return{width:0,height:0}}},tje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function tv(e,t){return aje(e)||sje(e,t)||rje(e,t)||nje()}function nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rje(e,t){if(e){if(typeof e=="string")return zO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zO(e,t)}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aje(e){if(Array.isArray(e))return e}function ije(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lje(r.key),r)}}function oje(e,t,n){return t&&qO(e.prototype,t),n&&qO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lje(e){var t=cje(e,"string");return Ym(t)=="symbol"?t:t+""}function cje(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fje=Object.keys(Kz),ed="NaN";function hje(e,t){return e*Kz[t]}var Jx=function(){function e(t,n){ije(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!uje.test(n)&&(this.num=NaN,this.unit=""),fje.includes(n)&&(this.num=hje(t,n),this.unit="px")}return oje(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=dje.exec(n))!==null&&r!==void 0?r:[],i=tv(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Hz(e){if(e.includes(ed))return ed;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=WO.exec(t))!==null&&n!==void 0?n:[],a=tv(r,4),i=a[1],o=a[2],l=a[3],c=Jx.parse(i??""),u=Jx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ed;t=t.replace(WO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=UO.exec(t))!==null&&f!==void 0?f:[],m=tv(h,4),v=m[1],p=m[2],g=m[3],y=Jx.parse(v??""),b=Jx.parse(g??""),j=p==="+"?y.add(b):y.subtract(b);if(j.isNaN())return ed;t=t.replace(UO,j.toString())}return t}var VO=/\(([^()]*)\)/;function mje(e){for(var t=e;t.includes("(");){var n=VO.exec(t),r=tv(n,2),a=r[1];t=t.replace(VO,Hz(a))}return t}function pje(e){var t=e.replace(/\s+/g,"");return t=mje(t),t=Hz(t),t}function xje(e){try{return pje(e)}catch{return ed}}function iw(e){var t=xje(e.slice(5,-1));return t===ed?"":t}var gje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yje=["dx","dy","angle","className","breakAll"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(this,arguments)}function KO(e,t){if(e==null)return{};var n=vje(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HO(e,t){return _je(e)||wje(e,t)||jje(e,t)||bje()}function bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jje(e,t){if(e){if(typeof e=="string")return GO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GO(e,t)}}function GO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _je(e){if(Array.isArray(e))return e}var Gz=/[ \f\n\r\t\v\u2028\u2029]+/,Yz=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];wt(n)||(r?i=n.toString().split(""):i=n.toString().split(Gz));var o=i.map(function(c){return{word:c,width:Zh(c,a).width}}),l=r?0:Zh("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Nje=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ie(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,R){var M=R.word,T=R.width,J=$[$.length-1];if(J&&(a==null||i||J.width+T+r<Number(a)))J.words.push(M),J.width+=T+r;else{var re={words:[M],width:T};$.push(re)}return $},[])},m=h(n),v=function(B){return B.reduce(function($,R){return $.width>R.width?$:R})};if(!d)return m;for(var p="",g=function(B){var $=f.slice(0,B),R=Yz({breakAll:u,style:c,children:$+p}).wordsWithComputedWidth,M=h(R),T=M.length>o||v(M).width>Number(a);return[T,M]},y=0,b=f.length-1,j=0,w;y<=b&&j<=f.length-1;){var N=Math.floor((y+b)/2),S=N-1,_=g(S),C=HO(_,2),E=C[0],P=C[1],A=g(N),O=HO(A,1),I=O[0];if(!E&&!I&&(y=N+1),E&&I&&(b=N-1),!E&&I){w=P;break}j++}return w||m},YO=function(t){var n=wt(t)?[]:t.toString().split(Gz);return[{words:n}]},Sje=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!ba.isSsr){var c,u,d=Yz({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return YO(a);return Nje({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return YO(a)},QO="#808080",du=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,g=t.fill,y=g===void 0?QO:g,b=KO(t,gje),j=x.useMemo(function(){return Sje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,N=b.dy,S=b.angle,_=b.className,C=b.breakAll,E=KO(b,yje);if(!_r(r)||!_r(i))return null;var P=r+(Ie(w)?w:0),A=i+(Ie(N)?N:0),O;switch(p){case"start":O=iw("calc(".concat(u,")"));break;case"middle":O=iw("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=iw("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(f){var F=j[0].width,B=b.width;I.push("scale(".concat((Ie(B)?B/F:1)/F,")"))}return S&&I.push("rotate(".concat(S,", ").concat(P,", ").concat(A,")")),I.length&&(E.transform=I.join(" ")),D.createElement("text",UN({},ut(E,!0),{x:P,y:A,className:Rt("recharts-text",_),textAnchor:m,fill:y.includes("url")?QO:y}),j.map(function($,R){var M=$.words.join(C?"":" ");return D.createElement("tspan",{x:P,dy:R===0?O:l,key:"".concat(M,"-").concat(R)},M)}))};function Tl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wC(e){let t,n,r;e.length!==2?(t=Tl,n=(l,c)=>Tl(e(l),c),r=(l,c)=>e(l)-c):(t=e===Tl||e===Cje?e:Pje,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Pje(){return 0}function Qz(e){return e===null?NaN:+e}function*Eje(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const kje=wC(Tl),Xp=kje.right;wC(Qz).center;class XO extends Map{constructor(t,n=Tje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(ZO(this,t))}has(t){return super.has(ZO(this,t))}set(t,n){return super.set(Aje(this,t),n)}delete(t){return super.delete(Oje(this,t))}}function ZO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Aje({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Oje({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Tje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mje(e=Tl){if(e===Tl)return Xz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Xz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $je=Math.sqrt(50),Dje=Math.sqrt(10),Ije=Math.sqrt(2);function nv(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=$je?10:i>=Dje?5:i>=Ije?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?nv(e,t,n*2):[l,c,u]}function VN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?nv(t,e,n):nv(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function KN(e,t,n){return t=+t,e=+e,n=+n,nv(e,t,n)[2]}function HN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?KN(t,e,n):KN(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function JO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Zz(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Xz:Mje(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),v=Math.min(r,Math.floor(t+(c-u)*f/c+h));Zz(e,t,m,v,a)}const i=e[t];let o=n,l=r;for(bh(e,n,t),a(e[r],i)>0&&bh(e,n,r);o<l;){for(bh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?bh(e,n,l):(++l,bh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function bh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rje(e,t,n){if(e=Float64Array.from(Eje(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return eT(e);if(t>=1)return JO(e);var r,a=(r-1)*t,i=Math.floor(a),o=JO(Zz(e,i).subarray(0,i+1)),l=eT(e.subarray(i+1));return o+(l-o)*(a-i)}}function Fje(e,t,n=Qz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Lje(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const GN=Symbol("implicit");function _C(){var e=new XO,t=[],n=[],r=GN;function a(i){let o=e.get(i);if(o===void 0){if(r!==GN)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new XO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _C(t,n).unknown(r)},ka.apply(a,arguments),a}function Qm(){var e=_C().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<r,v=m?a:r,p=m?r:a;i=(p-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=Lje(h).map(function(y){return v+i*y});return n(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Qm(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ka.apply(f(),arguments)}function Jz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Jz(t())},e}function Jh(){return Jz(Qm.apply(null,arguments).paddingInner(1))}function NC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eq(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zp(){}var Xm=.7,rv=1/Xm,gd="\\s*([+-]?\\d+)\\s*",Zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bje=/^#([0-9a-f]{3,8})$/,zje=new RegExp(`^rgb\\(${gd},${gd},${gd}\\)$`),qje=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),Wje=new RegExp(`^rgba\\(${gd},${gd},${gd},${Zm}\\)$`),Uje=new RegExp(`^rgba\\(${ki},${ki},${ki},${Zm}\\)$`),Vje=new RegExp(`^hsl\\(${Zm},${ki},${ki}\\)$`),Kje=new RegExp(`^hsla\\(${Zm},${ki},${ki},${Zm}\\)$`),tT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NC(Zp,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nT,formatHex:nT,formatHex8:Hje,formatHsl:Gje,formatRgb:rT,toString:rT});function nT(){return this.rgb().formatHex()}function Hje(){return this.rgb().formatHex8()}function Gje(){return tq(this).formatHsl()}function rT(){return this.rgb().formatRgb()}function Jm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bje.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sT(t):n===3?new Cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zje.exec(e))?new Cs(t[1],t[2],t[3],1):(t=qje.exec(e))?new Cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wje.exec(e))?eg(t[1],t[2],t[3],t[4]):(t=Uje.exec(e))?eg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Vje.exec(e))?oT(t[1],t[2]/100,t[3]/100,1):(t=Kje.exec(e))?oT(t[1],t[2]/100,t[3]/100,t[4]):tT.hasOwnProperty(e)?sT(tT[e]):e==="transparent"?new Cs(NaN,NaN,NaN,0):null}function sT(e){return new Cs(e>>16&255,e>>8&255,e&255,1)}function eg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Cs(e,t,n,r)}function Yje(e){return e instanceof Zp||(e=Jm(e)),e?(e=e.rgb(),new Cs(e.r,e.g,e.b,e.opacity)):new Cs}function YN(e,t,n,r){return arguments.length===1?Yje(e):new Cs(e,t,n,r??1)}function Cs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NC(Cs,YN,eq(Zp,{brighter(e){return e=e==null?rv:Math.pow(rv,e),new Cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xm:Math.pow(Xm,e),new Cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cs(Uc(this.r),Uc(this.g),Uc(this.b),sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aT,formatHex:aT,formatHex8:Qje,formatRgb:iT,toString:iT}));function aT(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function Qje(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function iT(){const e=sv(this.opacity);return`${e===1?"rgb(":"rgba("}${Uc(this.r)}, ${Uc(this.g)}, ${Uc(this.b)}${e===1?")":`, ${e})`}`}function sv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cc(e){return e=Uc(e),(e<16?"0":"")+e.toString(16)}function oT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ua(e,t,n,r)}function tq(e){if(e instanceof Ua)return new Ua(e.h,e.s,e.l,e.opacity);if(e instanceof Zp||(e=Jm(e)),!e)return new Ua;if(e instanceof Ua)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ua(o,l,c,e.opacity)}function Xje(e,t,n,r){return arguments.length===1?tq(e):new Ua(e,t,n,r??1)}function Ua(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NC(Ua,Xje,eq(Zp,{brighter(e){return e=e==null?rv:Math.pow(rv,e),new Ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xm:Math.pow(Xm,e),new Ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Cs(ow(e>=240?e-240:e+120,a,r),ow(e,a,r),ow(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ua(lT(this.h),tg(this.s),tg(this.l),sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sv(this.opacity);return`${e===1?"hsl(":"hsla("}${lT(this.h)}, ${tg(this.s)*100}%, ${tg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lT(e){return e=(e||0)%360,e<0?e+360:e}function tg(e){return Math.max(0,Math.min(1,e||0))}function ow(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const SC=e=>()=>e;function Zje(e,t){return function(n){return e+n*t}}function Jje(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ewe(e){return(e=+e)==1?nq:function(t,n){return n-t?Jje(t,n,e):SC(isNaN(t)?n:t)}}function nq(e,t){var n=t-e;return n?Zje(e,n):SC(isNaN(e)?t:e)}const cT=function e(t){var n=ewe(t);function r(a,i){var o=n((a=YN(a)).r,(i=YN(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=nq(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function twe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function nwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rwe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zf(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function swe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function av(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function awe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zf(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var QN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lw=new RegExp(QN.source,"g");function iwe(e){return function(){return e}}function owe(e){return function(t){return e(t)+""}}function lwe(e,t){var n=QN.lastIndex=lw.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=QN.exec(e))&&(a=lw.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:av(r,a)})),n=lw.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?owe(c[0].x):iwe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Zf(e,t){var n=typeof t,r;return t==null||n==="boolean"?SC(t):(n==="number"?av:n==="string"?(r=Jm(t))?(t=r,cT):lwe:t instanceof Jm?cT:t instanceof Date?swe:nwe(t)?twe:Array.isArray(t)?rwe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?awe:av)(e,t)}function CC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function cwe(e,t){t===void 0&&(t=e,e=Zf);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function uwe(e){return function(){return e}}function iv(e){return+e}var uT=[0,1];function hs(e){return e}function XN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:uwe(isNaN(t)?NaN:.5)}function dwe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function fwe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=XN(a,r),i=n(o,i)):(r=XN(r,a),i=n(i,o)),function(l){return i(r(l))}}function hwe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=XN(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Xp(e,l,1,r)-1;return i[c](a[c](l))}}function Jp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gb(){var e=uT,t=uT,n=Zf,r,a,i,o=hs,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==hs&&(o=dwe(e[0],e[h-1])),l=h>2?hwe:fwe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(r),av)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,iv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=CC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:hs,d()):o!==hs},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return r=h,a=m,d()}}function PC(){return gb()(hs,hs)}function mwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ov(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tf(e){return e=ov(Math.abs(e)),e?e[1]:NaN}function pwe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xwe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ep(e){if(!(t=gwe.exec(e)))throw new Error("invalid format: "+e);var t;return new EC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ep.prototype=EC.prototype;function EC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ywe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var rq;function vwe(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(rq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ov(e,Math.max(0,t+i-1))[0]}function dT(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const fT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dT(e*100,t),r:dT,s:vwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hT(e){return e}var mT=Array.prototype.map,pT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bwe(e){var t=e.grouping===void 0||e.thousands===void 0?hT:pwe(mT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?hT:xwe(mT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ep(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,g=f.zero,y=f.width,b=f.comma,j=f.precision,w=f.trim,N=f.type;N==="n"?(b=!0,N="g"):fT[N]||(j===void 0&&(j=12),w=!0,N="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=p==="$"?r:/[%p]/.test(N)?o:"",C=fT[N],E=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(A){var O=S,I=_,F,B,$;if(N==="c")I=C(A)+I,A="";else{A=+A;var R=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),j),w&&(A=ywe(A)),R&&+A==0&&v!=="+"&&(R=!1),O=(R?v==="("?v:l:v==="-"||v==="("?"":v)+O,I=(N==="s"?pT[8+rq/3]:"")+I+(R&&v==="("?")":""),E){for(F=-1,B=A.length;++F<B;)if($=A.charCodeAt(F),48>$||$>57){I=($===46?a+A.slice(F+1):A.slice(F))+I,A=A.slice(0,F);break}}}b&&!g&&(A=t(A,1/0));var M=O.length+A.length+I.length,T=M<y?new Array(y-M+1).join(h):"";switch(b&&g&&(A=t(T+A,T.length?y-I.length:1/0),T=""),m){case"<":A=O+A+I+T;break;case"=":A=O+T+A+I;break;case"^":A=T.slice(0,M=T.length>>1)+O+A+I+T.slice(M);break;default:A=T+O+A+I;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=ep(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(tf(h)/3)))*3,p=Math.pow(10,-v),g=pT[8+v/3];return function(y){return m(p*y)+g}}return{format:u,formatPrefix:d}}var ng,kC,sq;jwe({thousands:",",grouping:[3],currency:["$",""]});function jwe(e){return ng=bwe(e),kC=ng.format,sq=ng.formatPrefix,ng}function wwe(e){return Math.max(0,-tf(Math.abs(e)))}function _we(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tf(t)/3)))*3-tf(Math.abs(e)))}function Nwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tf(t)-tf(e))+1}function aq(e,t,n,r){var a=HN(e,t,n),i;switch(r=ep(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=_we(a,o))&&(r.precision=i),sq(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Nwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=wwe(a))&&(r.precision=i-(r.type==="%")*2);break}}return kC(r)}function nc(e){var t=e.domain;return e.ticks=function(n){var r=t();return VN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return aq(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=KN(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lv(){var e=PC();return e.copy=function(){return Jp(e,lv())},ka.apply(e,arguments),nc(e)}function iq(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,iv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return iq(e).unknown(t)},e=arguments.length?Array.from(e,iv):[0,1],nc(n)}function oq(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function xT(e){return Math.log(e)}function gT(e){return Math.exp(e)}function Swe(e){return-Math.log(-e)}function Cwe(e){return-Math.exp(-e)}function Pwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ewe(e){return e===10?Pwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yT(e){return(t,n)=>-e(-t,n)}function AC(e){const t=e(xT,gT),n=t.domain;let r=10,a,i;function o(){return a=kwe(r),i=Ewe(r),n()[0]<0?(a=yT(a),i=yT(i),e(Swe,Cwe)):e(xT,gT),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const g=l==null?10:+l;let y=[];if(!(r%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<g&&(y=VN(u,d,g))}else y=VN(h,m,Math.min(m-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ep(c)).precision==null&&(c.trim=!0),c=kC(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(oq(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function lq(){const e=AC(gb()).domain([1,10]);return e.copy=()=>Jp(e,lq()).base(e.base()),ka.apply(e,arguments),e}function vT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function OC(e){var t=1,n=e(vT(t),bT(t));return n.constant=function(r){return arguments.length?e(vT(t=+r),bT(t)):t},nc(n)}function cq(){var e=OC(gb());return e.copy=function(){return Jp(e,cq()).constant(e.constant())},ka.apply(e,arguments)}function jT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Awe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Owe(e){return e<0?-e*e:e*e}function TC(e){var t=e(hs,hs),n=1;function r(){return n===1?e(hs,hs):n===.5?e(Awe,Owe):e(jT(n),jT(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},nc(t)}function MC(){var e=TC(gb());return e.copy=function(){return Jp(e,MC()).exponent(e.exponent())},ka.apply(e,arguments),e}function Twe(){return MC.apply(null,arguments).exponent(.5)}function wT(e){return Math.sign(e)*e*e}function Mwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uq(){var e=PC(),t=[0,1],n=!1,r;function a(i){var o=Mwe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(wT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,iv)).map(wT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uq(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ka.apply(a,arguments),nc(a)}function dq(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Fje(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Xp(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Tl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return dq().domain(e).range(t).unknown(r)},ka.apply(i,arguments)}function fq(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Xp(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return fq().domain([e,t]).range(a).unknown(i)},ka.apply(nc(o),arguments)}function hq(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Xp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return hq().domain(e).range(t).unknown(n)},ka.apply(a,arguments)}const cw=new Date,uw=new Date;function Pr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Pr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(cw.setTime(+i),uw.setTime(+o),e(cw),e(uw),Math.floor(n(cw,uw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const cv=Pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):cv);cv.range;const mo=1e3,pa=mo*60,po=pa*60,To=po*24,$C=To*7,_T=To*30,dw=To*365,Pc=Pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCSeconds());Pc.range;const DC=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mo)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());DC.range;const IC=Pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());IC.range;const RC=Pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mo-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getHours());RC.range;const FC=Pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCHours());FC.range;const ex=Pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/To,e=>e.getDate()-1);ex.range;const yb=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/To,e=>e.getUTCDate()-1);yb.range;const mq=Pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/To,e=>Math.floor(e/To));mq.range;function wu(e){return Pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pa)/$C)}const vb=wu(0),uv=wu(1),$we=wu(2),Dwe=wu(3),nf=wu(4),Iwe=wu(5),Rwe=wu(6);vb.range;uv.range;$we.range;Dwe.range;nf.range;Iwe.range;Rwe.range;function _u(e){return Pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$C)}const bb=_u(0),dv=_u(1),Fwe=_u(2),Lwe=_u(3),rf=_u(4),Bwe=_u(5),zwe=_u(6);bb.range;dv.range;Fwe.range;Lwe.range;rf.range;Bwe.range;zwe.range;const LC=Pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LC.range;const BC=Pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BC.range;const Mo=Pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Mo.range;const $o=Pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$o.range;function pq(e,t,n,r,a,i){const o=[[Pc,1,mo],[Pc,5,5*mo],[Pc,15,15*mo],[Pc,30,30*mo],[i,1,pa],[i,5,5*pa],[i,15,15*pa],[i,30,30*pa],[a,1,po],[a,3,3*po],[a,6,6*po],[a,12,12*po],[r,1,To],[r,2,2*To],[n,1,$C],[t,1,_T],[t,3,3*_T],[e,1,dw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=wC(([,,g])=>g).right(o,h);if(m===o.length)return e.every(HN(u/dw,d/dw,f));if(m===0)return cv.every(Math.max(HN(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[qwe,Wwe]=pq($o,BC,bb,mq,FC,IC),[Uwe,Vwe]=pq(Mo,LC,vb,ex,RC,DC);function fw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Kwe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=wh(a),d=_h(a),f=wh(i),h=_h(i),m=wh(o),v=_h(o),p=wh(l),g=_h(l),y=wh(c),b=_h(c),j={a:R,A:M,b:T,B:J,c:null,d:kT,e:kT,f:p_e,g:S_e,G:P_e,H:f_e,I:h_e,j:m_e,L:xq,m:x_e,M:g_e,p:re,q:X,Q:TT,s:MT,S:y_e,u:v_e,U:b_e,V:j_e,w:w_e,W:__e,x:null,X:null,y:N_e,Y:C_e,Z:E_e,"%":OT},w={a:ye,A:Re,b:Je,B:lt,c:null,d:AT,e:AT,f:T_e,g:q_e,G:U_e,H:k_e,I:A_e,j:O_e,L:yq,m:M_e,M:$_e,p:je,q:Oe,Q:TT,s:MT,S:D_e,u:I_e,U:R_e,V:F_e,w:L_e,W:B_e,x:null,X:null,y:z_e,Y:W_e,Z:V_e,"%":OT},N={a:P,A,b:O,B:I,c:F,d:PT,e:PT,f:l_e,g:CT,G:ST,H:ET,I:ET,j:s_e,L:o_e,m:r_e,M:a_e,p:E,q:n_e,Q:u_e,s:d_e,S:i_e,u:Xwe,U:Zwe,V:Jwe,w:Qwe,W:e_e,x:B,X:$,y:CT,Y:ST,Z:t_e,"%":c_e};j.x=S(n,j),j.X=S(r,j),j.c=S(t,j),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(ce,_e){return function(H){var Y=[],L=-1,Z=0,Be=ce.length,Ke,st,$t;for(H instanceof Date||(H=new Date(+H));++L<Be;)ce.charCodeAt(L)===37&&(Y.push(ce.slice(Z,L)),(st=NT[Ke=ce.charAt(++L)])!=null?Ke=ce.charAt(++L):st=Ke==="e"?" ":"0",($t=_e[Ke])&&(Ke=$t(H,st)),Y.push(Ke),Z=L+1);return Y.push(ce.slice(Z,L)),Y.join("")}}function _(ce,_e){return function(H){var Y=jh(1900,void 0,1),L=C(Y,ce,H+="",0),Z,Be;if(L!=H.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(_e&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Z=hw(jh(Y.y,0,1)),Be=Z.getUTCDay(),Z=Be>4||Be===0?dv.ceil(Z):dv(Z),Z=yb.offset(Z,(Y.V-1)*7),Y.y=Z.getUTCFullYear(),Y.m=Z.getUTCMonth(),Y.d=Z.getUTCDate()+(Y.w+6)%7):(Z=fw(jh(Y.y,0,1)),Be=Z.getDay(),Z=Be>4||Be===0?uv.ceil(Z):uv(Z),Z=ex.offset(Z,(Y.V-1)*7),Y.y=Z.getFullYear(),Y.m=Z.getMonth(),Y.d=Z.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Be="Z"in Y?hw(jh(Y.y,0,1)).getUTCDay():fw(jh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Be+5)%7:Y.w+Y.U*7-(Be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,hw(Y)):fw(Y)}}function C(ce,_e,H,Y){for(var L=0,Z=_e.length,Be=H.length,Ke,st;L<Z;){if(Y>=Be)return-1;if(Ke=_e.charCodeAt(L++),Ke===37){if(Ke=_e.charAt(L++),st=N[Ke in NT?_e.charAt(L++):Ke],!st||(Y=st(ce,H,Y))<0)return-1}else if(Ke!=H.charCodeAt(Y++))return-1}return Y}function E(ce,_e,H){var Y=u.exec(_e.slice(H));return Y?(ce.p=d.get(Y[0].toLowerCase()),H+Y[0].length):-1}function P(ce,_e,H){var Y=m.exec(_e.slice(H));return Y?(ce.w=v.get(Y[0].toLowerCase()),H+Y[0].length):-1}function A(ce,_e,H){var Y=f.exec(_e.slice(H));return Y?(ce.w=h.get(Y[0].toLowerCase()),H+Y[0].length):-1}function O(ce,_e,H){var Y=y.exec(_e.slice(H));return Y?(ce.m=b.get(Y[0].toLowerCase()),H+Y[0].length):-1}function I(ce,_e,H){var Y=p.exec(_e.slice(H));return Y?(ce.m=g.get(Y[0].toLowerCase()),H+Y[0].length):-1}function F(ce,_e,H){return C(ce,t,_e,H)}function B(ce,_e,H){return C(ce,n,_e,H)}function $(ce,_e,H){return C(ce,r,_e,H)}function R(ce){return o[ce.getDay()]}function M(ce){return i[ce.getDay()]}function T(ce){return c[ce.getMonth()]}function J(ce){return l[ce.getMonth()]}function re(ce){return a[+(ce.getHours()>=12)]}function X(ce){return 1+~~(ce.getMonth()/3)}function ye(ce){return o[ce.getUTCDay()]}function Re(ce){return i[ce.getUTCDay()]}function Je(ce){return c[ce.getUTCMonth()]}function lt(ce){return l[ce.getUTCMonth()]}function je(ce){return a[+(ce.getUTCHours()>=12)]}function Oe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var _e=S(ce+="",j);return _e.toString=function(){return ce},_e},parse:function(ce){var _e=_(ce+="",!1);return _e.toString=function(){return ce},_e},utcFormat:function(ce){var _e=S(ce+="",w);return _e.toString=function(){return ce},_e},utcParse:function(ce){var _e=_(ce+="",!0);return _e.toString=function(){return ce},_e}}}var NT={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,Hwe=/^%/,Gwe=/[\\^$*+?|[\]().{}]/g;function un(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Ywe(e){return e.replace(Gwe,"\\$&")}function wh(e){return new RegExp("^(?:"+e.map(Ywe).join("|")+")","i")}function _h(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Qwe(e,t,n){var r=Mr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Xwe(e,t,n){var r=Mr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Zwe(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jwe(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function e_e(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ST(e,t,n){var r=Mr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CT(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function t_e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function n_e(e,t,n){var r=Mr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function r_e(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function PT(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function s_e(e,t,n){var r=Mr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ET(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function a_e(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function i_e(e,t,n){var r=Mr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function o_e(e,t,n){var r=Mr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function l_e(e,t,n){var r=Mr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function c_e(e,t,n){var r=Hwe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function u_e(e,t,n){var r=Mr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function d_e(e,t,n){var r=Mr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kT(e,t){return un(e.getDate(),t,2)}function f_e(e,t){return un(e.getHours(),t,2)}function h_e(e,t){return un(e.getHours()%12||12,t,2)}function m_e(e,t){return un(1+ex.count(Mo(e),e),t,3)}function xq(e,t){return un(e.getMilliseconds(),t,3)}function p_e(e,t){return xq(e,t)+"000"}function x_e(e,t){return un(e.getMonth()+1,t,2)}function g_e(e,t){return un(e.getMinutes(),t,2)}function y_e(e,t){return un(e.getSeconds(),t,2)}function v_e(e){var t=e.getDay();return t===0?7:t}function b_e(e,t){return un(vb.count(Mo(e)-1,e),t,2)}function gq(e){var t=e.getDay();return t>=4||t===0?nf(e):nf.ceil(e)}function j_e(e,t){return e=gq(e),un(nf.count(Mo(e),e)+(Mo(e).getDay()===4),t,2)}function w_e(e){return e.getDay()}function __e(e,t){return un(uv.count(Mo(e)-1,e),t,2)}function N_e(e,t){return un(e.getFullYear()%100,t,2)}function S_e(e,t){return e=gq(e),un(e.getFullYear()%100,t,2)}function C_e(e,t){return un(e.getFullYear()%1e4,t,4)}function P_e(e,t){var n=e.getDay();return e=n>=4||n===0?nf(e):nf.ceil(e),un(e.getFullYear()%1e4,t,4)}function E_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function AT(e,t){return un(e.getUTCDate(),t,2)}function k_e(e,t){return un(e.getUTCHours(),t,2)}function A_e(e,t){return un(e.getUTCHours()%12||12,t,2)}function O_e(e,t){return un(1+yb.count($o(e),e),t,3)}function yq(e,t){return un(e.getUTCMilliseconds(),t,3)}function T_e(e,t){return yq(e,t)+"000"}function M_e(e,t){return un(e.getUTCMonth()+1,t,2)}function $_e(e,t){return un(e.getUTCMinutes(),t,2)}function D_e(e,t){return un(e.getUTCSeconds(),t,2)}function I_e(e){var t=e.getUTCDay();return t===0?7:t}function R_e(e,t){return un(bb.count($o(e)-1,e),t,2)}function vq(e){var t=e.getUTCDay();return t>=4||t===0?rf(e):rf.ceil(e)}function F_e(e,t){return e=vq(e),un(rf.count($o(e),e)+($o(e).getUTCDay()===4),t,2)}function L_e(e){return e.getUTCDay()}function B_e(e,t){return un(dv.count($o(e)-1,e),t,2)}function z_e(e,t){return un(e.getUTCFullYear()%100,t,2)}function q_e(e,t){return e=vq(e),un(e.getUTCFullYear()%100,t,2)}function W_e(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function U_e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rf(e):rf.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function V_e(){return"+0000"}function OT(){return"%"}function TT(e){return+e}function MT(e){return Math.floor(+e/1e3)}var Iu,bq,jq;K_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K_e(e){return Iu=Kwe(e),bq=Iu.format,Iu.parse,jq=Iu.utcFormat,Iu.utcParse,Iu}function H_e(e){return new Date(e)}function G_e(e){return e instanceof Date?+e:+new Date(+e)}function zC(e,t,n,r,a,i,o,l,c,u){var d=PC(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),j=u("%B"),w=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?p:i(S)<S?g:r(S)<S?a(S)<S?y:b:n(S)<S?j:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,G_e)):h().map(H_e)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?N:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(oq(_,S)):d},d.copy=function(){return Jp(d,zC(e,t,n,r,a,i,o,l,c,u))},d}function Y_e(){return ka.apply(zC(Uwe,Vwe,Mo,LC,vb,ex,RC,DC,Pc,bq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q_e(){return ka.apply(zC(qwe,Wwe,$o,BC,bb,yb,FC,IC,Pc,jq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jb(){var e=0,t=1,n,r,a,i,o=hs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Zf),u.rangeRound=d(CC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function rc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wq(){var e=nc(jb()(hs));return e.copy=function(){return rc(e,wq())},Lo.apply(e,arguments)}function _q(){var e=AC(jb()).domain([1,10]);return e.copy=function(){return rc(e,_q()).base(e.base())},Lo.apply(e,arguments)}function Nq(){var e=OC(jb());return e.copy=function(){return rc(e,Nq()).constant(e.constant())},Lo.apply(e,arguments)}function qC(){var e=TC(jb());return e.copy=function(){return rc(e,qC()).exponent(e.exponent())},Lo.apply(e,arguments)}function X_e(){return qC.apply(null,arguments).exponent(.5)}function Sq(){var e=[],t=hs;function n(r){if(r!=null&&!isNaN(r=+r))return t((Xp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Tl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Rje(e,i/r))},n.copy=function(){return Sq(t).domain(e)},Lo.apply(n,arguments)}function wb(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=hs,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(g){var y,b,j;return arguments.length?([y,b,j]=g,u=cwe(p,[y,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=v(Zf),m.rangeRound=v(CC),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function Cq(){var e=nc(wb()(hs));return e.copy=function(){return rc(e,Cq())},Lo.apply(e,arguments)}function Pq(){var e=AC(wb()).domain([.1,1,10]);return e.copy=function(){return rc(e,Pq()).base(e.base())},Lo.apply(e,arguments)}function Eq(){var e=OC(wb());return e.copy=function(){return rc(e,Eq()).constant(e.constant())},Lo.apply(e,arguments)}function WC(){var e=TC(wb());return e.copy=function(){return rc(e,WC()).exponent(e.exponent())},Lo.apply(e,arguments)}function Z_e(){return WC.apply(null,arguments).exponent(.5)}const $T=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qm,scaleDiverging:Cq,scaleDivergingLog:Pq,scaleDivergingPow:WC,scaleDivergingSqrt:Z_e,scaleDivergingSymlog:Eq,scaleIdentity:iq,scaleImplicit:GN,scaleLinear:lv,scaleLog:lq,scaleOrdinal:_C,scalePoint:Jh,scalePow:MC,scaleQuantile:dq,scaleQuantize:fq,scaleRadial:uq,scaleSequential:wq,scaleSequentialLog:_q,scaleSequentialPow:qC,scaleSequentialQuantile:Sq,scaleSequentialSqrt:X_e,scaleSequentialSymlog:Nq,scaleSqrt:Twe,scaleSymlog:cq,scaleThreshold:hq,scaleTime:Y_e,scaleUtc:Q_e,tickFormat:aq},Symbol.toStringTag,{value:"Module"}));var J_e=Wf;function eNe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!J_e(o):n(o,l)))var l=o,c=i}return c}var _b=eNe;function tNe(e,t){return e>t}var kq=tNe,nNe=_b,rNe=kq,sNe=Xf;function aNe(e){return e&&e.length?nNe(e,sNe,rNe):void 0}var iNe=aNe;const vl=pn(iNe);function oNe(e,t){return e<t}var Aq=oNe,lNe=_b,cNe=Aq,uNe=Xf;function dNe(e){return e&&e.length?lNe(e,uNe,cNe):void 0}var fNe=dNe;const Nb=pn(fNe);var hNe=sC,mNe=Vi,pNe=Fz,xNe=Rs;function gNe(e,t){var n=xNe(e)?hNe:pNe;return n(e,mNe(t))}var yNe=gNe,vNe=Iz,bNe=yNe;function jNe(e,t){return vNe(bNe(e,t),1)}var wNe=jNe;const _Ne=pn(wNe);var NNe=yC;function SNe(e,t){return NNe(e,t)}var CNe=SNe;const Gl=pn(CNe);var Jf=1e9,PNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VC,Vn=!0,Na="[DecimalError] ",Vc=Na+"Invalid argument: ",UC=Na+"Exponent out of range: ",eh=Math.floor,gc=Math.pow,ENe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hs,Er=1e7,Ln=7,Oq=9007199254740991,fv=eh(Oq/Ln),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ln;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ot.dividedBy=ot.div=function(e){return jo(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,n=t.constructor;return _n(jo(t,new n(e),0,1),n.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return pr(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Hs))throw Error(Na+"NaN");if(n.s<1)throw Error(Na+(n.s?"NaN":"-Infinity"));return n.eq(Hs)?new r(0):(Vn=!1,t=jo(tp(n,i),tp(e,i),i),Vn=!0,_n(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$q(t,e):Tq(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Na+"NaN");return n.s?(Vn=!1,t=jo(n,e,0,1).times(e),Vn=!0,n.minus(t)):_n(new r(n),a)};ot.naturalExponential=ot.exp=function(){return Mq(this)};ot.naturalLogarithm=ot.ln=function(){return tp(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tq(t,e):$q(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vc+e);if(t=pr(a)+1,r=a.d.length-1,n=r*Ln+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ot.squareRoot=ot.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Na+"NaN")}for(e=pr(l),Vn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ji(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=eh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(jo(l,i,o+2)).times(.5),ji(i.d).slice(0,o)===(t=ji(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_n(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Vn=!0,_n(r,n)};ot.times=ot.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*h[a-r-1]+t,i[a--]=l%Er|0,t=l/Er|0;i[a]=(i[a]+t)%Er|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Vn?_n(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fi(e,0,Jf),t===void 0?t=r.rounding:Fi(t,0,8),_n(n,e+pr(n)+1,t))};ot.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=fu(r,!0):(Fi(e,0,Jf),t===void 0?t=a.rounding:Fi(t,0,8),r=_n(new a(r),e+1,t),n=fu(r,!0,e+1)),n};ot.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?fu(a):(Fi(e,0,Jf),t===void 0?t=i.rounding:Fi(t,0,8),r=_n(new i(a),e+pr(a)+1,t),n=fu(r.abs(),!1,e+pr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return _n(new t(e),pr(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Hs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Na+"Infinity");return l}if(l.eq(Hs))return l;if(r=c.precision,e.eq(Hs))return _n(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=Oq){for(a=new c(Hs),t=Math.ceil(r/Ln+4),Vn=!1;n%2&&(a=a.times(l),IT(a.d,t)),n=eh(n/2),n!==0;)l=l.times(l),IT(l.d,t);return Vn=!0,e.s<0?new c(Hs).div(a):_n(a,r)}}else if(i<0)throw Error(Na+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Vn=!1,a=e.times(tp(l,r+u)),Vn=!0,a=Mq(a),a.s=i,a};ot.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=pr(a),r=fu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Fi(e,1,Jf),t===void 0?t=i.rounding:Fi(t,0,8),a=_n(new i(a),e,t),n=pr(a),r=fu(a,e<=n||n<=i.toExpNeg,e)),r};ot.toSignificantDigits=ot.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fi(e,1,Jf),t===void 0?t=r.rounding:Fi(t,0,8)),_n(new r(n),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pr(e),n=e.constructor;return fu(e,t<=n.toExpNeg||t>=n.toExpPos)};function Tq(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Vn?_n(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(f/Ln),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Er|0,c[i]%=Er;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Vn?_n(t,f):t}function Fi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vc+e)}function ji(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Ln-r.length,n&&(i+=nl(n)),i+=r;o=e[t],r=o+"",n=Ln-r.length,n&&(i+=nl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var jo=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Er|0,o=i/Er|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Er+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,f,h,m,v,p,g,y,b,j,w,N,S,_,C,E=r.constructor,P=r.s==a.s?1:-1,A=r.d,O=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(Na+"Division by zero");for(c=r.e-a.e,_=O.length,N=A.length,m=new E(P),v=m.d=[],u=0;O[u]==(A[u]||0);)++u;if(O[u]>(A[u]||0)&&--c,i==null?b=i=E.precision:o?b=i+(pr(r)-pr(a))+1:b=i,b<0)return new E(0);if(b=b/Ln+2|0,u=0,_==1)for(d=0,O=O[0],b++;(u<N||d)&&b--;u++)j=d*Er+(A[u]||0),v[u]=j/O|0,d=j%O|0;else{for(d=Er/(O[0]+1)|0,d>1&&(O=e(O,d),A=e(A,d),_=O.length,N=A.length),w=_,p=A.slice(0,_),g=p.length;g<_;)p[g++]=0;C=O.slice(),C.unshift(0),S=O[0],O[1]>=Er/2&&++S;do d=0,l=t(O,p,_,g),l<0?(y=p[0],_!=g&&(y=y*Er+(p[1]||0)),d=y/S|0,d>1?(d>=Er&&(d=Er-1),f=e(O,d),h=f.length,g=p.length,l=t(f,p,h,g),l==1&&(d--,n(f,_<h?C:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),n(p,f,g),l==-1&&(g=p.length,l=t(O,p,_,g),l<1&&(d++,n(p,_<g?C:O,g))),g=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[g++]=A[w]||0:(p=[A[w]],g=1);while((w++<N||p[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,_n(m,o?i+pr(m)+1:i)}}();function Mq(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(pr(e)>16)throw Error(UC+pr(e));if(!e.s)return new d(Hs);for(t==null?(Vn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(gc(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Hs),d.precision=l;;){if(a=_n(a.times(e),l),n=n.times(++c),o=i.plus(jo(a,n,l)),ji(o.d).slice(0,l)===ji(i.d).slice(0,l)){for(;u--;)i=_n(i.times(i),l);return d.precision=f,t==null?(Vn=!0,_n(i,f)):i}i=o}}function pr(e){for(var t=e.e*Ln,n=e.d[0];n>=10;n/=10)t++;return t}function mw(e,t,n){if(t>e.LN10.sd())throw Vn=!0,n&&(e.precision=n),Error(Na+"LN10 precision limit exceeded");return _n(new e(e.LN10),t)}function nl(e){for(var t="";e--;)t+="0";return t}function tp(e,t){var n,r,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(Na+(m.s?"NaN":"-Infinity"));if(m.eq(Hs))return new p(0);if(t==null?(Vn=!1,u=g):u=t,m.eq(10))return t==null&&(Vn=!0),mw(p,u);if(u+=h,p.precision=u,n=ji(v),r=n.charAt(0),i=pr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=ji(m.d),r=n.charAt(0),f++;i=pr(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=mw(p,u+2,g).times(i+""),m=tp(new p(r+"."+n.slice(1)),u-h).plus(c),p.precision=g,t==null?(Vn=!0,_n(m,g)):m;for(l=o=m=jo(m.minus(Hs),m.plus(Hs),u),d=_n(m.times(m),u),a=3;;){if(o=_n(o.times(d),u),c=l.plus(jo(o,new p(a),u)),ji(c.d).slice(0,u)===ji(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(mw(p,u+2,g).times(i+""))),l=jo(l,new p(f),u),p.precision=g,t==null?(Vn=!0,_n(l,g)):l;l=c,a+=2}}function DT(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=eh(n/Ln),e.d=[],r=(n+1)%Ln,n<0&&(r+=Ln),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Ln;r<a;)e.d.push(+t.slice(r,r+=Ln));t=t.slice(r),r=Ln-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Vn&&(e.e>fv||e.e<-fv))throw Error(UC+n)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,t,n){var r,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Ln,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Ln),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=Ln,a=r-Ln+o}if(n!==void 0&&(i=gc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/gc(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=pr(e),f.length=1,t=t-i-1,f[0]=gc(10,(Ln-t%Ln)%Ln),e.e=eh(-t/Ln)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=gc(10,Ln-r),f[d]=a>0?(u/gc(10,o-a)%gc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Er&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Er)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Vn&&(e.e>fv||e.e<-fv))throw Error(UC+pr(e));return e}function $q(e,t){var n,r,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Vn?_n(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),a=Math.max(Math.ceil(m/Ln),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Er-1;--c[i],c[a]+=Er}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Vn?_n(t,m):t):new h(0)}function fu(e,t,n){var r,a=pr(e),i=ji(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+nl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+nl(-a-1)+i,n&&(r=n-o)>0&&(i+=nl(r))):a>=o?(i+=nl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+nl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=nl(r))),e.s<0?"-"+i:i}function IT(e,t){if(e.length>t)return e.length=t,!0}function Dq(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DT(o,i.toString())}else if(typeof i!="string")throw Error(Vc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ENe.test(i))DT(o,i);else throw Error(Vc+i)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Dq,a.config=a.set=kNe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function kNe(e){if(!e||typeof e!="object")throw Error(Na+"Object expected");var t,n,r,a=["precision",1,Jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(eh(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Vc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vc+n+": "+r);return this}var VC=Dq(PNe);Hs=new VC(1);const bn=VC;function ANe(e){return $Ne(e)||MNe(e)||TNe(e)||ONe()}function ONe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e,t){if(e){if(typeof e=="string")return ZN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(e,t)}}function MNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $Ne(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DNe=function(t){return t},Iq={"@@functional/placeholder":!0},Rq=function(t){return t===Iq},RT=function(t){return function n(){return arguments.length===0||arguments.length===1&&Rq(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},INe=function e(t,n){return t===1?n:RT(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Iq}).length;return o>=t?n.apply(void 0,a):e(t-o,RT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Rq(f)?c.shift():f});return n.apply(void 0,ANe(d).concat(c))}))})},Sb=function(t){return INe(t.length,t)},JN=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},RNe=Sb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),FNe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return DNe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},e1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Fq=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function LNe(e){var t;return e===0?t=1:t=Math.floor(new bn(e).abs().log(10).toNumber())+1,t}function BNe(e,t,n){for(var r=new bn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var zNe=Sb(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),qNe=Sb(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),WNe=Sb(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Cb={rangeStep:BNe,getDigitCount:LNe,interpolateNumber:zNe,uninterpolateNumber:qNe,uninterpolateTruncation:WNe};function t1(e){return KNe(e)||VNe(e)||Lq(e)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function KNe(e){if(Array.isArray(e))return n1(e)}function np(e,t){return YNe(e)||GNe(e,t)||Lq(e,t)||HNe()}function HNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lq(e,t){if(e){if(typeof e=="string")return n1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n1(e,t)}}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GNe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function YNe(e){if(Array.isArray(e))return e}function Bq(e){var t=np(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function zq(e,t,n){if(e.lte(0))return new bn(0);var r=Cb.getDigitCount(e.toNumber()),a=new bn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new bn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new bn(Math.ceil(c))}function QNe(e,t,n){var r=1,a=new bn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new bn(10).pow(Cb.getDigitCount(e)-1),a=new bn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new bn(Math.floor(e)))}else e===0?a=new bn(Math.floor((t-1)/2)):n||(a=new bn(Math.floor(e)));var o=Math.floor((t-1)/2),l=FNe(RNe(function(c){return a.add(new bn(c-o).mul(r)).toNumber()}),JN);return l(0,t)}function qq(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new bn(0),tickMin:new bn(0),tickMax:new bn(0)};var i=zq(new bn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new bn(0):(o=new bn(e).add(t).div(2),o=o.sub(new bn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new bn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?qq(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new bn(l).mul(i)),tickMax:o.add(new bn(c).mul(i))})}function XNe(e){var t=np(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Bq([n,r]),c=np(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(t1(JN(0,a-1).map(function(){return 1/0}))):[].concat(t1(JN(0,a-1).map(function(){return-1/0})),[d]);return n>r?e1(f):f}if(u===d)return QNe(u,a,i);var h=qq(u,d,o,i),m=h.step,v=h.tickMin,p=h.tickMax,g=Cb.rangeStep(v,p.add(new bn(.1).mul(m)),m);return n>r?e1(g):g}function ZNe(e,t){var n=np(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Bq([r,a]),l=np(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),f=zq(new bn(u).sub(c).div(d-1),i,0),h=[].concat(t1(Cb.rangeStep(new bn(c),new bn(u).sub(new bn(.99).mul(f)),f)),[u]);return r>a?e1(h):h}var JNe=Fq(XNe),e1e=Fq(ZNe),t1e="Invariant failed";function hu(e,t){throw new Error(t1e)}var n1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hv.apply(this,arguments)}function r1e(e,t){return o1e(e)||i1e(e,t)||a1e(e,t)||s1e()}function s1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1e(e,t){if(e){if(typeof e=="string")return FT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(e,t)}}function FT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function o1e(e){if(Array.isArray(e))return e}function l1e(e,t){if(e==null)return{};var n=c1e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vq(r.key),r)}}function f1e(e,t,n){return t&&d1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,n){return t=mv(t),m1e(e,Wq()?Reflect.construct(t,n||[],mv(e).constructor):t.apply(e,n))}function m1e(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(e)}function p1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(e)}function x1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r1(e,t)}function r1(e,t){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},r1(e,t)}function Uq(e,t,n){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=g1e(e,"string");return sf(t)=="symbol"?t:t+""}function g1e(e,t){if(sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=function(e){function t(){return u1e(this,t),h1e(this,t,arguments)}return x1e(t,e),f1e(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=l1e(r,n1e),m=ut(h,!1);this.props.direction==="x"&&d.type!=="number"&&hu();var v=c.map(function(p){var g=u(p,l),y=g.x,b=g.y,j=g.value,w=g.errorVal;if(!w)return null;var N=[],S,_;if(Array.isArray(w)){var C=r1e(w,2);S=C[0],_=C[1]}else S=_=w;if(i==="vertical"){var E=d.scale,P=b+a,A=P+o,O=P-o,I=E(j-S),F=E(j+_);N.push({x1:F,y1:A,x2:F,y2:O}),N.push({x1:I,y1:P,x2:F,y2:P}),N.push({x1:I,y1:A,x2:I,y2:O})}else if(i==="horizontal"){var B=f.scale,$=y+a,R=$-o,M=$+o,T=B(j-S),J=B(j+_);N.push({x1:R,y1:J,x2:M,y2:J}),N.push({x1:$,y1:T,x2:$,y2:J}),N.push({x1:R,y1:T,x2:M,y2:T})}return D.createElement(Bt,hv({className:"recharts-errorBar",key:"bar-".concat(N.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),N.map(function(re){return D.createElement("line",hv({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return D.createElement(Bt,{className:"recharts-errorBars"},v)}}])}(D.Component);Uq(th,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Uq(th,"displayName","ErrorBar");function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){y1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y1e(e,t,n){return t=v1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v1e(e){var t=b1e(e,"string");return rp(t)=="symbol"?t:t+""}function b1e(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kq=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ws(n,Za);if(!o)return null;var l=Za.defaultProps,c=l!==void 0?lc(lc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?lc(lc({},h),f.props):{},v=m.dataKey,p=m.name,g=m.legendType,y=m.hide;return{inactive:y,dataKey:v,type:c.iconType||g||"square",color:KC(f),value:p||v,payload:m}}),lc(lc(lc({},c),Za.getWithHeight(o,a)),{},{payload:u,item:o})};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function BT(e){return N1e(e)||_1e(e)||w1e(e)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(e,t){if(e){if(typeof e=="string")return s1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(e,t)}}function _1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N1e(e){if(Array.isArray(e))return s1(e)}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){yd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yd(e,t,n){return t=S1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S1e(e){var t=C1e(e,"string");return sp(t)=="symbol"?t:t+""}function C1e(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(e,t,n){return wt(e)||wt(t)?n:_r(t)?Js(e,t,n):jt(t)?t(e):n}function em(e,t,n,r){var a=_Ne(e,function(l){return Bn(l,t)});if(n==="number"){var i=a.filter(function(l){return Ie(l)||parseFloat(l)});return i.length?[Nb(i),vl(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!wt(l)}):a;return o.map(function(l){return _r(l)||l instanceof Date?l:""})}var P1e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ds(f-d)!==ds(h-f)){var v=[];if(ds(h-f)===ds(c[1]-c[0])){m=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var g=h+c[1]-c[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var b=Math.min(d,h),j=Math.max(d,h);if(t>(b+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w===l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2){o=r[w].index;break}return o},KC=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},E1e=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],p=v.items,g=v.cateAxisId,y=p.filter(function(_){return bo(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,j=b!==void 0?nr(nr({},b),y[0].props):y[0].props,w=j.barSize,N=j[g];o[N]||(o[N]=[]);var S=wt(w)?n:w;o[N].push({item:y[0],stackList:y.slice(1),barSize:wt(S)?void 0:fs(S,r,0)})}}return o},k1e=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=fs(n,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(w,N){return w+N.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,g={offset:p-u,size:0};d=o.reduce(function(w,N){var S={item:N.item,position:{offset:g.offset+g.size+u,size:h?m:N.barSize}},_=[].concat(BT(w),[S]);return g=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){_.push({item:C,position:g})}),_},f)}else{var y=fs(r,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(w,N,S){var _=[].concat(BT(w),[{item:N.item,position:{offset:y+(b+u)*S+(b-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){_.push({item:C,position:_[_.length-1].position})}),_},f)}return d},A1e=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Kq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&Ie(t[m]))return nr(nr({},t),{},yd({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&Ie(t[v]))return nr(nr({},t),{},yd({},v,t[v]+(h||0)))}return t},O1e=function(t,n,r){return wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Hq=function(t,n,r,a,i){var o=n.props.children,l=ps(o,th).filter(function(u){return O1e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Bn(d,r);if(wt(f))return u;var h=Array.isArray(f)?[Nb(f),vl(f)]:[f,f],m=c.reduce(function(v,p){var g=Bn(d,p,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},T1e=function(t,n,r,a,i){var o=n.map(function(l){return Hq(t,l,r,i,a)}).filter(function(l){return!wt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Gq=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Hq(t,c,u,a)||em(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Yq=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Qq=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},xo=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ds(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Gf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},pw=new WeakMap,rg=function(t,n){if(typeof n!="function")return t;pw.has(t)||pw.set(t,new WeakMap);var r=pw.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},Xq=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jh(),realScaleType:"point"}:i==="category"?{scale:Qm(),realScaleType:"band"}:{scale:lv(),realScaleType:"linear"};if(Yp(a)){var c="scale".concat(cb(a));return{scale:($T[c]||Jh)(),realScaleType:$T[c]?c:"point"}}return jt(a)?{scale:a}:{scale:Jh(),realScaleType:"point"}},qT=1e-4,Zq=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-qT,o=Math.max(a[0],a[1])+qT,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},M1e=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},$1e=function(t,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ie(t[0])||t[0]<r)&&(i[0]=r),(!Ie(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},D1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Gf(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},I1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Gf(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},R1e={sign:D1e,expand:nhe,none:Qd,silhouette:rhe,wiggle:she,positive:I1e},F1e=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=R1e[r],o=the().keys(a).value(function(l,c){return+Bn(l,c,0)}).order(kN).offset(i);return o(t)},L1e=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?nr(nr({},h.type.defaultProps),h.props):h.props,p=v.stackId,g=v.hide;if(g)return f;var y=v[r],b=f[y]||{hasStack:!1,stackGroups:{}};if(_r(p)){var j=b.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};j.items.push(h),b.hasStack=!0,b.stackGroups[p]=j}else b.stackGroups[tc("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[h]};return nr(nr({},f),{},yd({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var y=m.stackGroups[g];return nr(nr({},p),{},yd({},g,{numericAxisId:r,cateAxisId:a,items:y.items,stackedData:F1e(t,y.items,i)}))},v)}return nr(nr({},f),{},yd({},h,m))},d)},Jq=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=JNe(u,i,l);return t.domain([Nb(d),vl(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=e1e(f,i,l);return{niceTicks:h}}return null};function af(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(a[t.dataKey])){var l=zy(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Bn(a,wt(o)?t.dataKey:o);return wt(c)?null:t.scale(c)}var WT=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Bn(o,n.dataKey,n.domain[l]);return wt(c)?null:n.scale(c)-i/2+a},B1e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},z1e=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(_r(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},q1e=function(t){return t.reduce(function(n,r){return[Nb(r.concat([n[0]]).filter(Ie)),vl(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},eW=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=q1e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a1=function(t,n,r){if(jt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ie(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(UT.test(t[0])){var i=+UT.exec(t[0])[1];a[0]=n[0]-i}else jt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ie(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(VT.test(t[1])){var o=+VT.exec(t[1])[1];a[1]=n[1]+o}else jt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},pv=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=bC(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},KT=function(t,n,r){return!t||!t.length||Gl(t,Js(r,"type.defaultProps.domain"))?n:t},tW=function(t,n){var r=t.type.defaultProps?nr(nr({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return nr(nr({},ut(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:KC(t),value:Bn(n,a),type:c,payload:n,chartType:u,hide:d})};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){nW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nW(e,t,n){return t=W1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W1e(e){var t=U1e(e,"string");return ap(t)=="symbol"?t:t+""}function U1e(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V1e(e,t){return Y1e(e)||G1e(e,t)||H1e(e,t)||K1e()}function K1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1e(e,t){if(e){if(typeof e=="string")return GT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(e,t)}}function GT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Y1e(e){if(Array.isArray(e))return e}var xv=Math.PI/180,Q1e=function(t){return t*180/Math.PI},On=function(t,n,r,a){return{x:t+Math.cos(-xv*a)*r,y:n+Math.sin(-xv*a)*r}},rW=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},X1e=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=fs(t.cx,o,o/2),f=fs(t.cy,l,l/2),h=rW(o,l,r),m=fs(t.innerRadius,h,0),v=fs(t.outerRadius,h,h*.8),p=Object.keys(n);return p.reduce(function(g,y){var b=n[y],j=b.domain,w=b.reversed,N;if(wt(b.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[m,v]),w&&(N=[N[1],N[0]]);else{N=b.range;var S=N,_=V1e(S,2);c=_[0],u=_[1]}var C=Xq(b,i),E=C.realScaleType,P=C.scale;P.domain(j).range(N),Zq(P);var A=Jq(P,so(so({},b),{},{realScaleType:E})),O=so(so(so({},b),A),{},{range:N,radius:v,realScaleType:E,scale:P,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return so(so({},g),{},nW({},y,O))},{})},Z1e=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},J1e=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=Z1e({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Q1e(u),angleInRadian:u}},eSe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},tSe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},YT=function(t,n){var r=t.x,a=t.y,i=J1e({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=eSe(n),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?so(so({},n),{},{radius:o,angle:tSe(m,n)}):null},sW=function(t){return!x.isValidElement(t)&&!jt(t)&&typeof t!="boolean"?t.className:""};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var nSe=["offset"];function rSe(e){return oSe(e)||iSe(e)||aSe(e)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aSe(e,t){if(e){if(typeof e=="string")return i1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(e,t)}}function iSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oSe(e){if(Array.isArray(e))return i1(e)}function i1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lSe(e,t){if(e==null)return{};var n=cSe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){uSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uSe(e,t,n){return t=dSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dSe(e){var t=fSe(e,"string");return ip(t)=="symbol"?t:t+""}function fSe(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(this,arguments)}var hSe=function(t){var n=t.value,r=t.formatter,a=wt(t.children)?n:t.children;return jt(r)?r(a):a},mSe=function(t,n){var r=ds(n-t),a=Math.min(Math.abs(n-t),360);return r*a},pSe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,g=(f+h)/2,y=mSe(m,v),b=y>=0?1:-1,j,w;a==="insideStart"?(j=m+b*o,w=p):a==="insideEnd"?(j=v-b*o,w=!p):a==="end"&&(j=v+b*o,w=p),w=y<=0?w:!w;var N=On(u,d,g,j),S=On(u,d,g,j+(w?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),C=wt(t.id)?tc("recharts-radial-line-"):t.id;return D.createElement("text",op({},r,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:C,d:_})),D.createElement("textPath",{xlinkHref:"#".concat(C)},n))},xSe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=On(o,l,u+r,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,y=On(o,l,g,h),b=y.x,j=y.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},gSe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,g=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return gr(gr({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return gr(gr({},w),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return gr(gr({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return gr(gr({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var _=r?{width:u,height:d}:{};return i==="insideLeft"?gr({x:l+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideRight"?gr({x:l+u-g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideTop"?gr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},_):i==="insideBottom"?gr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},_):i==="insideTopLeft"?gr({x:l+g,y:c+h,textAnchor:b,verticalAnchor:v},_):i==="insideTopRight"?gr({x:l+u-g,y:c+h,textAnchor:y,verticalAnchor:v},_):i==="insideBottomLeft"?gr({x:l+g,y:c+d-h,textAnchor:b,verticalAnchor:m},_):i==="insideBottomRight"?gr({x:l+u-g,y:c+d-h,textAnchor:y,verticalAnchor:m},_):Uf(i)&&(Ie(i.x)||Sc(i.x))&&(Ie(i.y)||Sc(i.y))?gr({x:l+fs(i.x,u),y:c+fs(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):gr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},ySe=function(t){return"cx"in t&&Ie(t.cx)};function Or(e){var t=e.offset,n=t===void 0?5:t,r=lSe(e,nSe),a=gr({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||wt(l)&&wt(c)&&!x.isValidElement(u)&&!jt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(jt(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=hSe(a);var v=ySe(i),p=ut(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pSe(a,m,p);var g=v?xSe(a):gSe(a);return D.createElement(du,op({className:Rt("recharts-label",f)},p,g,{breakAll:h}),m)}Or.displayName="Label";var aW=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,p=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ie(p)&&Ie(g)){if(Ie(f)&&Ie(h))return{x:f,y:h,width:p,height:g};if(Ie(m)&&Ie(v))return{x:m,y:v,width:p,height:g}}return Ie(f)&&Ie(h)?{x:f,y:h,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},vSe=function(t,n){return t?t===!0?D.createElement(Or,{key:"label-implicit",viewBox:n}):_r(t)?D.createElement(Or,{key:"label-implicit",viewBox:n,value:t}):x.isValidElement(t)?t.type===Or?x.cloneElement(t,{key:"label-implicit",viewBox:n}):D.createElement(Or,{key:"label-implicit",content:t,viewBox:n}):jt(t)?D.createElement(Or,{key:"label-implicit",content:t,viewBox:n}):Uf(t)?D.createElement(Or,op({viewBox:n},t,{key:"label-implicit"})):null:null},bSe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=aW(t),o=ps(a,Or).map(function(c,u){return x.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=vSe(t.label,n||i);return[l].concat(rSe(o))};Or.parseViewBox=aW;Or.renderCallByParent=bSe;function jSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var wSe=jSe;const _Se=pn(wSe);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var NSe=["valueAccessor"],SSe=["data","dataKey","clockWise","id","textBreakAll"];function CSe(e){return ASe(e)||kSe(e)||ESe(e)||PSe()}function PSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(e,t){if(e){if(typeof e=="string")return o1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o1(e,t)}}function kSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ASe(e){if(Array.isArray(e))return o1(e)}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(this,arguments)}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){OSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OSe(e,t,n){return t=TSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TSe(e){var t=MSe(e,"string");return lp(t)=="symbol"?t:t+""}function MSe(e,t){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JT(e,t){if(e==null)return{};var n=$Se(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $Se(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var DSe=function(t){return Array.isArray(t.value)?_Se(t.value):t.value};function Ja(e){var t=e.valueAccessor,n=t===void 0?DSe:t,r=JT(e,NSe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=JT(r,SSe);return!a||!a.length?null:D.createElement(Bt,{className:"recharts-label-list"},a.map(function(d,f){var h=wt(i)?n(d,f):Bn(d&&d.payload,i),m=wt(l)?{}:{id:"".concat(l,"-").concat(f)};return D.createElement(Or,gv({},ut(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Or.parseViewBox(wt(o)?d:ZT(ZT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ja.displayName="LabelList";function ISe(e,t){return e?e===!0?D.createElement(Ja,{key:"labelList-implicit",data:t}):D.isValidElement(e)||jt(e)?D.createElement(Ja,{key:"labelList-implicit",data:t,content:e}):Uf(e)?D.createElement(Ja,gv({data:t},e,{key:"labelList-implicit"})):null:null}function RSe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=ps(r,Ja).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=ISe(e.label,t);return[i].concat(CSe(a))}Ja.renderCallByParent=RSe;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l1.apply(this,arguments)}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(r){FSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FSe(e,t,n){return t=LSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LSe(e){var t=BSe(e,"string");return cp(t)=="symbol"?t:t+""}function BSe(e,t){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zSe=function(t,n){var r=ds(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},sg=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/xv,h=u?i:i+o*f,m=On(n,r,d,h),v=On(n,r,a,h),p=u?i-o*f:i,g=On(n,r,d*Math.cos(f*xv),p);return{center:m,circleTangency:v,lineTangency:g,theta:f}},iW=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=zSe(o,l),u=o+c,d=On(n,r,i,o),f=On(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=On(n,r,a,o),v=On(n,r,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},qSe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ds(d-u),h=sg({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,p=h.theta,g=sg({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,b=g.lineTangency,j=g.theta,w=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(w<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):iW({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=sg({cx:n,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,C=S.lineTangency,E=S.theta,P=sg({cx:n,cy:r,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,O=P.lineTangency,I=P.theta,F=c?Math.abs(u-d):Math.abs(u-d)-E-I;if(F<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},WSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oW=function(t){var n=tM(tM({},WSe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var m=Rt("recharts-sector",h),v=o-i,p=fs(l,v,0,!0),g;return p>0&&Math.abs(d-f)<360?g=qSe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=iW({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",l1({},ut(n,!0),{className:m,d:g,role:"img"}))};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c1.apply(this,arguments)}function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(r){USe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function USe(e,t,n){return t=VSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VSe(e){var t=KSe(e,"string");return up(t)=="symbol"?t:t+""}function KSe(e,t){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sM={curveBasisClosed:Ufe,curveBasisOpen:Vfe,curveBasis:Wfe,curveBumpX:kfe,curveBumpY:Afe,curveLinearClosed:Kfe,curveLinear:db,curveMonotoneX:Hfe,curveMonotoneY:Gfe,curveNatural:Yfe,curveStep:Qfe,curveStepAfter:Zfe,curveStepBefore:Xfe},ag=function(t){return t.x===+t.x&&t.y===+t.y},Nh=function(t){return t.x},Sh=function(t){return t.y},HSe=function(t,n){if(jt(t))return t;var r="curve".concat(cb(t));return(r==="curveMonotone"||r==="curveBump")&&n?sM["".concat(r).concat(n==="vertical"?"Y":"X")]:sM[r]||db},GSe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=HSe(r,l),f=u?i.filter(function(p){return ag(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return ag(p)}):o,v=f.map(function(p,g){return rM(rM({},p),{},{base:m[g]})});return l==="vertical"?h=Yx().y(Sh).x1(Nh).x0(function(p){return p.base.x}):h=Yx().x(Nh).y1(Sh).y0(function(p){return p.base.y}),h.defined(ag).curve(d),h(v)}return l==="vertical"&&Ie(o)?h=Yx().y(Sh).x1(Nh).x0(o):Ie(o)?h=Yx().x(Nh).y1(Sh).y0(o):h=tz().x(Nh).y(Sh),h.defined(ag).curve(d),h(f)},Ml=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?GSe(t):a;return D.createElement("path",c1({},ut(t,!1),qy(t),{className:Rt("recharts-curve",n),d:o,ref:i}))},lW={exports:{}},YSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QSe=YSe,XSe=QSe;function cW(){}function uW(){}uW.resetWarningCache=cW;var ZSe=function(){function e(r,a,i,o,l,c){if(c!==XSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uW,resetWarningCache:cW};return n.PropTypes=n,n};lW.exports=ZSe();var JSe=lW.exports;const fn=pn(JSe);var e2e=Object.getOwnPropertyNames,t2e=Object.getOwnPropertySymbols,n2e=Object.prototype.hasOwnProperty;function aM(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function ig(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function iM(e){return e2e(e).concat(t2e(e))}var r2e=Object.hasOwn||function(e,t){return n2e.call(e,t)};function Nu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var s2e="__v",a2e="__o",i2e="_owner",oM=Object.getOwnPropertyDescriptor,lM=Object.keys;function o2e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function l2e(e,t){return Nu(e.getTime(),t.getTime())}function c2e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function u2e(e,t){return e===t}function cM(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(n.equals(h[0],m[0],c,f,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var d2e=Nu;function f2e(e,t,n){var r=lM(e),a=r.length;if(lM(t).length!==a)return!1;for(;a-- >0;)if(!dW(e,t,n,r[a]))return!1;return!0}function Ch(e,t,n){var r=iM(e),a=r.length;if(iM(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!dW(e,t,n,i)||(o=oM(e,i),l=oM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function h2e(e,t){return Nu(e.valueOf(),t.valueOf())}function m2e(e,t){return e.source===t.source&&e.flags===t.flags}function uM(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function p2e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function x2e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function dW(e,t,n,r){return(r===i2e||r===a2e||r===s2e)&&(e.$$typeof||t.$$typeof)?!0:r2e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var g2e="[object Arguments]",y2e="[object Boolean]",v2e="[object Date]",b2e="[object Error]",j2e="[object Map]",w2e="[object Number]",_2e="[object Object]",N2e="[object RegExp]",S2e="[object Set]",C2e="[object String]",P2e="[object URL]",E2e=Array.isArray,dM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fM=Object.assign,k2e=Object.prototype.toString.call.bind(Object.prototype.toString);function A2e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,g){if(v===p)return!0;if(v==null||p==null)return!1;var y=typeof v;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(v,p,g):y==="function"?a(v,p,g):!1;var b=v.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(v,p,g);if(E2e(v))return t(v,p,g);if(dM!=null&&dM(v))return f(v,p,g);if(b===Date)return n(v,p,g);if(b===RegExp)return u(v,p,g);if(b===Map)return i(v,p,g);if(b===Set)return d(v,p,g);var j=k2e(v);return j===v2e?n(v,p,g):j===N2e?u(v,p,g):j===j2e?i(v,p,g):j===S2e?d(v,p,g):j===_2e?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,g):j===P2e?h(v,p,g):j===b2e?r(v,p,g):j===g2e?l(v,p,g):j===y2e||j===w2e||j===C2e?c(v,p,g):!1}}function O2e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Ch:o2e,areDatesEqual:l2e,areErrorsEqual:c2e,areFunctionsEqual:u2e,areMapsEqual:r?aM(cM,Ch):cM,areNumbersEqual:d2e,areObjectsEqual:r?Ch:f2e,arePrimitiveWrappersEqual:h2e,areRegExpsEqual:m2e,areSetsEqual:r?aM(uM,Ch):uM,areTypedArraysEqual:r?Ch:p2e,areUrlsEqual:x2e};if(n&&(a=fM({},a,n(a))),t){var i=ig(a.areArraysEqual),o=ig(a.areMapsEqual),l=ig(a.areObjectsEqual),c=ig(a.areSetsEqual);a=fM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function T2e(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function M2e(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var $2e=sc();sc({strict:!0});sc({circular:!0});sc({circular:!0,strict:!0});sc({createInternalComparator:function(){return Nu}});sc({strict:!0,createInternalComparator:function(){return Nu}});sc({circular:!0,createInternalComparator:function(){return Nu}});sc({circular:!0,createInternalComparator:function(){return Nu},strict:!0});function sc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=O2e(e),c=A2e(l),u=r?r(c):T2e(c);return M2e({circular:n,comparator:c,createState:a,equals:u,strict:o})}function D2e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function hM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):D2e(a)};requestAnimationFrame(r)}function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function I2e(e){return B2e(e)||L2e(e)||F2e(e)||R2e()}function R2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2e(e,t){if(e){if(typeof e=="string")return mM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B2e(e){if(Array.isArray(e))return e}function z2e(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=I2e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){hM(a.bind(null,u),c);return}a(c),hM(a.bind(null,u));return}u1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){fW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fW(e,t,n){return t=q2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q2e(e){var t=W2e(e,"string");return dp(t)==="symbol"?t:String(t)}function W2e(e,t){if(dp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U2e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},V2e=function(t){return t},K2e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},tm=function(t,n){return Object.keys(n).reduce(function(r,a){return xM(xM({},r),{},fW({},a,t(a,n[a])))},{})},gM=function(t,n,r){return t.map(function(a){return"".concat(K2e(a)," ").concat(n,"ms ").concat(r)}).join(",")};function H2e(e,t){return Q2e(e)||Y2e(e,t)||hW(e,t)||G2e()}function G2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Q2e(e){if(Array.isArray(e))return e}function X2e(e){return eCe(e)||J2e(e)||hW(e)||Z2e()}function Z2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return d1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(e,t)}}function J2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eCe(e){if(Array.isArray(e))return d1(e)}function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yv=1e-4,mW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},pW=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},yM=function(t,n){return function(r){var a=mW(t,n);return pW(a,r)}},tCe=function(t,n){return function(r){var a=mW(t,n),i=[].concat(X2e(a.map(function(o,l){return o*l}).slice(1)),[0]);return pW(i,r)}},vM=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=H2e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=yM(a,o),h=yM(i,l),m=tCe(a,o),v=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,j=b,w=0;w<8;++w){var N=f(j)-b,S=m(j);if(Math.abs(N-b)<yv||S<yv)return h(j);j=v(j-N/S)}return h(j)};return p.isStepper=!1,p},nCe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,v=h*i,p=h+(m-v)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<yv&&Math.abs(p)<yv?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},rCe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vM(a);case"spring":return nCe();default:if(a.split("(")[0]==="cubic-bezier")return vM(a)}return typeof a=="function"?a:null};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function bM(e){return iCe(e)||aCe(e)||xW(e)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iCe(e){if(Array.isArray(e))return h1(e)}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){f1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f1(e,t,n){return t=oCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oCe(e){var t=lCe(e,"string");return fp(t)==="symbol"?t:String(t)}function lCe(e,t){if(fp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cCe(e,t){return fCe(e)||dCe(e,t)||xW(e,t)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xW(e,t){if(e){if(typeof e=="string")return h1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h1(e,t)}}function h1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fCe(e){if(Array.isArray(e))return e}var vv=function(t,n,r){return t+(n-t)*r},m1=function(t){var n=t.from,r=t.to;return n!==r},hCe=function e(t,n,r){var a=tm(function(i,o){if(m1(o)){var l=t(o.from,o.to,o.velocity),c=cCe(l,2),u=c[0],d=c[1];return Rr(Rr({},o),{},{from:u,velocity:d})}return o},n);return r<1?tm(function(i,o){return m1(o)?Rr(Rr({},o),{},{velocity:vv(o.velocity,a[i].velocity,r),from:vv(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const mCe=function(e,t,n,r,a){var i=U2e(e,t),o=i.reduce(function(g,y){return Rr(Rr({},g),{},f1({},y,[e[y],t[y]]))},{}),l=i.reduce(function(g,y){return Rr(Rr({},g),{},f1({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return tm(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(m1).length},v=function(y){u||(u=y);var b=y-u,j=b/n.dt;l=hCe(n,l,j),a(Rr(Rr(Rr({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var b=(y-d)/r,j=tm(function(N,S){return vv.apply(void 0,bM(S).concat([n(b)]))},o);if(a(Rr(Rr(Rr({},e),t),j)),b<1)c=requestAnimationFrame(f);else{var w=tm(function(N,S){return vv.apply(void 0,bM(S).concat([n(1)]))},o);a(Rr(Rr(Rr({},e),t),w))}};return f=n.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}var pCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xCe(e,t){if(e==null)return{};var n=gCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gCe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function xw(e){return jCe(e)||bCe(e)||vCe(e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vCe(e,t){if(e){if(typeof e=="string")return p1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p1(e,t)}}function bCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jCe(e){if(Array.isArray(e))return p1(e)}function p1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){Rh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rh(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gW(r.key),r)}}function NCe(e,t,n){return t&&_Ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gW(e){var t=SCe(e,"string");return of(t)==="symbol"?t:String(t)}function SCe(e,t){if(of(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},x1(e,t)}function PCe(e){var t=ECe();return function(){var r=bv(e),a;if(t){var i=bv(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return g1(this,a)}}function g1(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1(e)}function y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ECe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(e)}var Sa=function(e){CCe(n,e);var t=PCe(n);function n(r,a){var i;wCe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(y1(i)),i.changeStyle=i.changeStyle.bind(y1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),g1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},g1(i);i.state={style:c?Rh({},c,u):u}}else i.state={style:{}};return i}return NCe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Rh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!($2e(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:a.to;if(this.state&&h){var g={style:c?Rh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(Ta(Ta({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=mCe(o,l,rCe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,g,y){if(y===0)return p;var b=g.duration,j=g.easing,w=j===void 0?"ease":j,N=g.style,S=g.properties,_=g.onAnimationEnd,C=y>0?o[y-1]:g,E=S||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(xw(p),[i.runJSAnimation.bind(i,{from:C.style,to:N,duration:b,easing:w}),b]);var P=gM(E,b,w),A=Ta(Ta(Ta({},C.style),N),{},{transition:P});return[].concat(xw(p),[A,b,_]).filter(V2e)};return this.manager.start([c].concat(xw(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=z2e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Rh({},l,c):c,g=gM(Object.keys(p),o,u);v.start([d,i,Ta(Ta({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=xCe(a,pCe),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var v=m.props,p=v.style,g=p===void 0?{}:p,y=v.className,b=x.cloneElement(m,Ta(Ta({},c),{},{style:Ta(Ta({},g),d),className:y}));return b};return u===1?f(x.Children.only(i)):D.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),n}(x.PureComponent);Sa.displayName="Animate";Sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sa.propTypes={from:fn.oneOfType([fn.object,fn.string]),to:fn.oneOfType([fn.object,fn.string]),attributeName:fn.string,duration:fn.number,begin:fn.number,easing:fn.oneOfType([fn.string,fn.func]),steps:fn.arrayOf(fn.shape({duration:fn.number.isRequired,style:fn.object.isRequired,easing:fn.oneOfType([fn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fn.func]),properties:fn.arrayOf("string"),onAnimationEnd:fn.func})),children:fn.oneOfType([fn.node,fn.func]),isActive:fn.bool,canBegin:fn.bool,onAnimationEnd:fn.func,shouldReAnimate:fn.bool,onAnimationStart:fn.func,onAnimationReStart:fn.func};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function kCe(e,t){return MCe(e)||TCe(e,t)||OCe(e,t)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OCe(e,t){if(e){if(typeof e=="string")return _M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function MCe(e){if(Array.isArray(e))return e}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){$Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ce(e,t,n){return t=DCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DCe(e){var t=ICe(e,"string");return hp(t)=="symbol"?t:t+""}function ICe(e,t){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CM=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+a)),d+="L ".concat(t+c*f[3],",").concat(n+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*v,`
            L `).concat(t+r,",").concat(n+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-c*v,",").concat(n+a,`
            L `).concat(t+c*v,",").concat(n+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*v," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},RCe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&a>=f&&a<=h}return!1},FCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HC=function(t){var n=SM(SM({},FCe),t),r=x.useRef(),a=x.useState(-1),i=kCe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,p=n.animationDuration,g=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Rt("recharts-rectangle",m);return b?D.createElement(Sa,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(w){var N=w.width,S=w.height,_=w.x,C=w.y;return D.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:y,easing:v},D.createElement("path",jv({},ut(n,!0),{className:j,d:CM(_,C,N,S,h),ref:r})))}):D.createElement("path",jv({},ut(n,!0),{className:j,d:CM(c,u,d,f,h)}))},LCe=["points","className","baseLinePoints","connectNulls"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(this,arguments)}function BCe(e,t){if(e==null)return{};var n=zCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function PM(e){return VCe(e)||UCe(e)||WCe(e)||qCe()}function qCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(e,t){if(e){if(typeof e=="string")return v1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v1(e,t)}}function UCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VCe(e){if(Array.isArray(e))return v1(e)}function v1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EM=function(t){return t&&t.x===+t.x&&t.y===+t.y},KCe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){EM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),EM(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},nm=function(t,n){var r=KCe(t);n&&(r=[r.reduce(function(i,o){return[].concat(PM(i),PM(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},HCe=function(t,n,r){var a=nm(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(nm(n.reverse(),r).slice(1))},GCe=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=BCe(t,LCe);if(!n||!n.length)return null;var l=Rt("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=HCe(n,a,i);return D.createElement("g",{className:l},D.createElement("path",td({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?D.createElement("path",td({},ut(o,!0),{fill:"none",d:nm(n,i)})):null,c?D.createElement("path",td({},ut(o,!0),{fill:"none",d:nm(a,i)})):null)}var d=nm(n,i);return D.createElement("path",td({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b1.apply(this,arguments)}var tx=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Rt("recharts-dot",i);return n===+n&&r===+r&&a===+a?D.createElement("circle",b1({},ut(t,!1),qy(t),{className:o,cx:n,cy:r,r:a})):null};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var YCe=["x","y","top","left","width","height","className"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(this,arguments)}function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QCe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){XCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XCe(e,t,n){return t=ZCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZCe(e){var t=JCe(e,"string");return mp(t)=="symbol"?t:t+""}function JCe(e,t){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ePe(e,t){if(e==null)return{};var n=tPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var nPe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},rPe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,p=ePe(t,YCe),g=QCe({x:r,y:i,top:l,left:u,width:f,height:m},p);return!Ie(r)||!Ie(i)||!Ie(f)||!Ie(m)||!Ie(l)||!Ie(u)?null:D.createElement("path",j1({},ut(g,!0),{className:Rt("recharts-cross",v),d:nPe(r,i,f,m,l,u)}))},sPe=_b,aPe=kq,iPe=Vi;function oPe(e,t){return e&&e.length?sPe(e,iPe(t),aPe):void 0}var lPe=oPe;const cPe=pn(lPe);var uPe=_b,dPe=Vi,fPe=Aq;function hPe(e,t){return e&&e.length?uPe(e,dPe(t),fPe):void 0}var mPe=hPe;const pPe=pn(mPe);var xPe=["cx","cy","angle","ticks","axisLine"],gPe=["ticks","tick","angle","tickFormatter","stroke"];function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rm.apply(this,arguments)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){Pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OM(e,t){if(e==null)return{};var n=yPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vW(r.key),r)}}function bPe(e,t,n){return t&&TM(e.prototype,t),n&&TM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jPe(e,t,n){return t=wv(t),wPe(e,yW()?Reflect.construct(t,n||[],wv(e).constructor):t.apply(e,n))}function wPe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Pe(e)}function _Pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yW=function(){return!!e})()}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(e)}function NPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w1(e,t)}function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},w1(e,t)}function Pb(e,t,n){return t=vW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=SPe(e,"string");return lf(t)=="symbol"?t:t+""}function SPe(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eb=function(e){function t(){return vPe(this,t),jPe(this,t,arguments)}return NPe(t,e),bPe(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return On(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=cPe(l,function(d){return d.coordinate||0}),u=pPe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=OM(r,xPe),d=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),f=On(a,i,d[0],o),h=On(a,i,d[1],o),m=cc(cc(cc({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",rm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=OM(a,gPe),f=this.getTickTextAnchor(),h=ut(d,!1),m=ut(o,!1),v=i.map(function(p,g){var y=r.getTickValueCoord(p),b=cc(cc(cc(cc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:g},y),{},{payload:p});return D.createElement(Bt,rm({className:Rt("recharts-polar-radius-axis-tick",sW(o)),key:"tick-".concat(p.coordinate)},Hl(r.props,p,g)),t.renderTickItem(o,b,c?c(p.value,g):p.value))});return D.createElement(Bt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:D.createElement(Bt,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,a):jt(r)?o=r(a):o=D.createElement(du,rm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(x.PureComponent);Pb(Eb,"displayName","PolarRadiusAxis");Pb(Eb,"axisType","radiusAxis");Pb(Eb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(this,arguments)}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jW(r.key),r)}}function PPe(e,t,n){return t&&$M(e.prototype,t),n&&$M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EPe(e,t,n){return t=_v(t),kPe(e,bW()?Reflect.construct(t,n||[],_v(e).constructor):t.apply(e,n))}function kPe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return APe(e)}function APe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!e})()}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(e)}function OPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_1(e,t)}function _1(e,t){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_1(e,t)}function kb(e,t,n){return t=jW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=TPe(e,"string");return cf(t)=="symbol"?t:t+""}function TPe(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MPe=Math.PI/180,DM=1e-5,Ab=function(e){function t(){return CPe(this,t),EPe(this,t,arguments)}return OPe(t,e),PPe(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=On(i,o,l,r.coordinate),h=On(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*MPe),o;return i>DM?o=a==="outer"?"start":"end":i<-DM?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=uc(uc({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return D.createElement(tx,vc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return On(a,i,o,h.coordinate)});return D.createElement(GCe,vc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ut(this.props,!1),f=ut(o,!1),h=uc(uc({},d),{},{fill:"none"},ut(l,!1)),m=i.map(function(v,p){var g=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),b=uc(uc(uc({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:v,x:g.x2,y:g.y2});return D.createElement(Bt,vc({className:Rt("recharts-polar-angle-axis-tick",sW(o)),key:"tick-".concat(v.coordinate)},Hl(r.props,v,p)),l&&D.createElement("line",vc({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,b,c?c(v.value,p):v.value))});return D.createElement(Bt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:D.createElement(Bt,{className:Rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,a):jt(r)?o=r(a):o=D.createElement(du,vc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(x.PureComponent);kb(Ab,"displayName","PolarAngleAxis");kb(Ab,"axisType","angleAxis");kb(Ab,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var $Pe=Sz,DPe=$Pe(Object.getPrototypeOf,Object),IPe=DPe,RPe=Ro,FPe=IPe,LPe=Fo,BPe="[object Object]",zPe=Function.prototype,qPe=Object.prototype,wW=zPe.toString,WPe=qPe.hasOwnProperty,UPe=wW.call(Object);function VPe(e){if(!LPe(e)||RPe(e)!=BPe)return!1;var t=FPe(e);if(t===null)return!0;var n=WPe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&wW.call(n)==UPe}var KPe=VPe;const HPe=pn(KPe);var GPe=Ro,YPe=Fo,QPe="[object Boolean]";function XPe(e){return e===!0||e===!1||YPe(e)&&GPe(e)==QPe}var ZPe=XPe;const JPe=pn(ZPe);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}function eEe(e,t){return sEe(e)||rEe(e,t)||nEe(e,t)||tEe()}function tEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEe(e,t){if(e){if(typeof e=="string")return IM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(e,t)}}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sEe(e){if(Array.isArray(e))return e}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){aEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aEe(e,t,n){return t=iEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iEe(e){var t=oEe(e,"string");return pp(t)=="symbol"?t:t+""}function oEe(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},lEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cEe=function(t){var n=FM(FM({},lEe),t),r=x.useRef(),a=x.useState(-1),i=eEe(a,2),o=i[0],l=i[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,p=n.animationDuration,g=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Rt("recharts-trapezoid",m);return y?D.createElement(Sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:y},function(j){var w=j.upperWidth,N=j.lowerWidth,S=j.height,_=j.x,C=j.y;return D.createElement(Sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:v},D.createElement("path",Nv({},ut(n,!0),{className:b,d:LM(_,C,w,N,S),ref:r})))}):D.createElement("g",null,D.createElement("path",Nv({},ut(n,!0),{className:b,d:LM(c,u,d,f,h)})))},uEe=["option","shapeType","propTransformer","activeClassName","isActive"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function dEe(e,t){if(e==null)return{};var n=fEe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){hEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hEe(e,t,n){return t=mEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mEe(e){var t=pEe(e,"string");return xp(t)=="symbol"?t:t+""}function pEe(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e,t){return Sv(Sv({},t),e)}function gEe(e,t){return e==="symbols"}function zM(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return D.createElement(HC,n);case"trapezoid":return D.createElement(cEe,n);case"sector":return D.createElement(oW,n);case"symbols":if(gEe(t))return D.createElement(hb,n);break;default:return null}}function yEe(e){return x.isValidElement(e)?e.props:e}function Cv(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?xEe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=dEe(e,uEe),u;if(x.isValidElement(t))u=x.cloneElement(t,Sv(Sv({},c),yEe(t)));else if(jt(t))u=t(c);else if(HPe(t)&&!JPe(t)){var d=a(t,c);u=D.createElement(zM,{shapeType:n,elementProps:d})}else{var f=c;u=D.createElement(zM,{shapeType:n,elementProps:f})}return l?D.createElement(Bt,{className:o},u):u}function Ob(e,t){return t!=null&&"trapezoids"in e.props}function Tb(e,t){return t!=null&&"sectors"in e.props}function gp(e,t){return t!=null&&"points"in e.props}function vEe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function bEe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function jEe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function wEe(e,t){var n;return Ob(e,t)?n=vEe:Tb(e,t)?n=bEe:gp(e,t)&&(n=jEe),n}function _Ee(e,t){var n;return Ob(e,t)?n="trapezoids":Tb(e,t)?n="sectors":gp(e,t)&&(n="points"),n}function NEe(e,t){if(Ob(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Tb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gp(e,t)?t.payload:{}}function SEe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=_Ee(n,t),i=NEe(n,t),o=r.filter(function(c,u){var d=Gl(i,c),f=n.props[a].filter(function(v){var p=wEe(n,t);return p(v,t)}),h=n.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var Fg;function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){ha(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NW(r.key),r)}}function PEe(e,t,n){return t&&WM(e.prototype,t),n&&WM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EEe(e,t,n){return t=Pv(t),kEe(e,_W()?Reflect.construct(t,n||[],Pv(e).constructor):t.apply(e,n))}function kEe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AEe(e)}function AEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Pv(e){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(e)}function OEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N1(e,t)}function N1(e,t){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},N1(e,t)}function ha(e,t,n){return t=NW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=TEe(e,"string");return uf(t)=="symbol"?t:t+""}function TEe(e,t){if(uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui=function(e){function t(n){var r;return CEe(this,t),r=EEe(this,t,[n]),ha(r,"pieRef",null),ha(r,"sectorRefs",[]),ha(r,"id",tc("recharts-pie-")),ha(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),jt(a)&&a()}),ha(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),jt(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return OEe(t,e),PEe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ut(this.props,!1),f=ut(o,!1),h=ut(l,!1),m=o&&o.offsetRadius||20,v=r.map(function(p,g){var y=(p.startAngle+p.endAngle)/2,b=On(p.cx,p.cy,p.outerRadius+m,y),j=Pn(Pn(Pn(Pn({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,p.cx)},b),w=Pn(Pn(Pn(Pn({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[On(p.cx,p.cy,p.outerRadius,y),b]}),N=c;return wt(c)&&wt(u)?N="value":wt(c)&&(N=u),D.createElement(Bt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,j,Bn(p,N)))});return D.createElement(Bt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=Pn(Pn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(Bt,nd({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Hl(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(Cv,nd({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return D.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,g=[],y=i&&i[0],b=y.startAngle;return i.forEach(function(j,w){var N=h&&h[w],S=w>0?Js(j,"paddingAngle",0):0;if(N){var _=Yn(N.endAngle-N.startAngle,j.endAngle-j.startAngle),C=Pn(Pn({},j),{},{startAngle:b+S,endAngle:b+_(p)+S});g.push(C),b=C.endAngle}else{var E=j.endAngle,P=j.startAngle,A=Yn(0,E-P),O=A(p),I=Pn(Pn({},j),{},{startAngle:b+S,endAngle:b+O+S});g.push(I),b=I.endAngle}}),D.createElement(Bt,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Gl(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Ie(u)||!Ie(d)||!Ie(f)||!Ie(h))return null;var p=Rt("recharts-pie",l);return D.createElement(Bt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){r.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Or.renderCallByParent(this.props,null,!1),(!m||v)&&Ja.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(D.isValidElement(r))return D.cloneElement(r,a);if(jt(r))return r(a);var o=Rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return D.createElement(Ml,nd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(D.isValidElement(r))return D.cloneElement(r,a);var o=i;if(jt(r)&&(o=r(a),D.isValidElement(o)))return o;var l=Rt("recharts-pie-label-text",typeof r!="boolean"&&!jt(r)?r.className:"");return D.createElement(du,nd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Fg=ui;ha(ui,"displayName","Pie");ha(ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ba.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ha(ui,"parseDeltaAngle",function(e,t){var n=ds(t-e),r=Math.min(Math.abs(t-e),360);return n*r});ha(ui,"getRealPieData",function(e){var t=e.data,n=e.children,r=ut(e,!1),a=ps(n,ju);return t&&t.length?t.map(function(i,o){return Pn(Pn(Pn({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Pn(Pn({},r),i.props)}):[]});ha(ui,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=rW(a,i),l=r+fs(e.cx,a,a/2),c=n+fs(e.cy,i,i/2),u=fs(e.innerRadius,o,0),d=fs(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ha(ui,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Pn(Pn({},t.type.defaultProps),t.props):t.props,a=Fg.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=Fg.parseCoordinateOfPie(r,n),p=Fg.parseDeltaAngle(o,l),g=Math.abs(p),y=u;wt(u)&&wt(f)?(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):wt(u)&&(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(C){return Bn(C,y,0)!==0}).length,j=(g>=360?b:b-1)*c,w=g-b*m-j,N=a.reduce(function(C,E){var P=Bn(E,y,0);return C+(Ie(P)?P:0)},0),S;if(N>0){var _;S=a.map(function(C,E){var P=Bn(C,y,0),A=Bn(C,d,E),O=(Ie(P)?P:0)/N,I;E?I=_.endAngle+ds(p)*c*(P!==0?1:0):I=o;var F=I+ds(p)*((P!==0?m:0)+O*w),B=(I+F)/2,$=(v.innerRadius+v.outerRadius)/2,R=[{name:A,value:P,payload:C,dataKey:y,type:h}],M=On(v.cx,v.cy,$,B);return _=Pn(Pn(Pn({percent:O,cornerRadius:i,name:A,tooltipPayload:R,midAngle:B,middleRadius:$,tooltipPosition:M},C),v),{},{value:Bn(C,y),startAngle:I,endAngle:F,payload:C,paddingAngle:ds(p)*c}),_})}return Pn(Pn({},v),{},{sectors:S,data:a})});var MEe=Math.ceil,$Ee=Math.max;function DEe(e,t,n,r){for(var a=-1,i=$Ee(MEe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var IEe=DEe,REe=Uz,UM=1/0,FEe=17976931348623157e292;function LEe(e){if(!e)return e===0?e:0;if(e=REe(e),e===UM||e===-UM){var t=e<0?-1:1;return t*FEe}return e===e?e:0}var SW=LEe,BEe=IEe,zEe=xb,gw=SW;function qEe(e){return function(t,n,r){return r&&typeof r!="number"&&zEe(t,n,r)&&(n=r=void 0),t=gw(t),n===void 0?(n=t,t=0):n=gw(n),r=r===void 0?t<n?1:-1:gw(r),BEe(t,n,r,e)}}var WEe=qEe,UEe=WEe,VEe=UEe(),KEe=VEe;const Ev=pn(KEe);function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){CW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CW(e,t,n){return t=HEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HEe(e){var t=GEe(e,"string");return yp(t)=="symbol"?t:t+""}function GEe(e,t){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YEe=["Webkit","Moz","O","ms"],QEe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=YEe.reduce(function(i,o){return KM(KM({},i),{},CW({},o+r,n))},{});return a[t]=n,a};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(r){Bs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EW(r.key),r)}}function ZEe(e,t,n){return t&&GM(e.prototype,t),n&&GM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JEe(e,t,n){return t=Av(t),eke(e,PW()?Reflect.construct(t,n||[],Av(e).constructor):t.apply(e,n))}function eke(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tke(e)}function tke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(e)}function nke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},S1(e,t)}function Bs(e,t,n){return t=EW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=rke(e,"string");return df(t)=="symbol"?t:t+""}function rke(e,t){if(df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ske=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Jh().domain(Ev(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},YM=function(t){return t.changedTouches&&!!t.changedTouches.length},ff=function(e){function t(n){var r;return XEe(this,t),r=JEe(this,t,[n]),Bs(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Bs(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Bs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Bs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bs(r,"handleSlideDragStart",function(a){var i=YM(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return nke(t,e),ZEe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Bn(i[r],l,r);return jt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==h||g.endIndex!==m)&&v&&v(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=YM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var j=this.getIndex(y),w=j.startIndex,N=j.endIndex,S=function(){var C=g.length-1;return o==="startX"&&(l>c?w%p===0:N%p===0)||l<c&&N===C||o==="endX"&&(l>c?N%p===0:w%p===0)||l>c&&N===C};this.setState(Bs(Bs({},o,u+b),"brushMoveStartX",r.pageX),function(){v&&S()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Bs({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=x.Children.only(u);return f?D.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,g=c.endIndex,y=Math.max(r,this.props.x),b=yw(yw({},ut(this.props,!1)),{},{x:y,y:u,width:d,height:f}),j=m||"Min value: ".concat((i=v[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return D.createElement(Bt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,f=Math.max(Math.abs(a-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return D.createElement(Bt,{className:"recharts-brush-texts"},D.createElement(du,kv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),D.createElement(du,kv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ie(l)||!Ie(c)||!Ie(u)||!Ie(d)||u<=0||d<=0)return null;var j=Rt("recharts-brush",i),w=D.Children.count(o)===1,N=QEe("userSelect","none");return D.createElement(Bt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return D.isValidElement(r)?i=D.cloneElement(r,a):jt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return yw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?ske({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(x.PureComponent);Bs(ff,"displayName","Brush");Bs(ff,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ake=vC;function ike(e,t){var n;return ake(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var oke=ike,lke=gz,cke=Vi,uke=oke,dke=Rs,fke=xb;function hke(e,t,n){var r=dke(e)?lke:uke;return n&&fke(e,t,n)&&(t=void 0),r(e,cke(t))}var mke=hke;const pke=pn(mke);var Ai=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},QM=Lz;function xke(e,t,n){t=="__proto__"&&QM?QM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var gke=xke,yke=gke,vke=Rz,bke=Vi;function jke(e,t){var n={};return t=bke(t),vke(e,function(r,a,i){yke(n,a,t(r,a,i))}),n}var wke=jke;const _ke=pn(wke);function Nke(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Ske=Nke,Cke=vC;function Pke(e,t){var n=!0;return Cke(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var Eke=Pke,kke=Ske,Ake=Eke,Oke=Vi,Tke=Rs,Mke=xb;function $ke(e,t,n){var r=Tke(e)?kke:Ake;return n&&Mke(e,t,n)&&(t=void 0),r(e,Oke(t))}var Dke=$ke;const kW=pn(Dke);var Ike=["x","y"];function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C1.apply(this,arguments)}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){Rke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rke(e,t,n){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fke(e){var t=Lke(e,"string");return vp(t)=="symbol"?t:t+""}function Lke(e,t){if(vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bke(e,t){if(e==null)return{};var n=zke(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qke(e,t){var n=e.x,r=e.y,a=Bke(e,Ike),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ph(Ph(Ph(Ph(Ph({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ZM(e){return D.createElement(Cv,C1({shapeType:"rectangle",propTransformer:qke,activeClassName:"recharts-active-bar"},e))}var Wke=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,a):(i||hu(),n)}},Uke=["value","background"],AW;function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Vke(e,t){if(e==null)return{};var n=Kke(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(this,arguments)}function JM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(n),!0).forEach(function(r){bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TW(r.key),r)}}function Gke(e,t,n){return t&&e$(e.prototype,t),n&&e$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yke(e,t,n){return t=Tv(t),Qke(e,OW()?Reflect.construct(t,n||[],Tv(e).constructor):t.apply(e,n))}function Qke(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xke(e)}function Xke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(e)}function Zke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},P1(e,t)}function bl(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=Jke(e,"string");return hf(t)=="symbol"?t:t+""}function Jke(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki=function(e){function t(){var n;Hke(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Yke(this,t,[].concat(a)),bl(n,"state",{isAnimationFinished:!1}),bl(n,"id",tc("recharts-bar-")),bl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),bl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Zke(t,e),Gke(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ut(this.props,!1);return r&&r.map(function(f,h){var m=h===c,v=m?u:o,p=hr(hr(hr({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return D.createElement(Bt,Ov({className:"recharts-bar-rectangle"},Hl(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(ZM,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return D.createElement(Sa,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=i.map(function(g,y){var b=h&&h[y];if(b){var j=Yn(b.x,g.x),w=Yn(b.y,g.y),N=Yn(b.width,g.width),S=Yn(b.height,g.height);return hr(hr({},g),{},{x:j(v),y:w(v),width:N(v),height:S(v)})}if(o==="horizontal"){var _=Yn(0,g.height),C=_(v);return hr(hr({},g),{},{y:g.y+g.height-C,height:C})}var E=Yn(0,g.width),P=E(v);return hr(hr({},g),{},{width:P})});return D.createElement(Bt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Gl(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Vke(u,Uke);if(!f)return null;var m=hr(hr(hr(hr(hr({},h),{},{fill:"#eee"},f),c),Hl(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(ZM,Ov({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ps(d,th);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Bn(g,y)}},v={clipPath:r?"url(#clipPath-".concat(a,")"):null};return D.createElement(Bt,v,f.map(function(p){return D.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,p=r.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=Rt("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=b||j,N=wt(p)?this.id:p;return D.createElement(Bt,{className:y},b||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:b?u:u-f/2,y:j?d:d-h/2,width:b?f:f*2,height:j?h:h*2}))):null,D.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!m||g)&&Ja.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(x.PureComponent);AW=Ki;bl(Ki,"displayName","Bar");bl(Ki,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bl(Ki,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=M1e(r,n);if(!m)return null;var v=t.layout,p=n.type.defaultProps,g=p!==void 0?hr(hr({},p),n.props):n.props,y=g.dataKey,b=g.children,j=g.minPointSize,w=v==="horizontal"?o:i,N=u?w.scale.domain():null,S=B1e({numericAxis:w}),_=ps(b,ju),C=f.map(function(E,P){var A,O,I,F,B,$;u?A=$1e(u[d+P],N):(A=Bn(E,y),Array.isArray(A)||(A=[S,A]));var R=Wke(j,AW.defaultProps.minPointSize)(A[1],P);if(v==="horizontal"){var M,T=[o.scale(A[0]),o.scale(A[1])],J=T[0],re=T[1];O=WT({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:E,index:P}),I=(M=re??J)!==null&&M!==void 0?M:void 0,F=m.size;var X=J-re;if(B=Number.isNaN(X)?0:X,$={x:O,y:o.y,width:F,height:o.height},Math.abs(R)>0&&Math.abs(B)<Math.abs(R)){var ye=ds(B||R)*(Math.abs(R)-Math.abs(B));I-=ye,B+=ye}}else{var Re=[i.scale(A[0]),i.scale(A[1])],Je=Re[0],lt=Re[1];if(O=Je,I=WT({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:P}),F=lt-Je,B=m.size,$={x:i.x,y:I,width:i.width,height:B},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var je=ds(F||R)*(Math.abs(R)-Math.abs(F));F+=je}}return hr(hr(hr({},E),{},{x:O,y:I,width:F,height:B,value:u?A:A[1],payload:E,background:$},_&&_[P]&&_[P].props),{},{tooltipPayload:[tW(n,E)],tooltipPosition:{x:O+F/2,y:I+B/2}})});return hr({data:C,layout:v},h)});function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function eAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MW(r.key),r)}}function tAe(e,t,n){return t&&t$(e.prototype,t),n&&t$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){Mb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mb(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=nAe(e,"string");return bp(t)=="symbol"?t:t+""}function nAe(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $b=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Ws(u,Ki);return d.reduce(function(m,v){var p=n[v],g=p.orientation,y=p.domain,b=p.padding,j=b===void 0?{}:b,w=p.mirror,N=p.reversed,S="".concat(g).concat(w?"Mirror":""),_,C,E,P,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=y[1]-y[0],I=1/0,F=p.categoricalDomain.sort();if(F.forEach(function(Re,Je){Je>0&&(I=Math.min((Re||0)-(F[Je-1]||0),I))}),Number.isFinite(I)){var B=I/O,$=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(_=B*$/2),p.padding==="no-gap"){var R=fs(t.barCategoryGap,B*$),M=B*$/2;_=M-R-(M-R)/$*R}}}a==="xAxis"?C=[r.left+(j.left||0)+(_||0),r.left+r.width-(j.right||0)-(_||0)]:a==="yAxis"?C=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(_||0),r.top+r.height-(j.bottom||0)-(_||0)]:C=p.range,N&&(C=[C[1],C[0]]);var T=Xq(p,i,h),J=T.scale,re=T.realScaleType;J.domain(y).range(C),Zq(J);var X=Jq(J,La(La({},p),{},{realScaleType:re}));a==="xAxis"?(A=g==="top"&&!w||g==="bottom"&&w,E=r.left,P=f[S]-A*p.height):a==="yAxis"&&(A=g==="left"&&!w||g==="right"&&w,E=f[S]-A*p.width,P=r.top);var ye=La(La(La({},p),X),{},{realScaleType:re,x:E,y:P,scale:J,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return ye.bandSize=pv(ye,X),!p.hide&&a==="xAxis"?f[S]+=(A?-1:1)*ye.height:p.hide||(f[S]+=(A?-1:1)*ye.width),La(La({},m),{},Mb({},v,ye))},{})},$W=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},rAe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return $W({x:n,y:r},{x:a,y:i})},DW=function(){function e(t){eAe(this,e),this.scale=t}return tAe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Mb(DW,"EPS",1e-4);var GC=function(t){var n=Object.keys(t).reduce(function(r,a){return La(La({},r),{},Mb({},a,DW.create(t[a])))},{});return La(La({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return _ke(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return kW(a,function(i,o){return n[o].isInRange(i)})}})};function sAe(e){return(e%180+180)%180}var aAe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=sAe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},iAe=Vi,oAe=Qp,lAe=mb;function cAe(e){return function(t,n,r){var a=Object(t);if(!oAe(t)){var i=iAe(n);t=lAe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var uAe=cAe,dAe=SW;function fAe(e){var t=dAe(e),n=t%1;return t===t?n?t-n:t:0}var hAe=fAe,mAe=Oz,pAe=Vi,xAe=hAe,gAe=Math.max;function yAe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:xAe(n);return a<0&&(a=gAe(r+a,0)),mAe(e,pAe(t),a)}var vAe=yAe,bAe=uAe,jAe=vAe,wAe=bAe(jAe),_Ae=wAe;const NAe=pn(_Ae);var SAe=bue(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),YC=x.createContext(void 0),QC=x.createContext(void 0),IW=x.createContext(void 0),RW=x.createContext({}),FW=x.createContext(void 0),LW=x.createContext(0),BW=x.createContext(0),r$=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=SAe(i);return D.createElement(YC.Provider,{value:r},D.createElement(QC.Provider,{value:a},D.createElement(RW.Provider,{value:i},D.createElement(IW.Provider,{value:d},D.createElement(FW.Provider,{value:o},D.createElement(LW.Provider,{value:u},D.createElement(BW.Provider,{value:c},l)))))))},CAe=function(){return x.useContext(FW)},zW=function(t){var n=x.useContext(YC);n==null&&hu();var r=n[t];return r==null&&hu(),r},PAe=function(){var t=x.useContext(YC);return il(t)},EAe=function(){var t=x.useContext(QC),n=NAe(t,function(r){return kW(r.domain,Number.isFinite)});return n||il(t)},qW=function(t){var n=x.useContext(QC);n==null&&hu();var r=n[t];return r==null&&hu(),r},kAe=function(){var t=x.useContext(IW);return t},AAe=function(){return x.useContext(RW)},XC=function(){return x.useContext(BW)},ZC=function(){return x.useContext(LW)};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function OAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UW(r.key),r)}}function MAe(e,t,n){return t&&TAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ae(e,t,n){return t=Mv(t),DAe(e,WW()?Reflect.construct(t,n||[],Mv(e).constructor):t.apply(e,n))}function DAe(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IAe(e)}function IAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Mv(e){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(e)}function RAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},E1(e,t)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){JC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JC(e,t,n){return t=UW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=FAe(e,"string");return mf(t)=="symbol"?t:t+""}function FAe(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LAe(e,t){return WAe(e)||qAe(e,t)||zAe(e,t)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zAe(e,t){if(e){if(typeof e=="string")return i$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i$(e,t)}}function i$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WAe(e){if(Array.isArray(e))return e}function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k1.apply(this,arguments)}var UAe=function(t,n){var r;return D.isValidElement(t)?r=D.cloneElement(t,n):jt(t)?r=t(n):r=D.createElement("line",k1({},n,{className:"recharts-reference-line-line"})),r},VAe=function(t,n,r,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(r){var v=u.y,p=t.y.apply(v,{position:o});if(Ai(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?g.reverse():g}if(n){var y=u.x,b=t.x.apply(y,{position:o});if(Ai(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?j.reverse():j}if(a){var w=u.segment,N=w.map(function(S){return t.apply(S,{position:o})});return Ai(u,"discard")&&pke(N,function(S){return!t.isInRange(S)})?null:N}return null};function KAe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=CAe(),d=zW(a),f=qW(i),h=kAe();if(!u||!h)return null;Xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=GC({x:d.scale,y:f.scale}),v=_r(t),p=_r(n),g=r&&r.length===2,y=VAe(m,v,p,g,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=LAe(y,2),j=b[0],w=j.x,N=j.y,S=b[1],_=S.x,C=S.y,E=Ai(e,"hidden")?"url(#".concat(u,")"):void 0,P=a$(a$({clipPath:E},ut(e,!0)),{},{x1:w,y1:N,x2:_,y2:C});return D.createElement(Bt,{className:Rt("recharts-reference-line",l)},UAe(o,P),Or.renderCallByParent(e,rAe({x1:w,y1:N,x2:_,y2:C})))}var eP=function(e){function t(){return OAe(this,t),$Ae(this,t,arguments)}return RAe(t,e),MAe(t,[{key:"render",value:function(){return D.createElement(KAe,this.props)}}])}(D.Component);JC(eP,"displayName","ReferenceLine");JC(eP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A1.apply(this,arguments)}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){Db(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KW(r.key),r)}}function YAe(e,t,n){return t&&GAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QAe(e,t,n){return t=$v(t),XAe(e,VW()?Reflect.construct(t,n||[],$v(e).constructor):t.apply(e,n))}function XAe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZAe(e)}function ZAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(e)}function JAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},O1(e,t)}function Db(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=eOe(e,"string");return pf(t)=="symbol"?t:t+""}function eOe(e,t){if(pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tOe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=GC({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ai(t,"discard")&&!o.isInRange(l)?null:l},Ib=function(e){function t(){return HAe(this,t),QAe(this,t,arguments)}return JAe(t,e),YAe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=_r(a),d=_r(i);if(Xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=tOe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,p=v.shape,g=v.className,y=Ai(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=l$(l$({clipPath:y},ut(this.props,!0)),{},{cx:h,cy:m});return D.createElement(Bt,{className:Rt("recharts-reference-dot",g)},t.renderDot(p,b),Or.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(D.Component);Db(Ib,"displayName","ReferenceDot");Db(Ib,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Db(Ib,"renderDot",function(e,t){var n;return D.isValidElement(e)?n=D.cloneElement(e,t):jt(e)?n=e(t):n=D.createElement(tx,A1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T1.apply(this,arguments)}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function u$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(r){Rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rOe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GW(r.key),r)}}function sOe(e,t,n){return t&&rOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aOe(e,t,n){return t=Dv(t),iOe(e,HW()?Reflect.construct(t,n||[],Dv(e).constructor):t.apply(e,n))}function iOe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Dv(e){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(e)}function lOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},M1(e,t)}function Rb(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=cOe(e,"string");return xf(t)=="symbol"?t:t+""}function cOe(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uOe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=GC({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ai(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:$W(m,v)},Fb=function(e){function t(){return nOe(this,t),aOe(this,t,arguments)}return lOe(t,e),sOe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Xa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_r(a),h=_r(i),m=_r(o),v=_r(l),p=this.props.shape;if(!f&&!h&&!m&&!v&&!p)return null;var g=uOe(f,h,m,v,this.props);if(!g&&!p)return null;var y=Ai(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(Bt,{className:Rt("recharts-reference-area",c)},t.renderRect(p,u$(u$({clipPath:y},ut(this.props,!0)),g)),Or.renderCallByParent(this.props,g))}}])}(D.Component);Rb(Fb,"displayName","ReferenceArea");Rb(Fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rb(Fb,"renderRect",function(e,t){var n;return D.isValidElement(e)?n=D.cloneElement(e,t):jt(e)?n=e(t):n=D.createElement(HC,T1({},t,{className:"recharts-reference-area-rect"})),n});function YW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function dOe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return aAe(r,n)}function fOe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Iv(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function hOe(e,t){return YW(e,t+1)}function mOe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:YW(r,u)};var p=c,g,y=function(){return g===void 0&&(g=n(v,p)),g},b=v.coordinate,j=c===0||Iv(e,b,y,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){pOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pOe(e,t,n){return t=xOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xOe(e){var t=gOe(e,"string");return jp(t)=="symbol"?t:t+""}function gOe(e,t){if(jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yOe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],v,p=function(){return v===void 0&&(v=n(m,h)),v};if(h===o-1){var g=e*(m.coordinate+e*p()/2-c);i[h]=m=Kr(Kr({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=Kr(Kr({},m),{},{tickCoord:m.coordinate});var y=Iv(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),i[h]=Kr(Kr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function vOe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Kr(Kr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Iv(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Kr(Kr({},d),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(b){var j=o[b],w,N=function(){return w===void 0&&(w=n(j,b)),w};if(b===0){var S=e*(j.coordinate-e*N()/2-c);o[b]=j=Kr(Kr({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[b]=j=Kr(Kr({},j),{},{tickCoord:j.coordinate});var _=Iv(e,j.tickCoord,N,c,u);_&&(c=j.tickCoord+e*(N()/2+a),o[b]=Kr(Kr({},j),{},{isShow:!0}))},g=0;g<v;g++)p(g);return o}function tP(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!r)return[];if(Ie(c)||ba.isSsr)return hOe(a,typeof c=="number"&&Ie(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Zh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,w){var N=jt(u)?u(j.value,w):j.value;return m==="width"?dOe(Zh(N,{fontSize:t,letterSpacing:n}),v,f):Zh(N,{fontSize:t,letterSpacing:n})[m]},g=a.length>=2?ds(a[1].coordinate-a[0].coordinate):1,y=fOe(i,g,m);return c==="equidistantPreserveStart"?mOe(g,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=vOe(g,y,p,a,o,c==="preserveStartEnd"):h=yOe(g,y,p,a,o),h.filter(function(b){return b.isShow}))}var bOe=["viewBox"],jOe=["viewBox"],wOe=["ticks"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rd.apply(this,arguments)}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(r){nP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vw(e,t){if(e==null)return{};var n=_Oe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Oe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XW(r.key),r)}}function SOe(e,t,n){return t&&h$(e.prototype,t),n&&h$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function COe(e,t,n){return t=Rv(t),POe(e,QW()?Reflect.construct(t,n||[],Rv(e).constructor):t.apply(e,n))}function POe(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(e)}function EOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(e)}function kOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$1(e,t)}function nP(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=AOe(e,"string");return gf(t)=="symbol"?t:t+""}function AOe(e,t){if(gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=function(e){function t(n){var r;return NOe(this,t),r=COe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return kOe(t,e),SOe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=vw(r,bOe),l=this.props,c=l.viewBox,u=vw(l,jOe);return!xd(i,c)||!xd(o,u)||!xd(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,p,g,y,b,j=f?-1:1,w=r.tickSize||d,N=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,g=o+ +!f*c,p=g-j*w,b=p-j*h,y=N;break;case"left":p=g=r.coordinate,v=i+ +!f*l,m=v-j*w,y=m-j*h,b=N;break;case"right":p=g=r.coordinate,v=i+ +f*l,m=v+j*w,y=m+j*h,b=N;break;default:m=v=r.coordinate,g=o+ +f*c,p=g+j*w,b=p+j*h,y=N;break}return{line:{x1:m,y1:p,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=ts(ts(ts({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ts(ts({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=ts(ts({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return D.createElement("line",rd({},f,{className:Rt("recharts-cartesian-axis-line",Js(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=tP(ts(ts({},this.props),{},{ticks:r}),a,i),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=ut(this.props,!1),y=ut(d,!1),b=ts(ts({},g),{},{fill:"none"},ut(c,!1)),j=m.map(function(w,N){var S=o.getTickLineCoord(w),_=S.line,C=S.tick,E=ts(ts(ts(ts({textAnchor:v,verticalAnchor:p},g),{},{stroke:"none",fill:u},y),C),{},{index:N,payload:w,visibleTicksCount:m.length,tickFormatter:f});return D.createElement(Bt,rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Hl(o.props,w,N)),c&&D.createElement("line",rd({},b,_,{className:Rt("recharts-cartesian-axis-tick-line",Js(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(jt(f)?f(w.value,N):w.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=vw(f,wOe),v=h;return jt(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:D.createElement(Bt,{className:Rt("recharts-cartesian-axis",u),ref:function(g){r.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,a):jt(r)?o=r(a):o=D.createElement(du,rd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);nP(nh,"displayName","CartesianAxis");nP(nh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OOe=["x1","y1","x2","y2","key"],TOe=["offset"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){MOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MOe(e,t,n){return t=$Oe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Oe(e){var t=DOe(e,"string");return mu(t)=="symbol"?t:t+""}function DOe(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ec.apply(this,arguments)}function p$(e,t){if(e==null)return{};var n=IOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ROe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return D.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZW(e,t){var n;if(D.isValidElement(e))n=D.cloneElement(e,t);else if(jt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=p$(t,OOe),u=ut(c,!1);u.offset;var d=p$(u,TOe);n=D.createElement("line",Ec({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function FOe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Yr(Yr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return ZW(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function LOe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Yr(Yr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return ZW(a,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function BOe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var g=m%t.length;return D.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zOe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?i+l-h:d[m+1]-h;if(p<=0)return null;var g=m%r.length;return D.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:r[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var qOe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return Qq(tP(Yr(Yr(Yr({},nh.defaultProps),r),{},{ticks:xo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},WOe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return Qq(tP(Yr(Yr(Yr({},nh.defaultProps),r),{},{ticks:xo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Ru={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Su(e){var t,n,r,a,i,o,l=XC(),c=ZC(),u=AAe(),d=Yr(Yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ru.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ru.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Ru.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ru.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ru.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ru.verticalFill,x:Ie(e.x)?e.x:u.left,y:Ie(e.y)?e.y:u.top,width:Ie(e.width)?e.width:u.width,height:Ie(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,b=PAe(),j=EAe();if(!Ie(m)||m<=0||!Ie(v)||v<=0||!Ie(f)||f!==+f||!Ie(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||qOe,N=d.horizontalCoordinatesGenerator||WOe,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&jt(N)){var C=g&&g.length,E=N({yAxis:j?Yr(Yr({},j),{},{ticks:C?g:j.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);Xa(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mu(E),"]")),Array.isArray(E)&&(S=E)}if((!_||!_.length)&&jt(w)){var P=y&&y.length,A=w({xAxis:b?Yr(Yr({},b),{},{ticks:P?y:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Xa(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mu(A),"]")),Array.isArray(A)&&(_=A)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(ROe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(FOe,Ec({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:j})),D.createElement(LOe,Ec({},d,{offset:u,verticalPoints:_,xAxis:b,yAxis:j})),D.createElement(BOe,Ec({},d,{horizontalPoints:S})),D.createElement(zOe,Ec({},d,{verticalPoints:_})))}Su.displayName="CartesianGrid";var UOe=["type","layout","connectNulls","ref"],VOe=["key"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function x$(e,t){if(e==null)return{};var n=KOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm.apply(this,arguments)}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fu(e){return QOe(e)||YOe(e)||GOe(e)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(e,t){if(e){if(typeof e=="string")return D1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D1(e,t)}}function YOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QOe(e){if(Array.isArray(e))return D1(e)}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eU(r.key),r)}}function ZOe(e,t,n){return t&&y$(e.prototype,t),n&&y$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JOe(e,t,n){return t=Fv(t),eTe(e,JW()?Reflect.construct(t,n||[],Fv(e).constructor):t.apply(e,n))}function eTe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tTe(e)}function tTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(e)}function nTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},I1(e,t)}function Ba(e,t,n){return t=eU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=rTe(e,"string");return yf(t)=="symbol"?t:t+""}function rTe(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ac=function(e){function t(){var n;XOe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=JOe(this,t,[].concat(a)),Ba(n,"state",{isAnimationFinished:!0,totalLength:0}),Ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>f){m=[].concat(Fu(c.slice(0,v)),[f-p]);break}var g=m.length%2===0?[0,h]:[h];return[].concat(Fu(t.repeat(c,d)),Fu(m),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Ba(n,"id",tc("recharts-line-")),Ba(n,"pathRef",function(o){n.mainCurve=o}),Ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return nTe(t,e),ZOe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ps(d,th);if(!f)return null;var h=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Bn(p.payload,g)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return D.createElement(Bt,m,f.map(function(v){return D.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ut(this.props,!1),h=ut(c,!0),m=u.map(function(p,g){var y=Ls(Ls(Ls({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),v={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return D.createElement(Bt,sm({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=x$(l,UOe),h=Ls(Ls(Ls({},ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return D.createElement(Ml,sm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,p=o.width,g=o.height,y=this.state,b=y.prevPoints,j=y.totalLength;return D.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t;if(b){var S=b.length/l.length,_=l.map(function(O,I){var F=Math.floor(I*S);if(b[F]){var B=b[F],$=Yn(B.x,O.x),R=Yn(B.y,O.y);return Ls(Ls({},O),{},{x:$(N),y:R(N)})}if(v){var M=Yn(p*2,O.x),T=Yn(g/2,O.y);return Ls(Ls({},O),{},{x:M(N),y:T(N)})}return Ls(Ls({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(_,r,a)}var C=Yn(0,j),E=C(N),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=i.getStrokeDasharray(E,j,A)}else P=i.generateSimpleStrokeDasharray(j,E);return i.renderCurveStatically(l,r,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Gl(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,v=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,j=Rt("recharts-line",c),w=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=w||N,_=wt(g)?this.id:g,C=(r=ut(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=C.r,P=E===void 0?3:E,A=C.strokeWidth,O=A===void 0?2:A,I=q9(o)?o:{},F=I.clipDot,B=F===void 0?!0:F,$=P*2+O;return D.createElement(Bt,{className:j},w||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:w?h:h-m/2,y:N?f:f-v/2,width:w?m:m*2,height:N?v:v*2})),!B&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:h-$/2,y:f-$/2,width:m+$,height:v+$}))):null,!b&&this.renderCurve(S,_),this.renderErrorBar(S,_),(b||o)&&this.renderDots(S,B,_),(!p||y)&&Ja.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Fu(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Fu(o),Fu(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(D.isValidElement(r))i=D.cloneElement(r,a);else if(jt(r))i=r(a);else{var o=a.key,l=x$(a,VOe),c=Rt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=D.createElement(tx,sm({key:o},l,{className:c}))}return i}}])}(x.PureComponent);Ba(ac,"displayName","Line");Ba(ac,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ba.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(ac,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var v=Bn(h,o);return d==="horizontal"?{x:af({axis:n,ticks:a,bandSize:l,entry:h,index:m}),y:wt(v)?null:r.scale(v),value:v,payload:h}:{x:wt(v)?null:n.scale(v),y:af({axis:r,ticks:i,bandSize:l,entry:h,index:m}),value:v,payload:h}});return Ls({points:f,layout:d},u)});var sTe=["layout","type","stroke","connectNulls","isRange","ref"],aTe=["key"],tU;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function nU(e,t){if(e==null)return{};var n=iTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(r){wi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sU(r.key),r)}}function lTe(e,t,n){return t&&b$(e.prototype,t),n&&b$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,n){return t=Lv(t),uTe(e,rU()?Reflect.construct(t,n||[],Lv(e).constructor):t.apply(e,n))}function uTe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(e)}function dTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rU=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(e)}function fTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},R1(e,t)}function wi(e,t,n){return t=sU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sU(e){var t=hTe(e,"string");return vf(t)=="symbol"?t:t+""}function hTe(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hi=function(e){function t(){var n;oTe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=cTe(this,t,[].concat(a)),wi(n,"state",{isAnimationFinished:!0}),wi(n,"id",tc("recharts-area-")),wi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jt(o)&&o()}),wi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jt(o)&&o()}),n}return fTe(t,e),lTe(t,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=ut(this.props,!1),m=ut(u,!0),v=d.map(function(g,y){var b=Qo(Qo(Qo({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,b)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return D.createElement(Bt,kc({className:"recharts-area-dots"},p),v)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=vl(o.map(function(h){return h.y||0}));return Ie(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vl(i.map(function(h){return h.y||0})),f)),Ie(f)?D.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=vl(o.map(function(h){return h.x||0}));return Ie(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(vl(i.map(function(h){return h.x||0})),f)),Ie(f)?D.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=nU(l,sTe);return D.createElement(Bt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},D.createElement(Ml,kc({},ut(m,!0),{points:r,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(Ml,kc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&D.createElement(Ml,kc({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,p=v.prevPoints,g=v.prevBaseLine;return D.createElement(Sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(p){var j=p.length/l.length,w=l.map(function(C,E){var P=Math.floor(E*j);if(p[P]){var A=p[P],O=Yn(A.x,C.x),I=Yn(A.y,C.y);return Qo(Qo({},C),{},{x:O(b),y:I(b)})}return C}),N;if(Ie(c)&&typeof c=="number"){var S=Yn(g,c);N=S(b)}else if(wt(c)||Gf(c)){var _=Yn(g,0);N=_(b)}else N=c.map(function(C,E){var P=Math.floor(E*j);if(g[P]){var A=g[P],O=Yn(A.x,C.x),I=Yn(A.y,C.y);return Qo(Qo({},C),{},{x:O(b),y:I(b)})}return C});return i.renderAreaStatically(w,N,r,a)}return D.createElement(Bt,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),D.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Gl(d,o)||!Gl(f,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,l,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,v=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,j=Rt("recharts-area",c),w=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,S=w||N,_=wt(g)?this.id:g,C=(r=ut(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=C.r,P=E===void 0?3:E,A=C.strokeWidth,O=A===void 0?2:A,I=q9(o)?o:{},F=I.clipDot,B=F===void 0?!0:F,$=P*2+O;return D.createElement(Bt,{className:j},w||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(_)},D.createElement("rect",{x:w?d:d-m/2,y:N?u:u-v/2,width:w?m:m*2,height:N?v:v*2})),!B&&D.createElement("clipPath",{id:"clipPath-dots-".concat(_)},D.createElement("rect",{x:d-$/2,y:u-$/2,width:m+$,height:v+$}))):null,b?null:this.renderArea(S,_),(o||b)&&this.renderDots(S,B,_),(!p||y)&&Ja.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(x.PureComponent);tU=Hi;wi(Hi,"displayName","Area");wi(Hi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wi(Hi,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ie(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});wi(Hi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,p=tU.getBaseValue(t,n,r,a),g=m==="horizontal",y=!1,b=f.map(function(w,N){var S;v?S=u[d+N]:(S=Bn(w,c),Array.isArray(S)?y=!0:S=[p,S]);var _=S[1]==null||v&&Bn(w,c)==null;return g?{x:af({axis:r,ticks:i,bandSize:l,entry:w,index:N}),y:_?null:a.scale(S[1]),value:S,payload:w}:{x:_?null:r.scale(S[1]),y:af({axis:a,ticks:o,bandSize:l,entry:w,index:N}),value:S,payload:w}}),j;return v||y?j=b.map(function(w){var N=Array.isArray(w.value)?w.value[0]:null;return g?{x:w.x,y:N!=null&&w.y!=null?a.scale(N):null}:{x:N!=null?r.scale(N):null,y:w.y}}):j=g?a.scale(p):r.scale(p),Qo({points:b,baseLine:j,layout:m,isRange:y},h)});wi(Hi,"renderDotItem",function(e,t){var n;if(D.isValidElement(e))n=D.cloneElement(e,t);else if(jt(e))n=e(t);else{var r=Rt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=nU(t,aTe);n=D.createElement(tx,kc({},i,{key:a,className:r}))}return n});function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function mTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oU(r.key),r)}}function xTe(e,t,n){return t&&pTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gTe(e,t,n){return t=Bv(t),yTe(e,aU()?Reflect.construct(t,n||[],Bv(e).constructor):t.apply(e,n))}function yTe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vTe(e)}function vTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!e})()}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(e)}function bTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},F1(e,t)}function iU(e,t,n){return t=oU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e){var t=jTe(e,"string");return bf(t)=="symbol"?t:t+""}function jTe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lb=function(e){function t(){return mTe(this,t),gTe(this,t,arguments)}return bTe(t,e),xTe(t,[{key:"render",value:function(){return null}}])}(D.Component);iU(Lb,"displayName","ZAxis");iU(Lb,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var wTe=["option","isActive"];function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(this,arguments)}function _Te(e,t){if(e==null)return{};var n=NTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function STe(e){var t=e.option,n=e.isActive,r=_Te(e,wTe);return typeof t=="string"?D.createElement(Cv,am({option:D.createElement(hb,am({type:t},r)),isActive:n,shapeType:"symbols"},r)):D.createElement(Cv,am({option:t,isActive:n,shapeType:"symbols"},r))}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im.apply(this,arguments)}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(n),!0).forEach(function(r){jl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cU(r.key),r)}}function PTe(e,t,n){return t&&w$(e.prototype,t),n&&w$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ETe(e,t,n){return t=zv(t),kTe(e,lU()?Reflect.construct(t,n||[],zv(e).constructor):t.apply(e,n))}function kTe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(e)}function ATe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(e)}function OTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},L1(e,t)}function jl(e,t,n){return t=cU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=TTe(e,"string");return jf(t)=="symbol"?t:t+""}function TTe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=function(e){function t(){var n;CTe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ETe(this,t,[].concat(a)),jl(n,"state",{isAnimationFinished:!1}),jl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),jl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),jl(n,"id",tc("recharts-scatter-")),n}return OTe(t,e),PTe(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=ut(this.props,!1);return r.map(function(d,f){var h=c===f,m=h?l:o,v=oa(oa({},u),d);return D.createElement(Bt,im({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Hl(a.props,d,f),{role:"img"}),D.createElement(STe,im({option:m,isActive:h,key:"symbol-".concat(f)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return D.createElement(Sa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,v=i.map(function(p,g){var y=f&&f[g];if(y){var b=Yn(y.cx,p.cx),j=Yn(y.cy,p.cy),w=Yn(y.size,p.size);return oa(oa({},p),{},{cx:b(m),cy:j(m),size:w(m)})}var N=Yn(0,p.size);return oa(oa({},p),{},{size:N(m)})});return D.createElement(Bt,null,r.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,i=r.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!Gl(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=ps(c,th);return u?u.map(function(d,f){var h=d.props,m=h.direction,v=h.dataKey;return D.cloneElement(d,{key:"".concat(m,"-").concat(v,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(g,y){return{x:g.cx,y:g.cy,value:m==="x"?+g.node.x:+g.node.y,errorVal:Bn(g,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,i=r.line,o=r.lineType,l=r.lineJointType,c=ut(this.props,!1),u=ut(i,!1),d,f;if(o==="joint")d=a.map(function(j){return{x:j.cx,y:j.cy}});else if(o==="fitting"){var h=yde(a),m=h.xmin,v=h.xmax,p=h.a,g=h.b,y=function(w){return p*w+g};d=[{x:m,y:y(m)},{x:v,y:y(v)}]}var b=oa(oa(oa({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return D.isValidElement(i)?f=D.cloneElement(i,b):jt(i)?f=i(b):f=D.createElement(Ml,im({},b,{type:l})),D.createElement(Bt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,d=r.left,f=r.top,h=r.width,m=r.height,v=r.id,p=r.isAnimationActive;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=Rt("recharts-scatter",l),b=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,w=b||j,N=wt(v)?this.id:v;return D.createElement(Bt,{className:y,clipPath:w?"url(#clipPath-".concat(N,")"):null},b||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:b?d:d-h/2,y:j?f:f-m/2,width:b?h:h*2,height:j?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),D.createElement(Bt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||g)&&Ja.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])}(x.PureComponent);jl(Bb,"displayName","Scatter");jl(Bb,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ba.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});jl(Bb,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=ps(a.props.children,ju),f=wt(t.dataKey)?a.props.dataKey:t.dataKey,h=wt(n.dataKey)?a.props.dataKey:n.dataKey,m=r&&r.dataKey,v=r?r.range:Lb.defaultProps.range,p=v&&v[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,b=i.map(function(j,w){var N=Bn(j,f),S=Bn(j,h),_=!wt(m)&&Bn(j,m)||"-",C=[{name:wt(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:N,payload:j,dataKey:f,type:u},{name:wt(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:S,payload:j,dataKey:h,type:u}];_!=="-"&&C.push({name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:j,dataKey:m,type:u});var E=af({axis:t,ticks:o,bandSize:g,entry:j,index:w,dataKey:f}),P=af({axis:n,ticks:l,bandSize:y,entry:j,index:w,dataKey:h}),A=_!=="-"?r.scale(_):p,O=Math.sqrt(Math.max(A,0)/Math.PI);return oa(oa({},j),{},{cx:E,cy:P,x:E-O,y:P-O,xAxis:t,yAxis:n,zAxis:r,width:2*O,height:2*O,size:A,node:{x:N,y:S,z:_},tooltipPayload:C,tooltipPosition:{x:E,y:P},payload:j},d&&d[w]&&d[w].props)});return oa({points:b},c)});function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function MTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fU(r.key),r)}}function DTe(e,t,n){return t&&$Te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ITe(e,t,n){return t=qv(t),RTe(e,uU()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function RTe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(e)}function FTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uU=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(e)}function LTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},B1(e,t)}function dU(e,t,n){return t=fU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fU(e){var t=BTe(e,"string");return wf(t)=="symbol"?t:t+""}function BTe(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z1.apply(this,arguments)}function zTe(e){var t=e.xAxisId,n=XC(),r=ZC(),a=zW(t);return a==null?null:D.createElement(nh,z1({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return xo(o,!0)}}))}var Aa=function(e){function t(){return MTe(this,t),ITe(this,t,arguments)}return LTe(t,e),DTe(t,[{key:"render",value:function(){return D.createElement(zTe,this.props)}}])}(D.Component);dU(Aa,"displayName","XAxis");dU(Aa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function qTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pU(r.key),r)}}function UTe(e,t,n){return t&&WTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VTe(e,t,n){return t=Wv(t),KTe(e,hU()?Reflect.construct(t,n||[],Wv(e).constructor):t.apply(e,n))}function KTe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HTe(e)}function HTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(e)}function GTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q1(e,t)}function q1(e,t){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q1(e,t)}function mU(e,t,n){return t=pU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pU(e){var t=YTe(e,"string");return _f(t)=="symbol"?t:t+""}function YTe(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W1.apply(this,arguments)}var QTe=function(t){var n=t.yAxisId,r=XC(),a=ZC(),i=qW(n);return i==null?null:D.createElement(nh,W1({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return xo(l,!0)}}))},ta=function(e){function t(){return qTe(this,t),VTe(this,t,arguments)}return GTe(t,e),UTe(t,[{key:"render",value:function(){return D.createElement(QTe,this.props)}}])}(D.Component);mU(ta,"displayName","YAxis");mU(ta,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _$(e){return eMe(e)||JTe(e)||ZTe(e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZTe(e,t){if(e){if(typeof e=="string")return U1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U1(e,t)}}function JTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eMe(e){if(Array.isArray(e))return U1(e)}function U1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V1=function(t,n,r,a,i){var o=ps(t,eP),l=ps(t,Ib),c=[].concat(_$(o),_$(l)),u=ps(t,Fb),d="".concat(a,"Id"),f=a[0],h=n;if(c.length&&(h=c.reduce(function(p,g){if(g.props[d]===r&&Ai(g.props,"extendDomain")&&Ie(g.props[f])){var y=g.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,g){if(g.props[d]===r&&Ai(g.props,"extendDomain")&&Ie(g.props[m])&&Ie(g.props[v])){var y=g.props[m],b=g.props[v];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,g){return Ie(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},xU={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var p=n?n+u:u;if(!this._events[p])return!1;var g=this._events[p],y=arguments.length,b,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,v),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];g.fn.apply(g.context,b)}else{var w=g.length,N;for(j=0;j<w;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),y){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,f);break;case 4:g[j].fn.call(g[j].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];g[j].fn.apply(g[j].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var p=0,g=[],y=v.length;p<y;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&g.push(v[p]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(xU);var tMe=xU.exports;const nMe=pn(tMe);var bw=new nMe,jw="recharts.syncMouseEvents";function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gU(r.key),r)}}function aMe(e,t,n){return t&&sMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ww(e,t,n){return t=gU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gU(e){var t=iMe(e,"string");return wp(t)=="symbol"?t:t+""}function iMe(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oMe=function(){function e(){rMe(this,e),ww(this,"activeIndex",0),ww(this,"coordinateList",[]),ww(this,"layout","horizontal")}return aMe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function lMe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ie(r)&&Ie(a))return!0}return!1}function cMe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yU(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=On(t,n,r,a),l=On(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function uMe(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=On(l,c,u,f),m=On(l,c,d,f);r=h.x,a=h.y,i=m.x,o=m.y}else return yU(t);return[{x:r,y:a},{x:i,y:o}]}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function N$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(n),!0).forEach(function(r){dMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dMe(e,t,n){return t=fMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fMe(e){var t=hMe(e,"string");return _p(t)=="symbol"?t:t+""}function hMe(e,t){if(_p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mMe(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=Ml;if(h==="ScatterChart")v=o,p=rPe;else if(h==="BarChart")v=cMe(f,o,c,d),p=HC;else if(f==="radial"){var g=yU(o),y=g.cx,b=g.cy,j=g.radius,w=g.startAngle,N=g.endAngle;v={cx:y,cy:b,startAngle:w,endAngle:N,innerRadius:j,outerRadius:j},p=oW}else v={points:uMe(f,o,c)},p=Ml;var S=og(og(og(og({stroke:"#ccc",pointerEvents:"none"},c),v),ut(m,!1)),{},{payload:l,payloadIndex:u,className:Rt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var pMe=["item"],xMe=["children","className","width","height","style","compact","title","desc"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}function S$(e,t){return vMe(e)||yMe(e,t)||bU(e,t)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vMe(e){if(Array.isArray(e))return e}function C$(e,t){if(e==null)return{};var n=bMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jU(r.key),r)}}function _Me(e,t,n){return t&&wMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NMe(e,t,n){return t=Uv(t),SMe(e,vU()?Reflect.construct(t,n||[],Uv(e).constructor):t.apply(e,n))}function SMe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CMe(e)}function CMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vU=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(e)}function PMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K1(e,t)}function Sf(e){return AMe(e)||kMe(e)||bU(e)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(e,t){if(e){if(typeof e=="string")return H1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(e,t)}}function kMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AMe(e){if(Array.isArray(e))return H1(e)}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nt(e,t,n){return t=jU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){var t=OMe(e,"string");return Nf(t)=="symbol"?t:t+""}function OMe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TMe={xAxis:["bottom","top"],yAxis:["left","right"]},MMe={width:"100%",height:"100%"},wU={x:0,y:0};function lg(e){return e}var $Me=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},DMe=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return xe(xe(xe({},a),On(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return xe(xe(xe({},a),On(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return wU},zb=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Sf(l),Sf(u)):l},[]);return o.length>0?o:t&&t.length&&Ie(a)&&Ie(i)?t.slice(a,i+1):[]};function _U(e){return e==="number"?[0,"auto"]:void 0}var G1=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=zb(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=zy(m,o.dataKey,a)}else h=f&&f[r]||l[r];return h?[].concat(Sf(c),[tW(u,h)]):c},[])},E$=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=$Me(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=P1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=G1(t,n,d,f),m=DMe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},IMe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Yq(d,i);return r.reduce(function(v,p){var g,y=p.type.defaultProps!==void 0?xe(xe({},p.type.defaultProps),p.props):p.props,b=y.type,j=y.dataKey,w=y.allowDataOverflow,N=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,C=y.includeHidden,E=y[o];if(v[E])return v;var P=zb(t.data,{graphicalItems:a.filter(function(X){var ye,Re=o in X.props?X.props[o]:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye[o];return Re===E}),dataStartIndex:c,dataEndIndex:u}),A=P.length,O,I,F;lMe(y.domain,w,b)&&(O=a1(y.domain,null,w),m&&(b==="number"||S!=="auto")&&(F=em(P,j,"category")));var B=_U(b);if(!O||O.length===0){var $,R=($=y.domain)!==null&&$!==void 0?$:B;if(j){if(O=em(P,j,b),b==="category"&&m){var M=gde(O);N&&M?(I=O,O=Ev(0,A)):N||(O=KT(R,O,p).reduce(function(X,ye){return X.indexOf(ye)>=0?X:[].concat(Sf(X),[ye])},[]))}else if(b==="category")N?O=O.filter(function(X){return X!==""&&!wt(X)}):O=KT(R,O,p).reduce(function(X,ye){return X.indexOf(ye)>=0||ye===""||wt(ye)?X:[].concat(Sf(X),[ye])},[]);else if(b==="number"){var T=T1e(P,a.filter(function(X){var ye,Re,Je=o in X.props?X.props[o]:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye[o],lt="hide"in X.props?X.props.hide:(Re=X.type.defaultProps)===null||Re===void 0?void 0:Re.hide;return Je===E&&(C||!lt)}),j,i,d);T&&(O=T)}m&&(b==="number"||S!=="auto")&&(F=em(P,j,"category"))}else m?O=Ev(0,A):l&&l[E]&&l[E].hasStack&&b==="number"?O=h==="expand"?[0,1]:eW(l[E].stackGroups,c,u):O=Gq(P,a.filter(function(X){var ye=o in X.props?X.props[o]:X.type.defaultProps[o],Re="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ye===E&&(C||!Re)}),b,d,!0);if(b==="number")O=V1(f,O,E,i,_),R&&(O=a1(R,O,w));else if(b==="category"&&R){var J=R,re=O.every(function(X){return J.indexOf(X)>=0});re&&(O=J)}}return xe(xe({},v),{},Nt({},E,xe(xe({},y),{},{axisType:i,domain:O,categoricalDomain:F,duplicateDomain:I,originalDomain:(g=y.domain)!==null&&g!==void 0?g:B,isCategorical:m,layout:d})))},{})},RMe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=zb(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=Yq(d,i),p=-1;return r.reduce(function(g,y){var b=y.type.defaultProps!==void 0?xe(xe({},y.type.defaultProps),y.props):y.props,j=b[o],w=_U("number");if(!g[j]){p++;var N;return v?N=Ev(0,m):l&&l[j]&&l[j].hasStack?(N=eW(l[j].stackGroups,c,u),N=V1(f,N,j,i)):(N=a1(w,Gq(h,r.filter(function(S){var _,C,E=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],P="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===j&&!P}),"number",d),a.defaultProps.allowDataOverflow),N=V1(f,N,j,i)),xe(xe({},g),{},Nt({},j,xe(xe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Js(TMe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:w,isCategorical:v,layout:d})))}return g},{})},FMe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ps(d,i),m={};return h&&h.length?m=IMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=RMe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},LMe=function(t){var n=il(t),r=xo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bC(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:pv(n,r)}},k$=function(t){var n=t.children,r=t.defaultShowTooltip,a=Ws(n,ff),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},BMe=function(t){return!t||!t.length?!1:t.some(function(n){var r=bo(n&&n.type);return r&&r.indexOf("Bar")>=0})},A$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zMe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Ws(f,ff),v=Ws(f,Za),p=Object.keys(c).reduce(function(N,S){var _=c[S],C=_.orientation;return!_.mirror&&!_.hide?xe(xe({},N),{},Nt({},C,N[C]+_.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(N,S){var _=o[S],C=_.orientation;return!_.mirror&&!_.hide?xe(xe({},N),{},Nt({},C,Js(N,"".concat(C))+_.height)):N},{top:h.top||0,bottom:h.bottom||0}),y=xe(xe({},g),p),b=y.bottom;m&&(y.bottom+=m.props.height||ff.defaultProps.height),v&&n&&(y=A1e(y,a,r,n));var j=u-y.left-y.right,w=d-y.top-y.bottom;return xe(xe({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(w,0)})},qMe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},nx=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var j=b.graphicalItems,w=b.stackGroups,N=b.offset,S=b.updateId,_=b.dataStartIndex,C=b.dataEndIndex,E=y.barSize,P=y.layout,A=y.barGap,O=y.barCategoryGap,I=y.maxBarSize,F=A$(P),B=F.numericAxisName,$=F.cateAxisName,R=BMe(j),M=[];return j.forEach(function(T,J){var re=zb(y.data,{graphicalItems:[T],dataStartIndex:_,dataEndIndex:C}),X=T.type.defaultProps!==void 0?xe(xe({},T.type.defaultProps),T.props):T.props,ye=X.dataKey,Re=X.maxBarSize,Je=X["".concat(B,"Id")],lt=X["".concat($,"Id")],je={},Oe=c.reduce(function(kt,z){var se=b["".concat(z.axisType,"Map")],he=X["".concat(z.axisType,"Id")];se&&se[he]||z.axisType==="zAxis"||hu();var ze=se[he];return xe(xe({},kt),{},Nt(Nt({},z.axisType,ze),"".concat(z.axisType,"Ticks"),xo(ze)))},je),ce=Oe[$],_e=Oe["".concat($,"Ticks")],H=w&&w[Je]&&w[Je].hasStack&&z1e(T,w[Je].stackGroups),Y=bo(T.type).indexOf("Bar")>=0,L=pv(ce,_e),Z=[],Be=R&&E1e({barSize:E,stackGroups:w,totalSize:qMe(Oe,$)});if(Y){var Ke,st,$t=wt(Re)?I:Re,ne=(Ke=(st=pv(ce,_e,!0))!==null&&st!==void 0?st:$t)!==null&&Ke!==void 0?Ke:0;Z=k1e({barGap:A,barCategoryGap:O,bandSize:ne!==L?ne:L,sizeList:Be[lt],maxBarSize:$t}),ne!==L&&(Z=Z.map(function(kt){return xe(xe({},kt),{},{position:xe(xe({},kt.position),{},{offset:kt.position.offset-ne/2})})}))}var pe=T&&T.type&&T.type.getComposedData;pe&&M.push({props:xe(xe({},pe(xe(xe({},Oe),{},{displayedData:re,props:y,dataKey:ye,item:T,bandSize:L,barPosition:Z,offset:N,stackedData:H,layout:P,dataStartIndex:_,dataEndIndex:C}))),{},Nt(Nt(Nt({key:T.key||"item-".concat(J)},B,Oe[B]),$,Oe[$]),"animationId",S)),childIndex:kde(T,y.children),item:T})}),M},m=function(y,b){var j=y.props,w=y.dataStartIndex,N=y.dataEndIndex,S=y.updateId;if(!BA({props:j}))return null;var _=j.children,C=j.layout,E=j.stackOffset,P=j.data,A=j.reverseStackOrder,O=A$(C),I=O.numericAxisName,F=O.cateAxisName,B=ps(_,r),$=L1e(P,B,"".concat(I,"Id"),"".concat(F,"Id"),E,A),R=c.reduce(function(X,ye){var Re="".concat(ye.axisType,"Map");return xe(xe({},X),{},Nt({},Re,FMe(j,xe(xe({},ye),{},{graphicalItems:B,stackGroups:ye.axisType===I&&$,dataStartIndex:w,dataEndIndex:N}))))},{}),M=zMe(xe(xe({},R),{},{props:j,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(X){R[X]=d(j,R[X],M,X.replace("Map",""),n)});var T=R["".concat(F,"Map")],J=LMe(T),re=h(j,xe(xe({},R),{},{dataStartIndex:w,dataEndIndex:N,updateId:S,graphicalItems:B,stackGroups:$,offset:M}));return xe(xe({formattedGraphicalItems:re,graphicalItems:B,offset:M,stackGroups:$},J),R)},v=function(g){function y(b){var j,w,N;return jMe(this,y),N=NMe(this,y,[b]),Nt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(N,"accessibilityManager",new oMe),Nt(N,"handleLegendBBoxUpdate",function(S){if(S){var _=N.state,C=_.dataStartIndex,E=_.dataEndIndex,P=_.updateId;N.setState(xe({legendBBox:S},m({props:N.props,dataStartIndex:C,dataEndIndex:E,updateId:P},xe(xe({},N.state),{},{legendBBox:S}))))}}),Nt(N,"handleReceiveSyncEvent",function(S,_,C){if(N.props.syncId===S){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(_)}}),Nt(N,"handleBrushChange",function(S){var _=S.startIndex,C=S.endIndex;if(_!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var E=N.state.updateId;N.setState(function(){return xe({dataStartIndex:_,dataEndIndex:C},m({props:N.props,dataStartIndex:_,dataEndIndex:C,updateId:E},N.state))}),N.triggerSyncEvent({dataStartIndex:_,dataEndIndex:C})}}),Nt(N,"handleMouseEnter",function(S){var _=N.getMouseInfo(S);if(_){var C=xe(xe({},_),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var E=N.props.onMouseEnter;jt(E)&&E(C,S)}}),Nt(N,"triggeredAfterMouseMove",function(S){var _=N.getMouseInfo(S),C=_?xe(xe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var E=N.props.onMouseMove;jt(E)&&E(C,S)}),Nt(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Nt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Nt(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Nt(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};N.setState(_),N.triggerSyncEvent(_);var C=N.props.onMouseLeave;jt(C)&&C(_,S)}),Nt(N,"handleOuterEvent",function(S){var _=Ede(S),C=Js(N.props,"".concat(_));if(_&&jt(C)){var E,P;/.*touch.*/i.test(_)?P=N.getMouseInfo(S.changedTouches[0]):P=N.getMouseInfo(S),C((E=P)!==null&&E!==void 0?E:{},S)}}),Nt(N,"handleClick",function(S){var _=N.getMouseInfo(S);if(_){var C=xe(xe({},_),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var E=N.props.onClick;jt(E)&&E(C,S)}}),Nt(N,"handleMouseDown",function(S){var _=N.props.onMouseDown;if(jt(_)){var C=N.getMouseInfo(S);_(C,S)}}),Nt(N,"handleMouseUp",function(S){var _=N.props.onMouseUp;if(jt(_)){var C=N.getMouseInfo(S);_(C,S)}}),Nt(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Nt(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Nt(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Nt(N,"handleDoubleClick",function(S){var _=N.props.onDoubleClick;if(jt(_)){var C=N.getMouseInfo(S);_(C,S)}}),Nt(N,"handleContextMenu",function(S){var _=N.props.onContextMenu;if(jt(_)){var C=N.getMouseInfo(S);_(C,S)}}),Nt(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&bw.emit(jw,N.props.syncId,S,N.eventEmitterSymbol)}),Nt(N,"applySyncEvent",function(S){var _=N.props,C=_.layout,E=_.syncMethod,P=N.state.updateId,A=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(xe({dataStartIndex:A,dataEndIndex:O},m({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:P},N.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,F=S.chartY,B=S.activeTooltipIndex,$=N.state,R=$.offset,M=$.tooltipTicks;if(!R)return;if(typeof E=="function")B=E(M,S);else if(E==="value"){B=-1;for(var T=0;T<M.length;T++)if(M[T].value===S.activeLabel){B=T;break}}var J=xe(xe({},R),{},{x:R.left,y:R.top}),re=Math.min(I,J.x+J.width),X=Math.min(F,J.y+J.height),ye=M[B]&&M[B].value,Re=G1(N.state,N.props.data,B),Je=M[B]?{x:C==="horizontal"?M[B].coordinate:re,y:C==="horizontal"?X:M[B].coordinate}:wU;N.setState(xe(xe({},S),{},{activeLabel:ye,activeCoordinate:Je,activePayload:Re,activeTooltipIndex:B}))}else N.setState(S)}),Nt(N,"renderCursor",function(S){var _,C=N.state,E=C.isTooltipActive,P=C.activeCoordinate,A=C.activePayload,O=C.offset,I=C.activeTooltipIndex,F=C.tooltipAxisBandSize,B=N.getTooltipEventType(),$=(_=S.props.active)!==null&&_!==void 0?_:E,R=N.props.layout,M=S.key||"_recharts-cursor";return D.createElement(mMe,{key:M,activeCoordinate:P,activePayload:A,activeTooltipIndex:I,chartName:n,element:S,isActive:$,layout:R,offset:O,tooltipAxisBandSize:F,tooltipEventType:B})}),Nt(N,"renderPolarAxis",function(S,_,C){var E=Js(S,"type.axisType"),P=Js(N.state,"".concat(E,"Map")),A=S.type.defaultProps,O=A!==void 0?xe(xe({},A),S.props):S.props,I=P&&P[O["".concat(E,"Id")]];return x.cloneElement(S,xe(xe({},I),{},{className:Rt(E,I.className),key:S.key||"".concat(_,"-").concat(C),ticks:xo(I,!0)}))}),Nt(N,"renderPolarGrid",function(S){var _=S.props,C=_.radialLines,E=_.polarAngles,P=_.polarRadius,A=N.state,O=A.radiusAxisMap,I=A.angleAxisMap,F=il(O),B=il(I),$=B.cx,R=B.cy,M=B.innerRadius,T=B.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(E)?E:xo(B,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(P)?P:xo(F,!0).map(function(J){return J.coordinate}),cx:$,cy:R,innerRadius:M,outerRadius:T,key:S.key||"polar-grid",radialLines:C})}),Nt(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,_=N.props,C=_.children,E=_.width,P=_.height,A=N.props.margin||{},O=E-(A.left||0)-(A.right||0),I=Kq({children:C,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!I)return null;var F=I.item,B=C$(I,pMe);return x.cloneElement(F,xe(xe({},B),{},{chartWidth:E,chartHeight:P,margin:A,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Nt(N,"renderTooltip",function(){var S,_=N.props,C=_.children,E=_.accessibilityLayer,P=Ws(C,Ar);if(!P)return null;var A=N.state,O=A.isTooltipActive,I=A.activeCoordinate,F=A.activePayload,B=A.activeLabel,$=A.offset,R=(S=P.props.active)!==null&&S!==void 0?S:O;return x.cloneElement(P,{viewBox:xe(xe({},$),{},{x:$.left,y:$.top}),active:R,label:B,payload:R?F:[],coordinate:I,accessibilityLayer:E})}),Nt(N,"renderBrush",function(S){var _=N.props,C=_.margin,E=_.data,P=N.state,A=P.offset,O=P.dataStartIndex,I=P.dataEndIndex,F=P.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:rg(N.handleBrushChange,S.props.onChange),data:E,x:Ie(S.props.x)?S.props.x:A.left,y:Ie(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:Ie(S.props.width)?S.props.width:A.width,startIndex:O,endIndex:I,updateId:"brush-".concat(F)})}),Nt(N,"renderReferenceElement",function(S,_,C){if(!S)return null;var E=N,P=E.clipPathId,A=N.state,O=A.xAxisMap,I=A.yAxisMap,F=A.offset,B=S.type.defaultProps||{},$=S.props,R=$.xAxisId,M=R===void 0?B.xAxisId:R,T=$.yAxisId,J=T===void 0?B.yAxisId:T;return x.cloneElement(S,{key:S.key||"".concat(_,"-").concat(C),xAxis:O[M],yAxis:I[J],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),Nt(N,"renderActivePoints",function(S){var _=S.item,C=S.activePoint,E=S.basePoint,P=S.childIndex,A=S.isRange,O=[],I=_.props.key,F=_.item.type.defaultProps!==void 0?xe(xe({},_.item.type.defaultProps),_.item.props):_.item.props,B=F.activeDot,$=F.dataKey,R=xe(xe({index:P,dataKey:$,cx:C.x,cy:C.y,r:4,fill:KC(_.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ut(B,!1)),qy(B));return O.push(y.renderActiveDot(B,R,"".concat(I,"-activePoint-").concat(P))),E?O.push(y.renderActiveDot(B,xe(xe({},R),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(P))):A&&O.push(null),O}),Nt(N,"renderGraphicChild",function(S,_,C){var E=N.filterFormatItem(S,_,C);if(!E)return null;var P=N.getTooltipEventType(),A=N.state,O=A.isTooltipActive,I=A.tooltipAxis,F=A.activeTooltipIndex,B=A.activeLabel,$=N.props.children,R=Ws($,Ar),M=E.props,T=M.points,J=M.isRange,re=M.baseLine,X=E.item.type.defaultProps!==void 0?xe(xe({},E.item.type.defaultProps),E.item.props):E.item.props,ye=X.activeDot,Re=X.hide,Je=X.activeBar,lt=X.activeShape,je=!!(!Re&&O&&R&&(ye||Je||lt)),Oe={};P!=="axis"&&R&&R.props.trigger==="click"?Oe={onClick:rg(N.handleItemMouseEnter,S.props.onClick)}:P!=="axis"&&(Oe={onMouseLeave:rg(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:rg(N.handleItemMouseEnter,S.props.onMouseEnter)});var ce=x.cloneElement(S,xe(xe({},E.props),Oe));function _e(z){return typeof I.dataKey=="function"?I.dataKey(z.payload):null}if(je)if(F>=0){var H,Y;if(I.dataKey&&!I.allowDuplicatedCategory){var L=typeof I.dataKey=="function"?_e:"payload.".concat(I.dataKey.toString());H=zy(T,L,B),Y=J&&re&&zy(re,L,B)}else H=T==null?void 0:T[F],Y=J&&re&&re[F];if(lt||Je){var Z=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[x.cloneElement(S,xe(xe(xe({},E.props),Oe),{},{activeIndex:Z})),null,null]}if(!wt(H))return[ce].concat(Sf(N.renderActivePoints({item:E,activePoint:H,basePoint:Y,childIndex:F,isRange:J})))}else{var Be,Ke=(Be=N.getItemByXY(N.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:ce},st=Ke.graphicalItem,$t=st.item,ne=$t===void 0?S:$t,pe=st.childIndex,kt=xe(xe(xe({},E.props),Oe),{},{activeIndex:pe});return[x.cloneElement(ne,kt),null,null]}return J?[ce,null,null]:[ce,null]}),Nt(N,"renderCustomized",function(S,_,C){return x.cloneElement(S,xe(xe({key:"recharts-customized-".concat(C)},N.props),N.state))}),Nt(N,"renderMap",{CartesianGrid:{handler:lg,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:lg},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:lg},YAxis:{handler:lg},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:tc("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=Vz(N.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return PMe(y,g),_Me(y,[{key:"componentDidMount",value:function(){var j,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,w=j.children,N=j.data,S=j.height,_=j.layout,C=Ws(w,Ar);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,A=G1(this.state,N,E,P),O=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+S)/2,F=_==="horizontal",B=F?{x:O,y:I}:{y:O,x:I},$=this.state.formattedGraphicalItems.find(function(M){var T=M.item;return T.type.name==="Scatter"});$&&(B=xe(xe({},B),$.props.points[E].tooltipPosition),A=$.props.points[E].tooltipPayload);var R={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:B};this.setState(R),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){bN([Ws(j.children,Ar)],[Ws(this.props.children,Ar)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Ws(this.props.children,Ar);if(j&&typeof j.props.shared=="boolean"){var w=j.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),S=tje(N),_={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},C=N.width/w.offsetWidth||1,E=this.inRange(_.chartX,_.chartY,C);if(!E)return null;var P=this.state,A=P.xAxisMap,O=P.yAxisMap,I=this.getTooltipEventType(),F=E$(this.state,this.props.data,this.props.layout,E);if(I!=="axis"&&A&&O){var B=il(A).scale,$=il(O).scale,R=B&&B.invert?B.invert(_.chartX):null,M=$&&$.invert?$.invert(_.chartY):null;return xe(xe({},_),{},{xValue:R,yValue:M},F)}return F?xe(xe({},_),F):null}},{key:"inRange",value:function(j,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=j/N,C=w/N;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,P=_>=E.left&&_<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return P?{x:_,y:C}:null}var A=this.state,O=A.angleAxisMap,I=A.radiusAxisMap;if(O&&I){var F=il(O);return YT({x:_,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,w=this.getTooltipEventType(),N=Ws(j,Ar),S={};N&&w==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=qy(this.props,this.handleOuterEvent);return xe(xe({},_),S)}},{key:"addListener",value:function(){bw.on(jw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bw.removeListener(jw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,w,N){for(var S=this.state.formattedGraphicalItems,_=0,C=S.length;_<C;_++){var E=S[_];if(E.item===j||E.props.key===j.key||w===bo(E.item.type)&&N===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,w=this.state.offset,N=w.left,S=w.top,_=w.height,C=w.width;return D.createElement("defs",null,D.createElement("clipPath",{id:j},D.createElement("rect",{x:N,y:S,height:_,width:C})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(w,N){var S=S$(N,2),_=S[0],C=S[1];return xe(xe({},w),{},Nt({},_,C.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(w,N){var S=S$(N,2),_=S[0],C=S[1];return xe(xe({},w),{},Nt({},_,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(j){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(j){var w=this.state,N=w.formattedGraphicalItems,S=w.activeItem;if(N&&N.length)for(var _=0,C=N.length;_<C;_++){var E=N[_],P=E.props,A=E.item,O=A.type.defaultProps!==void 0?xe(xe({},A.type.defaultProps),A.props):A.props,I=bo(A.type);if(I==="Bar"){var F=(P.data||[]).find(function(M){return RCe(j,M)});if(F)return{graphicalItem:E,payload:F}}else if(I==="RadialBar"){var B=(P.data||[]).find(function(M){return YT(j,M)});if(B)return{graphicalItem:E,payload:B}}else if(Ob(E,S)||Tb(E,S)||gp(E,S)){var $=SEe({graphicalItem:E,activeTooltipItem:S,itemData:O.data}),R=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:xe(xe({},E),{},{childIndex:R}),payload:gp(E,S)?O.data[$]:E.props.data[$]}}}return null}},{key:"render",value:function(){var j=this;if(!BA(this))return null;var w=this.props,N=w.children,S=w.className,_=w.width,C=w.height,E=w.style,P=w.compact,A=w.title,O=w.desc,I=C$(w,xMe),F=ut(I,!1);if(P)return D.createElement(r$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(wN,sd({},F,{width:_,height:C,title:A,desc:O}),this.renderClipPath(),qA(N,this.renderMap)));if(this.props.accessibilityLayer){var B,$;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(M){j.accessibilityManager.keyboardEvent(M)},F.onFocus=function(){j.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return D.createElement(r$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",sd({className:Rt("recharts-wrapper",S),style:xe({position:"relative",cursor:"default",width:_,height:C},E)},R,{ref:function(T){j.container=T}}),D.createElement(wN,sd({},F,{width:_,height:C,title:A,desc:O,style:MMe}),this.renderClipPath(),qA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Nt(v,"displayName",n),Nt(v,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Nt(v,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,j=g.data,w=g.children,N=g.width,S=g.height,_=g.layout,C=g.stackOffset,E=g.margin,P=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var O=k$(g);return xe(xe(xe({},O),{},{updateId:0},m(xe(xe({props:g},O),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:S,prevLayout:_,prevStackOffset:C,prevMargin:E,prevChildren:w})}if(b!==y.prevDataKey||j!==y.prevData||N!==y.prevWidth||S!==y.prevHeight||_!==y.prevLayout||C!==y.prevStackOffset||!xd(E,y.prevMargin)){var I=k$(g),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=xe(xe({},E$(y,j,_)),{},{updateId:y.updateId+1}),$=xe(xe(xe({},I),F),B);return xe(xe(xe({},$),m(xe({props:g},$),y)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:S,prevLayout:_,prevStackOffset:C,prevMargin:E,prevChildren:w})}if(!bN(w,y.prevChildren)){var R,M,T,J,re=Ws(w,ff),X=re&&(R=(M=re.props)===null||M===void 0?void 0:M.startIndex)!==null&&R!==void 0?R:P,ye=re&&(T=(J=re.props)===null||J===void 0?void 0:J.endIndex)!==null&&T!==void 0?T:A,Re=X!==P||ye!==A,Je=!wt(j),lt=Je&&!Re?y.updateId:y.updateId+1;return xe(xe({updateId:lt},m(xe(xe({props:g},y),{},{updateId:lt,dataStartIndex:X,dataEndIndex:ye}),y)),{},{prevChildren:w,dataStartIndex:X,dataEndIndex:ye})}return null}),Nt(v,"renderActiveDot",function(g,y,b){var j;return x.isValidElement(g)?j=x.cloneElement(g,y):jt(g)?j=g(y):j=D.createElement(tx,y),D.createElement(Bt,{className:"recharts-active-dot",key:b},j)});var p=x.forwardRef(function(y,b){return D.createElement(v,sd({},y,{ref:b}))});return p.displayName=v.displayName,p},NU=nx({chartName:"LineChart",GraphicalChild:ac,axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:$b}),SU=nx({chartName:"BarChart",GraphicalChild:Ki,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:$b}),rP=nx({chartName:"PieChart",GraphicalChild:ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ab},{axisType:"radiusAxis",AxisComp:Eb}],formatAxisMap:X1e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),WMe=nx({chartName:"AreaChart",GraphicalChild:Hi,axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:$b}),UMe=nx({chartName:"ComposedChart",GraphicalChild:[ac,Hi,Ki,Bb],axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:ta},{axisType:"zAxis",AxisComp:Lb}],formatAxisMap:$b});const cg=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];function VMe(){const[e,t]=x.useState(!0),[n,r]=x.useState("7"),[a,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState();x.useEffect(()=>{const X=new Date,ye=parseInt(n);if(ye>0){const Re=new Date(X.getTime()-ye*24*60*60*1e3);i(Re.toISOString().split("T")[0]),l(X.toISOString().split("T")[0])}},[n]);const{data:d,refetch:f,isLoading:h}=$e({queryKey:["/api/production/real-time-stats"],refetchInterval:e?3e4:!1}),{data:m,refetch:v,isLoading:p}=$e({queryKey:["/api/production/user-performance",c,a,o],enabled:!!a&&!!o,refetchInterval:e?6e4:!1}),{data:g,refetch:y,isLoading:b}=$e({queryKey:["/api/production/role-performance",a,o],enabled:!!a&&!!o,refetchInterval:e?6e4:!1}),{data:j,refetch:w,isLoading:N}=$e({queryKey:["/api/production/alerts"],refetchInterval:e?6e4:!1}),{data:S,isLoading:_}=$e({queryKey:["/api/production/efficiency-metrics",a,o],enabled:!!a&&!!o,refetchInterval:e?12e4:!1});$e({queryKey:["/api/production/machine-utilization",a,o],enabled:!!a&&!!o,refetchInterval:e?12e4:!1});const C={currentStats:{daily_rolls:0,daily_weight:0,active_orders:0,completed_today:0,current_waste:0,avg_efficiency:90},machineStatus:[],queueStats:{film_queue:0,printing_queue:0,cutting_queue:0,pending_orders:0},updateInterval:3e4,lastUpdated:new Date().toISOString()},E=d?{currentStats:(d==null?void 0:d.currentStats)||C.currentStats,machineStatus:(d==null?void 0:d.machineStatus)||C.machineStatus,queueStats:(d==null?void 0:d.queueStats)||C.queueStats,updateInterval:(d==null?void 0:d.updateInterval)||C.updateInterval,lastUpdated:(d==null?void 0:d.lastUpdated)||C.lastUpdated}:C,P=(m==null?void 0:m.data)||[],A=(g==null?void 0:g.data)||[],O=(j==null?void 0:j.alerts)||[],I=async()=>{try{const X={realTimeStats:E,userPerformance:P,rolePerformance:A,exportDate:new Date().toISOString(),period:{from:a,to:o}},ye=JSON.stringify(X,null,2),Re="data:application/json;charset=utf-8,"+encodeURIComponent(ye),Je=`production-monitoring-${new Date().toISOString().split("T")[0]}.json`,lt=document.createElement("a");lt.setAttribute("href",Re),lt.setAttribute("download",Je),lt.click()}catch(X){console.error("Export failed:",X)}},F=X=>{switch(X){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=X=>{switch(X){case"active":return s.jsx(It,{className:"w-4 h-4 text-green-500"});case"maintenance":return s.jsx(Ga,{className:"w-4 h-4 text-yellow-500"});case"down":return s.jsx(Zr,{className:"w-4 h-4 text-red-500"});default:return s.jsx(mJ,{className:"w-4 h-4 text-gray-500"})}},$=X=>{switch(X){case"error":return s.jsx(Zr,{className:"w-4 h-4 text-red-500"});case"warning":return s.jsx(cn,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(Ga,{className:"w-4 h-4 text-blue-500"})}},R=X=>new Intl.NumberFormat("ar-EG").format(X),M=X=>`${R(Math.round(X))} `,T=X=>`${R(Math.round(X))}%`,J=[{name:"",value:E.queueStats.film_queue,fill:cg[0]},{name:"",value:E.queueStats.printing_queue,fill:cg[1]},{name:"",value:E.queueStats.cutting_queue,fill:cg[2]},{name:"",value:E.queueStats.pending_orders,fill:cg[3]}],re=A.map(X=>({name:X.role_name,production:X.total_weight_kg,efficiency:X.quality_score,orders:X.total_production_orders}));return s.jsxs("div",{className:"min-h-screen bg-gray-50",dir:"rtl",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4 space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600",children:"     "})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(W,{variant:e?"default":"outline",size:"sm",onClick:()=>t(!e),"data-testid":"button-auto-refresh",children:[e?s.jsx(cJ,{className:"w-4 h-4 mr-2"}):s.jsx(xy,{className:"w-4 h-4 mr-2"}),e?" ":" "]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:()=>{f(),v(),y(),w()},"data-testid":"button-manual-refresh",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(W,{variant:"outline",size:"sm",onClick:I,"data-testid":"button-export",children:[s.jsx(tl,{className:"w-4 h-4 mr-2"})," "]})]})]}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u2,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:" :"})]}),s.jsxs(Xe,{value:n||"",onValueChange:r,children:[s.jsx(Ge,{className:"w-32","data-testid":"select-date-filter",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"1",children:""}),s.jsx(q,{value:"7",children:" "}),s.jsx(q,{value:"30",children:" "}),s.jsx(q,{value:"90",children:" 3 "})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{type:"date",value:a,onChange:X=>i(X.target.value),className:"w-36","data-testid":"input-date-from"}),s.jsx("span",{className:"text-sm text-gray-500",children:""}),s.jsx(fe,{type:"date",value:o,onChange:X=>l(X.target.value),className:"w-36","data-testid":"input-date-to"})]}),s.jsxs(ge,{variant:"outline",className:"text-xs",children:[" : ",new Date(E.lastUpdated).toLocaleString("ar-EG")]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-blue-600","data-testid":"stat-daily-rolls",children:R(E.currentStats.daily_rolls)})]}),s.jsx(Cm,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-green-600","data-testid":"stat-daily-weight",children:M(E.currentStats.daily_weight)})]}),s.jsx(vo,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-purple-600","data-testid":"stat-active-orders",children:R(E.currentStats.active_orders)})]}),s.jsx(ga,{className:"w-8 h-8 text-purple-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-emerald-600","data-testid":"stat-completed-today",children:R(E.currentStats.completed_today)})]}),s.jsx(It,{className:"w-8 h-8 text-emerald-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-red-600","data-testid":"stat-current-waste",children:M(E.currentStats.current_waste)})]}),s.jsx(cn,{className:"w-8 h-8 text-red-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:" "}),s.jsx("p",{className:"text-xl font-bold text-indigo-600","data-testid":"stat-avg-efficiency",children:T(E.currentStats.avg_efficiency)})]}),s.jsx(yu,{className:"w-8 h-8 text-indigo-500"})]})})})]}),O.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(cn,{className:"w-5 h-5 text-yellow-500"}),"  (",O.length,")"]}),O.slice(0,3).map((X,ye)=>s.jsxs($i,{variant:X.type==="error"?"destructive":"default",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[$(X.type),s.jsx(S2,{children:X.title})]}),s.jsx(Di,{className:"mt-2",children:X.message})]},ye))]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(QZ,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:250,children:s.jsxs(rP,{children:[s.jsx(ui,{data:J,cx:"50%",cy:"50%",labelLine:!1,label:({name:X,value:ye})=>`${X}: ${ye}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:J.map((X,ye)=>s.jsx(ju,{fill:X.fill},`cell-${ye}`))}),s.jsx(Ar,{})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(eu,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:250,children:s.jsxs(SU,{data:re,children:[s.jsx(Su,{strokeDasharray:"3 3"}),s.jsx(Aa,{dataKey:"name"}),s.jsx(ta,{}),s.jsx(Ar,{}),s.jsx(Ki,{dataKey:"production",fill:"#8884d8",name:" ()"})]})})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:E.machineStatus.map(X=>s.jsxs("div",{className:`p-3 rounded-lg border-2 ${F(X.status)}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:X.machine_name}),B(X.status)]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"}),s.jsx("span",{children:X.status==="active"?"":X.status==="maintenance"?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" :"}),s.jsx("span",{children:X.current_rolls})]})]})]},X.machine_id))})})]}),s.jsxs(Is,{defaultValue:"users",className:"w-full",children:[s.jsxs(vs,{className:"w-full lg:w-auto",children:[s.jsx(mt,{value:"users","data-testid":"tab-users",children:" "}),s.jsx(mt,{value:"roles","data-testid":"tab-roles",children:" "}),s.jsx(mt,{value:"efficiency","data-testid":"tab-efficiency",children:" "})]}),s.jsx(ct,{value:"users",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{children:[s.jsx(Ot,{children:""}),s.jsx(Ot,{children:""}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "})]})}),s.jsx(uu,{children:P.map(X=>s.jsxs(us,{children:[s.jsx(St,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:X.display_name_ar||X.username}),s.jsx("div",{className:"text-sm text-gray-500",children:X.role_name})]})}),s.jsx(St,{children:X.section_name}),s.jsx(St,{"data-testid":`user-${X.user_id}-rolls-created`,children:R(X.rolls_created)}),s.jsx(St,{"data-testid":`user-${X.user_id}-rolls-printed`,children:R(X.rolls_printed)}),s.jsx(St,{"data-testid":`user-${X.user_id}-rolls-cut`,children:R(X.rolls_cut)}),s.jsx(St,{"data-testid":`user-${X.user_id}-total-weight`,children:M(X.total_weight_kg)}),s.jsx(St,{children:R(X.hours_worked)}),s.jsx(St,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(va,{value:X.efficiency_score,className:"w-16 h-2"}),s.jsx("span",{className:"text-sm",children:T(X.efficiency_score)})]})})]},X.user_id))})]})})})]})}),s.jsx(ct,{value:"roles",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{children:[s.jsx(Ot,{children:""}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:"  "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:"   "})]})}),s.jsx(uu,{children:A.map(X=>s.jsxs(us,{children:[s.jsx(St,{className:"font-medium",children:X.role_name}),s.jsx(St,{children:R(X.user_count)}),s.jsx(St,{"data-testid":`role-${X.role_id}-production-orders`,children:R(X.total_production_orders)}),s.jsx(St,{"data-testid":`role-${X.role_id}-total-rolls`,children:R(X.total_rolls)}),s.jsx(St,{"data-testid":`role-${X.role_id}-total-weight`,children:M(X.total_weight_kg)}),s.jsxs(St,{children:[R(Math.round(X.avg_order_completion_time))," "]}),s.jsx(St,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(va,{value:X.quality_score,className:"w-16 h-2"}),s.jsx("span",{className:"text-sm",children:T(X.quality_score)})]})}),s.jsx(St,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(va,{value:X.on_time_delivery_rate,className:"w-16 h-2"}),s.jsx("span",{className:"text-sm",children:T(X.on_time_delivery_rate)})]})})]},X.role_id))})]})})})]})}),s.jsx(ct,{value:"efficiency",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:_?s.jsx("div",{className:"text-center py-8",children:"  ..."}):S!=null&&S.efficiency?s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M(S.efficiency.total_production||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:T(S.efficiency.waste_percentage||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:T(S.efficiency.quality_score||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:T(S.efficiency.machine_utilization||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"   "})})]})})]})]})]})]})}function KMe(){const{data:e,isLoading:t}=$e({queryKey:["/api/quality-checks"]}),n=a=>{switch(a){case"pass":return s.jsx(cs,{className:"w-4 h-4 text-green-500"});case"fail":return s.jsx(Zr,{className:"w-4 h-4 text-red-500"});case"warning":return s.jsx(cn,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(cr,{className:"w-4 h-4 text-gray-500"})}},r=a=>{switch(a){case"pass":return"";case"fail":return"";case"warning":return"";default:return" "}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"    "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Jt(Array.isArray(e)?e.length:0)})]}),s.jsx(cs,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Jt(Array.isArray(e)?e.filter(a=>a.result==="pass").length:0)})]}),s.jsx(cs,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Jt(Array.isArray(e)?e.filter(a=>a.result==="fail").length:0)})]}),s.jsx(Zr,{className:"w-8 h-8 text-red-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:qc(Array.isArray(e)&&e.length>0?Math.round(e.filter(a=>a.result==="pass").length/e.length*100):0)})]}),s.jsx(cn,{className:"w-8 h-8 text-blue-500"})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(e)?e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.roll_number}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.check_type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[n(a.result),s.jsx(ge,{variant:a.result==="pass"?"default":a.result==="fail"?"destructive":"secondary",children:r(a.result)})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:a.notes||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.inspector_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.checked_at).toLocaleDateString("ar")})]},a.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"   "})})})]})})})]})]})]})]})}const Ne=Symbol.for("drizzle:entityKind");function Lr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Ne))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Ne in n&&n[Ne]===t[Ne])return!0;n=Object.getPrototypeOf(n)}return!1}var w4;w4=Ne;class Cf{constructor(t,n){ee(this,"name");ee(this,"keyAsName");ee(this,"primary");ee(this,"notNull");ee(this,"default");ee(this,"defaultFn");ee(this,"onUpdateFn");ee(this,"hasDefault");ee(this,"isUnique");ee(this,"uniqueName");ee(this,"uniqueType");ee(this,"dataType");ee(this,"columnType");ee(this,"enumValues");ee(this,"generated");ee(this,"generatedIdentity");ee(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}ee(Cf,w4,"Column");var _4;_4=Ne;class CU{constructor(t,n,r){ee(this,"config");ee(this,"$default",this.$defaultFn);ee(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}ee(CU,_4,"ColumnBuilder");const vd=Symbol.for("drizzle:Name");var N4;N4=Ne;class PU{constructor(t,n){ee(this,"reference");ee(this,"_onUpdate","no action");ee(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:a,foreignColumns:i}=t();return{name:r,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new EU(t,this)}}ee(PU,N4,"PgForeignKeyBuilder");var S4;S4=Ne;class EU{constructor(t,n){ee(this,"reference");ee(this,"onUpdate");ee(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),a=n.map(l=>l.name),i=r.map(l=>l.name),o=[this.table[vd],...a,r[0].table[vd],...i];return t??`${o.join("_")}_fk`}}ee(EU,S4,"PgForeignKey");function HMe(e,...t){return e(...t)}function GMe(e,t){return`${e[vd]}_${t.join("_")}_unique`}function O$(e,t,n){for(let r=t;r<e.length;r++){const a=e[r];if(a==="\\"){r++;continue}if(a==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(a===","||a==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function kU(e,t=0){const n=[];let r=t,a=!1;for(;r<e.length;){const i=e[r];if(i===","){(a||r===t)&&n.push(""),a=!0,r++;continue}if(a=!1,i==="\\"){r+=2;continue}if(i==='"'){const[c,u]=O$(e,r+1,!0);n.push(c),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[c,u]=kU(e,r+1);n.push(c),r=u;continue}const[o,l]=O$(e,r,!1);n.push(o),r=l}return[n,r]}function YMe(e){const[t]=kU(e,1);return t}function AU(e){return`{${e.map(t=>Array.isArray(t)?AU(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var C4,P4;class tn extends(P4=CU,C4=Ne,P4){constructor(){super(...arguments);ee(this,"foreignKeyConfigs",[])}array(n){return new TU(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>HMe((o,l)=>{const c=new PU(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},a,i))}buildExtraConfigColumn(n){return new OU(n,this.config)}}ee(tn,C4,"PgColumnBuilder");var E4,k4;class qt extends(k4=Cf,E4=Ne,k4){constructor(t,n){n.uniqueName||(n.uniqueName=GMe(t,[n.name])),super(t,n),this.table=t}}ee(qt,E4,"PgColumn");var A4,O4;class OU extends(O4=qt,A4=Ne,O4){constructor(){super(...arguments);ee(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});ee(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}ee(OU,A4,"ExtraConfigColumn");var T4,M4;class TU extends(M4=tn,T4=Ne,M4){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new Y1(t,this.config,n)}}ee(TU,T4,"PgArrayBuilder");var $4,D4;const Zv=class Zv extends(D4=qt,$4=Ne,D4){constructor(n,r,a,i){super(n,r);ee(this,"size");this.baseColumn=a,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=YMe(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const a=n.map(i=>i===null?null:Lr(this.baseColumn,Zv)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?a:AU(a)}};ee(Zv,$4,"PgArray");let Y1=Zv;const T$=Symbol.for("drizzle:isPgEnum");function QMe(e){return!!e&&typeof e=="function"&&T$ in e&&e[T$]===!0}var I4;I4=Ne;class sP{constructor(t,n,r,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:a}}}ee(sP,I4,"Subquery");const XMe={startActiveSpan(e,t){return t()}},bd=Symbol.for("drizzle:ViewBaseConfig"),_w=Symbol.for("drizzle:Schema"),M$=Symbol.for("drizzle:Columns"),$$=Symbol.for("drizzle:ExtraConfigColumns"),Nw=Symbol.for("drizzle:OriginalName"),Sw=Symbol.for("drizzle:BaseName"),Vv=Symbol.for("drizzle:IsAlias"),D$=Symbol.for("drizzle:ExtraConfigBuilder"),MU=Symbol.for("drizzle:IsDrizzleTable");var R4,F4,L4,B4,z4,q4,W4,U4,V4,K4,xg;let Ks=(K4=Ne,V4=vd,U4=Nw,W4=_w,q4=M$,z4=$$,B4=Sw,L4=Vv,F4=MU,R4=D$,xg=class{constructor(t,n,r){ee(this,V4);ee(this,U4);ee(this,W4);ee(this,q4);ee(this,z4);ee(this,B4);ee(this,L4,!1);ee(this,F4,!0);ee(this,R4);this[vd]=this[Nw]=t,this[_w]=n,this[Sw]=r}},ee(xg,K4,"Table"),ee(xg,"Symbol",{Name:vd,Schema:_w,OriginalName:Nw,Columns:M$,ExtraConfigColumns:$$,BaseName:Sw,IsAlias:Vv,ExtraConfigBuilder:D$}),xg);function $U(e){return typeof e=="object"&&e!==null&&MU in e}function ZMe(e){return e!=null&&typeof e.getSQL=="function"}function JMe(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var H4;H4=Ne;class ca{constructor(t){ee(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Nr([this])}}ee(ca,H4,"StringChunk");var G4;G4=Ne;const bc=class bc{constructor(t){ee(this,"decoder",DU);ee(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return XMe.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return JMe(t.map(d=>{var f;if(Lr(d,ca))return{sql:d.value.join(""),params:[]};if(Lr(d,Kv))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new ca("(")];for(const[m,v]of d.entries())h.push(v),m<d.length-1&&h.push(new ca(", "));return h.push(new ca(")")),this.buildQueryFromSourceParams(h,r)}if(Lr(d,bc))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:c||d.shouldInlineParams});if(Lr(d,Ks)){const h=d[Ks.Symbol.Schema],m=d[Ks.Symbol.Name];return{sql:h===void 0||d[Vv]?i(m):i(h)+"."+i(m),params:[]}}if(Lr(d,Cf)){const h=a.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[Ks.Symbol.Schema];return{sql:d.table[Vv]||m===void 0?i(d.table[Ks.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[Ks.Symbol.Name])+"."+i(h),params:[]}}if(Lr(d,FU)){const h=d[bd].schema,m=d[bd].name;return{sql:h===void 0||d[bd].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Lr(d,aP)){if(Lr(d.value,Hv))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Lr(h,bc))return this.buildQueryFromSourceParams([h],r);if(c)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return l&&(m=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return Lr(d,Hv)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Lr(d,bc.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Lr(d,sP)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new ca("("),d._.sql,new ca(") "),new Kv(d._.alias)],r):QMe(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:ZMe(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new ca("("),d.getSQL(),new ca(")")],r):c?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new bc.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};ee(bc,G4,"SQL");let Nr=bc;var Y4;Y4=Ne;class Kv{constructor(t){ee(this,"brand");this.value=t}getSQL(){return new Nr([this])}}ee(Kv,Y4,"Name");const DU={mapFromDriverValue:e=>e},IU={mapToDriverValue:e=>e};({...DU,...IU});var Q4;Q4=Ne;class aP{constructor(t,n=IU){ee(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Nr([this])}}ee(aP,Q4,"Param");function yt(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new ca(e[0]));for(const[r,a]of t.entries())n.push(a,new ca(e[r+1]));return new Nr(n)}(e=>{function t(){return new Nr([])}e.empty=t;function n(c){return new Nr(c)}e.fromList=n;function r(c){return new Nr([new ca(c)])}e.raw=r;function a(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Nr(d)}e.join=a;function i(c){return new Kv(c)}e.identifier=i;function o(c){return new Hv(c)}e.placeholder=o;function l(c,u){return new aP(c,u)}e.param=l})(yt||(yt={}));(e=>{var n;n=Ne;const r=class r{constructor(i,o){ee(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};ee(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Nr||(Nr={}));var X4;X4=Ne;class Hv{constructor(t){this.name=t}getSQL(){return new Nr([this])}}ee(Hv,X4,"Placeholder");const RU=Symbol.for("drizzle:IsDrizzleView");var Z4,J4,eD;eD=Ne,J4=bd,Z4=RU;class FU{constructor({name:t,schema:n,selectedFields:r,query:a}){ee(this,J4);ee(this,Z4,!0);this[bd]={name:t,originalName:t,schema:n,selectedFields:r,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Nr([this])}}ee(FU,eD,"View");function e$e(e){return typeof e=="object"&&e!==null&&RU in e}Cf.prototype.getSQL=function(){return new Nr([this])};Ks.prototype.getSQL=function(){return new Nr([this])};sP.prototype.getSQL=function(){return new Nr([this])};function t$e(e){return e[Ks.Symbol.Columns]}function n$e(e){return e[bd].selectedFields}function $r(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var tD,nD;class rx extends(nD=tn,tD=Ne,nD){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}ee(rx,tD,"PgIntColumnBaseBuilder");var rD,sD;class LU extends(sD=rx,rD=Ne,sD){constructor(t){super(t,"number","PgBigInt53")}build(t){return new BU(t,this.config)}}ee(LU,rD,"PgBigInt53Builder");var aD,iD;class BU extends(iD=qt,aD=Ne,iD){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ee(BU,aD,"PgBigInt53");var oD,lD;class zU extends(lD=rx,oD=Ne,lD){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new qU(t,this.config)}}ee(zU,oD,"PgBigInt64Builder");var cD,uD;class qU extends(uD=qt,cD=Ne,uD){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}ee(qU,cD,"PgBigInt64");function r$e(e,t){const{name:n,config:r}=$r(e,t);return r.mode==="number"?new LU(n):new zU(n)}var dD,fD;class WU extends(fD=tn,dD=Ne,fD){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new UU(t,this.config)}}ee(WU,dD,"PgBigSerial53Builder");var hD,mD;class UU extends(mD=qt,hD=Ne,mD){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}ee(UU,hD,"PgBigSerial53");var pD,xD;class VU extends(xD=tn,pD=Ne,xD){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new KU(t,this.config)}}ee(VU,pD,"PgBigSerial64Builder");var gD,yD;class KU extends(yD=qt,gD=Ne,yD){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}ee(KU,gD,"PgBigSerial64");function s$e(e,t){const{name:n,config:r}=$r(e,t);return r.mode==="number"?new WU(n):new VU(n)}var vD,bD;class HU extends(bD=tn,vD=Ne,bD){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new GU(t,this.config)}}ee(HU,vD,"PgBooleanBuilder");var jD,wD;class GU extends(wD=qt,jD=Ne,wD){getSQLType(){return"boolean"}}ee(GU,jD,"PgBoolean");function xr(e){return new HU(e??"")}var _D,ND;class YU extends(ND=tn,_D=Ne,ND){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new QU(t,this.config)}}ee(YU,_D,"PgCharBuilder");var SD,CD;class QU extends(CD=qt,SD=Ne,CD){constructor(){super(...arguments);ee(this,"length",this.config.length);ee(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}ee(QU,SD,"PgChar");function a$e(e,t={}){const{name:n,config:r}=$r(e,t);return new YU(n,r)}var PD,ED;class XU extends(ED=tn,PD=Ne,ED){constructor(t){super(t,"string","PgCidr")}build(t){return new ZU(t,this.config)}}ee(XU,PD,"PgCidrBuilder");var kD,AD;class ZU extends(AD=qt,kD=Ne,AD){getSQLType(){return"cidr"}}ee(ZU,kD,"PgCidr");function i$e(e){return new XU(e??"")}var OD,TD;class JU extends(TD=tn,OD=Ne,TD){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new eV(t,this.config)}}ee(JU,OD,"PgCustomColumnBuilder");var MD,$D;class eV extends($D=qt,MD=Ne,$D){constructor(n,r){super(n,r);ee(this,"sqlName");ee(this,"mapTo");ee(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}ee(eV,MD,"PgCustomColumn");function o$e(e){return(t,n)=>{const{name:r,config:a}=$r(t,n);return new JU(r,a,e)}}var DD,ID;class rh extends(ID=tn,DD=Ne,ID){defaultNow(){return this.default(yt`now()`)}}ee(rh,DD,"PgDateColumnBaseBuilder");var RD,FD;class tV extends(FD=rh,RD=Ne,FD){constructor(t){super(t,"date","PgDate")}build(t){return new nV(t,this.config)}}ee(tV,RD,"PgDateBuilder");var LD,BD;class nV extends(BD=qt,LD=Ne,BD){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}ee(nV,LD,"PgDate");var zD,qD;class rV extends(qD=rh,zD=Ne,qD){constructor(t){super(t,"string","PgDateString")}build(t){return new sV(t,this.config)}}ee(rV,zD,"PgDateStringBuilder");var WD,UD;class sV extends(UD=qt,WD=Ne,UD){getSQLType(){return"date"}}ee(sV,WD,"PgDateString");function es(e,t){const{name:n,config:r}=$r(e,t);return(r==null?void 0:r.mode)==="date"?new tV(n):new rV(n)}var VD,KD;class aV extends(KD=tn,VD=Ne,KD){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new iV(t,this.config)}}ee(aV,VD,"PgDoublePrecisionBuilder");var HD,GD;class iV extends(GD=qt,HD=Ne,GD){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}ee(iV,HD,"PgDoublePrecision");function l$e(e){return new aV(e??"")}var YD,QD;class oV extends(QD=tn,YD=Ne,QD){constructor(t){super(t,"string","PgInet")}build(t){return new lV(t,this.config)}}ee(oV,YD,"PgInetBuilder");var XD,ZD;class lV extends(ZD=qt,XD=Ne,ZD){getSQLType(){return"inet"}}ee(lV,XD,"PgInet");function c$e(e){return new oV(e??"")}var JD,eI;class cV extends(eI=rx,JD=Ne,eI){constructor(t){super(t,"number","PgInteger")}build(t){return new uV(t,this.config)}}ee(cV,JD,"PgIntegerBuilder");var tI,nI;class uV extends(nI=qt,tI=Ne,nI){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}ee(uV,tI,"PgInteger");function me(e){return new cV(e??"")}var rI,sI;class dV extends(sI=tn,rI=Ne,sI){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new fV(t,this.config)}}ee(dV,rI,"PgIntervalBuilder");var aI,iI;class fV extends(iI=qt,aI=Ne,iI){constructor(){super(...arguments);ee(this,"fields",this.config.intervalConfig.fields);ee(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}ee(fV,aI,"PgInterval");function u$e(e,t={}){const{name:n,config:r}=$r(e,t);return new dV(n,r)}var oI,lI;class hV extends(lI=tn,oI=Ne,lI){constructor(t){super(t,"json","PgJson")}build(t){return new mV(t,this.config)}}ee(hV,oI,"PgJsonBuilder");var cI,uI;class mV extends(uI=qt,cI=Ne,uI){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ee(mV,cI,"PgJson");function jr(e){return new hV(e??"")}var dI,fI;class pV extends(fI=tn,dI=Ne,fI){constructor(t){super(t,"json","PgJsonb")}build(t){return new xV(t,this.config)}}ee(pV,dI,"PgJsonbBuilder");var hI,mI;class xV extends(mI=qt,hI=Ne,mI){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}ee(xV,hI,"PgJsonb");function d$e(e){return new pV(e??"")}var pI,xI;class gV extends(xI=tn,pI=Ne,xI){constructor(t){super(t,"array","PgLine")}build(t){return new yV(t,this.config)}}ee(gV,pI,"PgLineBuilder");var gI,yI;class yV extends(yI=qt,gI=Ne,yI){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}ee(yV,gI,"PgLine");var vI,bI;class vV extends(bI=tn,vI=Ne,bI){constructor(t){super(t,"json","PgLineABC")}build(t){return new bV(t,this.config)}}ee(vV,vI,"PgLineABCBuilder");var jI,wI;class bV extends(wI=qt,jI=Ne,wI){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}ee(bV,jI,"PgLineABC");function f$e(e,t){const{name:n,config:r}=$r(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new gV(n):new vV(n)}var _I,NI;class jV extends(NI=tn,_I=Ne,NI){constructor(t){super(t,"string","PgMacaddr")}build(t){return new wV(t,this.config)}}ee(jV,_I,"PgMacaddrBuilder");var SI,CI;class wV extends(CI=qt,SI=Ne,CI){getSQLType(){return"macaddr"}}ee(wV,SI,"PgMacaddr");function h$e(e){return new jV(e??"")}var PI,EI;class _V extends(EI=tn,PI=Ne,EI){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new NV(t,this.config)}}ee(_V,PI,"PgMacaddr8Builder");var kI,AI;class NV extends(AI=qt,kI=Ne,AI){getSQLType(){return"macaddr8"}}ee(NV,kI,"PgMacaddr8");function m$e(e){return new _V(e??"")}var OI,TI;class SV extends(TI=tn,OI=Ne,TI){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new CV(t,this.config)}}ee(SV,OI,"PgNumericBuilder");var MI,$I;class CV extends($I=qt,MI=Ne,$I){constructor(n,r){super(n,r);ee(this,"precision");ee(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ee(CV,MI,"PgNumeric");function PV(e,t){const{name:n,config:r}=$r(e,t);return new SV(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const Gt=PV;var DI,II;class EV extends(II=tn,DI=Ne,II){constructor(t){super(t,"array","PgPointTuple")}build(t){return new kV(t,this.config)}}ee(EV,DI,"PgPointTupleBuilder");var RI,FI;class kV extends(FI=qt,RI=Ne,FI){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}ee(kV,RI,"PgPointTuple");var LI,BI;class AV extends(BI=tn,LI=Ne,BI){constructor(t){super(t,"json","PgPointObject")}build(t){return new OV(t,this.config)}}ee(AV,LI,"PgPointObjectBuilder");var zI,qI;class OV extends(qI=qt,zI=Ne,qI){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}ee(OV,zI,"PgPointObject");function p$e(e,t){const{name:n,config:r}=$r(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new EV(n):new AV(n)}function x$e(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function I$(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let a=0;a<8;a++)r.setUint8(a,e[t+a]);return r.getFloat64(0,!0)}function TV(e){const t=x$e(e);let n=0;const r=t[n];n+=1;const a=new DataView(t.buffer),i=a.getUint32(n,r===1);if(n+=4,i&536870912&&(a.getUint32(n,r===1),n+=4),(i&65535)===1){const o=I$(t,n);n+=8;const l=I$(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var WI,UI;class MV extends(UI=tn,WI=Ne,UI){constructor(t){super(t,"array","PgGeometry")}build(t){return new $V(t,this.config)}}ee(MV,WI,"PgGeometryBuilder");var VI,KI;class $V extends(KI=qt,VI=Ne,KI){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return TV(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}ee($V,VI,"PgGeometry");var HI,GI;class DV extends(GI=tn,HI=Ne,GI){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new IV(t,this.config)}}ee(DV,HI,"PgGeometryObjectBuilder");var YI,QI;class IV extends(QI=qt,YI=Ne,QI){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=TV(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}ee(IV,YI,"PgGeometryObject");function g$e(e,t){const{name:n,config:r}=$r(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new MV(n):new DV(n)}var XI,ZI;class RV extends(ZI=tn,XI=Ne,ZI){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new FV(t,this.config)}}ee(RV,XI,"PgRealBuilder");var JI,eR;class FV extends(eR=qt,JI=Ne,eR){constructor(n,r){super(n,r);ee(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}ee(FV,JI,"PgReal");function y$e(e){return new RV(e??"")}var tR,nR;class LV extends(nR=tn,tR=Ne,nR){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new BV(t,this.config)}}ee(LV,tR,"PgSerialBuilder");var rR,sR;class BV extends(sR=qt,rR=Ne,sR){getSQLType(){return"serial"}}ee(BV,rR,"PgSerial");function _t(e){return new LV(e??"")}var aR,iR;class zV extends(iR=rx,aR=Ne,iR){constructor(t){super(t,"number","PgSmallInt")}build(t){return new qV(t,this.config)}}ee(zV,aR,"PgSmallIntBuilder");var oR,lR;class qV extends(lR=qt,oR=Ne,lR){constructor(){super(...arguments);ee(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}ee(qV,oR,"PgSmallInt");function v$e(e){return new zV(e??"")}var cR,uR;class WV extends(uR=tn,cR=Ne,uR){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new UV(t,this.config)}}ee(WV,cR,"PgSmallSerialBuilder");var dR,fR;class UV extends(fR=qt,dR=Ne,fR){getSQLType(){return"smallserial"}}ee(UV,dR,"PgSmallSerial");function b$e(e){return new WV(e??"")}var hR,mR;class VV extends(mR=tn,hR=Ne,mR){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new KV(t,this.config)}}ee(VV,hR,"PgTextBuilder");var pR,xR;class KV extends(xR=qt,pR=Ne,xR){constructor(){super(...arguments);ee(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}ee(KV,pR,"PgText");function Ue(e,t={}){const{name:n,config:r}=$r(e,t);return new VV(n,r)}var gR,yR;class HV extends(yR=rh,gR=Ne,yR){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new GV(t,this.config)}}ee(HV,gR,"PgTimeBuilder");var vR,bR;class GV extends(bR=qt,vR=Ne,bR){constructor(n,r){super(n,r);ee(this,"withTimezone");ee(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ee(GV,vR,"PgTime");function j$e(e,t={}){const{name:n,config:r}=$r(e,t);return new HV(n,r.withTimezone??!1,r.precision)}var jR,wR;class YV extends(wR=rh,jR=Ne,wR){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new QV(t,this.config)}}ee(YV,jR,"PgTimestampBuilder");var _R,NR;class QV extends(NR=qt,_R=Ne,NR){constructor(n,r){super(n,r);ee(this,"withTimezone");ee(this,"precision");ee(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));ee(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}ee(QV,_R,"PgTimestamp");var SR,CR;class XV extends(CR=rh,SR=Ne,CR){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new ZV(t,this.config)}}ee(XV,SR,"PgTimestampStringBuilder");var PR,ER;class ZV extends(ER=qt,PR=Ne,ER){constructor(n,r){super(n,r);ee(this,"withTimezone");ee(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ee(ZV,PR,"PgTimestampString");function Fe(e,t={}){const{name:n,config:r}=$r(e,t);return(r==null?void 0:r.mode)==="string"?new XV(n,r.withTimezone??!1,r.precision):new YV(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var kR,AR;class JV extends(AR=tn,kR=Ne,AR){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(yt`gen_random_uuid()`)}build(t){return new e7(t,this.config)}}ee(JV,kR,"PgUUIDBuilder");var OR,TR;class e7 extends(TR=qt,OR=Ne,TR){getSQLType(){return"uuid"}}ee(e7,OR,"PgUUID");function w$e(e){return new JV(e??"")}var MR,$R;class t7 extends($R=tn,MR=Ne,$R){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new n7(t,this.config)}}ee(t7,MR,"PgVarcharBuilder");var DR,IR;class n7 extends(IR=qt,DR=Ne,IR){constructor(){super(...arguments);ee(this,"length",this.config.length);ee(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}ee(n7,DR,"PgVarchar");function U(e,t={}){const{name:n,config:r}=$r(e,t);return new t7(n,r)}var RR,FR;class r7 extends(FR=tn,RR=Ne,FR){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new s7(t,this.config)}}ee(r7,RR,"PgBinaryVectorBuilder");var LR,BR;class s7 extends(BR=qt,LR=Ne,BR){constructor(){super(...arguments);ee(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}ee(s7,LR,"PgBinaryVector");function _$e(e,t){const{name:n,config:r}=$r(e,t);return new r7(n,r)}var zR,qR;class a7 extends(qR=tn,zR=Ne,qR){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new i7(t,this.config)}}ee(a7,zR,"PgHalfVectorBuilder");var WR,UR;class i7 extends(UR=qt,WR=Ne,UR){constructor(){super(...arguments);ee(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}ee(i7,WR,"PgHalfVector");function N$e(e,t){const{name:n,config:r}=$r(e,t);return new a7(n,r)}var VR,KR;class o7 extends(KR=tn,VR=Ne,KR){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new l7(t,this.config)}}ee(o7,VR,"PgSparseVectorBuilder");var HR,GR;class l7 extends(GR=qt,HR=Ne,GR){constructor(){super(...arguments);ee(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}ee(l7,HR,"PgSparseVector");function S$e(e,t){const{name:n,config:r}=$r(e,t);return new o7(n,r)}var YR,QR;class c7 extends(QR=tn,YR=Ne,QR){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new u7(t,this.config)}}ee(c7,YR,"PgVectorBuilder");var XR,ZR;class u7 extends(ZR=qt,XR=Ne,ZR){constructor(){super(...arguments);ee(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}ee(u7,XR,"PgVector");function C$e(e,t){const{name:n,config:r}=$r(e,t);return new c7(n,r)}function P$e(){return{bigint:r$e,bigserial:s$e,boolean:xr,char:a$e,cidr:i$e,customType:o$e,date:es,doublePrecision:l$e,inet:c$e,integer:me,interval:u$e,json:jr,jsonb:d$e,line:f$e,macaddr:h$e,macaddr8:m$e,numeric:PV,point:p$e,geometry:g$e,real:y$e,serial:_t,smallint:v$e,smallserial:b$e,text:Ue,time:j$e,timestamp:Fe,uuid:w$e,varchar:U,bit:_$e,halfvec:N$e,sparsevec:S$e,vector:C$e}}const Q1=Symbol.for("drizzle:PgInlineForeignKeys"),R$=Symbol.for("drizzle:EnableRLS");var JR,e5,t5,n5,r5;class om extends(r5=Ks,n5=Ne,t5=Q1,e5=R$,JR=Ks.Symbol.ExtraConfigBuilder,r5){constructor(){super(...arguments);ee(this,t5,[]);ee(this,e5,!1);ee(this,JR)}}ee(om,n5,"PgTable"),ee(om,"Symbol",Object.assign({},Ks.Symbol,{InlineForeignKeys:Q1,EnableRLS:R$}));function E$e(e,t,n,r,a=e){const i=new om(e,r,a),o=typeof t=="function"?t(P$e()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Q1].push(...h.buildForeignKeys(m,i)),[d,m]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,l);return u[Ks.Symbol.Columns]=l,u[Ks.Symbol.ExtraConfigColumns]=c,n&&(u[om.Symbol.ExtraConfigBuilder]=n),Object.assign(u,{enableRLS:()=>(u[om.Symbol.EnableRLS]=!0,u)})}const pt=(e,t,n)=>E$e(e,t,n,void 0);var s5;s5=Ne;class d7{constructor(t,n){ee(this,"brand");this.name=t,this.value=n}build(t){return new f7(t,this)}}ee(d7,s5,"PgCheckBuilder");var a5;a5=Ne;class f7{constructor(t,n){ee(this,"name");ee(this,"value");this.table=t,this.name=n.name,this.value=n.value}}ee(f7,a5,"PgCheck");function Tt(e,t){return new d7(e,t)}const Kn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function ir(e,t){return t.includes(e.columnType)}function k$e(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const A$e=ie.union([ie.string(),ie.number(),ie.boolean(),ie.null()]),O$e=ie.union([A$e,ie.record(ie.any()),ie.array(ie.any())]),T$e=ie.custom(e=>e instanceof Buffer);function h7(e,t){const n=(t==null?void 0:t.zodInstance)??ie,r=(t==null?void 0:t.coerce)??{};let a;return k$e(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||(ir(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):ir(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):ir(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):ir(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):ir(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):ir(e,["PgArray"])?(a=n.array(h7(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=M$e(e,n,r):e.dataType==="bigint"?a=$$e(e,n,r):e.dataType==="boolean"?a=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?a=D$e(e,n,r):e.dataType==="json"?a=O$e:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=T$e)),a||(a=n.any()),a}function M$e(e,t,n){let r=e.getSQLType().includes("unsigned"),a,i,o=!1;ir(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=r?0:Kn.INT8_MIN,i=r?Kn.INT8_UNSIGNED_MAX:Kn.INT8_MAX,o=!0):ir(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=r?0:Kn.INT16_MIN,i=r?Kn.INT16_UNSIGNED_MAX:Kn.INT16_MAX,o=!0):ir(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=r?0:Kn.INT24_MIN,i=r?Kn.INT24_UNSIGNED_MAX:Kn.INT24_MAX,o=ir(e,["MySqlMediumInt","SingleStoreMediumInt"])):ir(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=r?0:Kn.INT32_MIN,i=r?Kn.INT32_UNSIGNED_MAX:Kn.INT32_MAX,o=!0):ir(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=r?0:Kn.INT48_MIN,i=r?Kn.INT48_UNSIGNED_MAX:Kn.INT48_MAX):ir(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||ir(e,["MySqlSerial","SingleStoreSerial"]),a=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):ir(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function $$e(e,t,n){const r=e.getSQLType().includes("unsigned"),a=r?0n:Kn.INT64_MIN,i=r?Kn.INT64_UNSIGNED_MAX:Kn.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function D$e(e,t,n){if(ir(e,["PgUUID"]))return t.string().uuid();let r,a,i=!1;ir(e,["PgVarchar","SQLiteText"])?r=e.length:ir(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??Kn.INT16_UNSIGNED_MAX:ir(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=Kn.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=Kn.INT24_UNSIGNED_MAX:e.textType==="text"?r=Kn.INT16_UNSIGNED_MAX:r=Kn.INT8_UNSIGNED_MAX),ir(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,i=!0),ir(e,["PgBinaryVector"])&&(a=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=a?o.regex(a):o,r&&i?o.length(r):r?o.max(r):o}function m7(e){return $U(e)?t$e(e):n$e(e)}function p7(e,t,n,r){const a={};for(const[i,o]of Object.entries(e)){if(!Lr(o,Cf)&&!Lr(o,Nr)&&!Lr(o,Nr.Aliased)&&typeof o=="object"){const f=$U(o)||e$e(o)?m7(o):o;a[i]=p7(f,t[i]??{},n,r);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Lr(o,Cf)?o:void 0,u=c?h7(c,r):ie.any(),d=typeof l=="function"?l(u):u;n.never(c)||(a[i]=d,c&&(n.nullable(c)&&(a[i]=a[i].nullable()),n.optional(c)&&(a[i]=a[i].optional())))}return ie.object(a)}const I$e={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Mt=(e,t)=>{const n=m7(e);return p7(n,{},I$e)},Gv=(e,t="Value",n={})=>{if(e==null)throw new Error(`${t} cannot be null or undefined`);if(e===""||typeof e=="string"&&e.trim()==="")throw new Error(`${t} cannot be empty`);const r=String(e).trim(),a=parseInt(r,10);if(isNaN(a))throw new Error(`${t} must be a valid integer (received: ${e})`);if(String(a)!==r&&!r.includes("."))throw new Error(`${t} contains non-numeric characters (received: ${e})`);if(n.min!==void 0&&a<n.min)throw new Error(`${t} must be at least ${n.min} (received: ${a})`);if(n.max!==void 0&&a>n.max)throw new Error(`${t} must be at most ${n.max} (received: ${a})`);if(!n.allowZero&&a===0)throw new Error(`${t} must be greater than 0 (received: ${a})`);return a},Lg=(e,t="Value",n={})=>{if(e==null)throw new Error(`${t} cannot be null or undefined`);if(e===""||typeof e=="string"&&e.trim()==="")throw new Error(`${t} cannot be empty`);const r=String(e).trim(),a=parseFloat(r);if(isNaN(a))throw new Error(`${t} must be a valid number (received: ${e})`);if(n.min!==void 0&&a<n.min)throw new Error(`${t} must be at least ${n.min} (received: ${a})`);if(n.max!==void 0&&a>n.max)throw new Error(`${t} must be at most ${n.max} (received: ${a})`);if(!n.allowZero&&a===0)throw new Error(`${t} must be greater than 0 (received: ${a})`);return a},R$e=pt("roles",{id:_t("id").primaryKey(),name:U("name",{length:50}).notNull(),name_ar:U("name_ar",{length:100}),permissions:jr("permissions").$type()}),x7=pt("sections",{id:U("id",{length:20}).primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),description:Ue("description")}),vt=pt("users",{id:_t("id").primaryKey(),username:U("username",{length:50}).notNull().unique(),password:U("password",{length:100}).notNull(),display_name:U("display_name",{length:100}),display_name_ar:U("display_name_ar",{length:100}),full_name:U("full_name",{length:200}),phone:U("phone",{length:20}),email:U("email",{length:100}),role_id:me("role_id").references(()=>R$e.id),section_id:me("section_id"),status:U("status",{length:20}).default("active"),created_at:Fe("created_at").defaultNow()});pt("user_requests",{id:_t("id").primaryKey(),user_id:me("user_id").notNull().references(()=>vt.id),type:U("type",{length:50}).notNull(),title:U("title",{length:200}).notNull(),description:Ue("description"),status:U("status",{length:20}).notNull().default(""),priority:U("priority",{length:20}).default(""),response:Ue("response"),reviewed_by:me("reviewed_by").references(()=>vt.id),date:Fe("date").defaultNow(),reviewed_date:Fe("reviewed_date"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()});const F$e=pt("attendance",{id:_t("id").primaryKey(),user_id:me("user_id").notNull().references(()=>vt.id),status:U("status",{length:20}).notNull().default(""),check_in_time:Fe("check_in_time"),check_out_time:Fe("check_out_time"),lunch_start_time:Fe("lunch_start_time"),lunch_end_time:Fe("lunch_end_time"),notes:Ue("notes"),created_by:me("created_by").references(()=>vt.id),updated_by:me("updated_by").references(()=>vt.id),date:es("date").notNull().default(yt`CURRENT_DATE`),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),iP=pt("customers",{id:U("id",{length:20}).primaryKey(),name:U("name",{length:200}).notNull(),name_ar:U("name_ar",{length:200}),code:U("code",{length:20}),user_id:U("user_id",{length:10}),plate_drawer_code:U("plate_drawer_code",{length:20}),city:U("city",{length:50}),address:Ue("address"),tax_number:U("tax_number",{length:20}),phone:U("phone",{length:20}),sales_rep_id:me("sales_rep_id").references(()=>vt.id),created_at:Fe("created_at").defaultNow()}),g7=pt("categories",{id:U("id",{length:20}).primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),code:U("code",{length:20}),parent_id:U("parent_id",{length:20})}),y7=pt("customer_products",{id:_t("id").primaryKey(),customer_id:U("customer_id",{length:20}).references(()=>iP.id),category_id:U("category_id",{length:20}).references(()=>g7.id),item_id:U("item_id",{length:20}).references(()=>Wb.id),size_caption:U("size_caption",{length:50}),width:Gt("width",{precision:8,scale:2}),left_facing:Gt("left_facing",{precision:8,scale:2}),right_facing:Gt("right_facing",{precision:8,scale:2}),thickness:Gt("thickness",{precision:6,scale:3}),printing_cylinder:U("printing_cylinder",{length:10}),cutting_length_cm:me("cutting_length_cm"),raw_material:U("raw_material",{length:20}),master_batch_id:U("master_batch_id",{length:20}),is_printed:xr("is_printed").default(!1),cutting_unit:U("cutting_unit",{length:20}),punching:U("punching",{length:20}),unit_weight_kg:Gt("unit_weight_kg",{precision:8,scale:3}),unit_quantity:me("unit_quantity"),package_weight_kg:Gt("package_weight_kg",{precision:8,scale:2}),cliche_front_design:Ue("cliche_front_design"),cliche_back_design:Ue("cliche_back_design"),notes:Ue("notes"),status:U("status",{length:20}).default("active"),created_at:Fe("created_at").defaultNow()}),oP=pt("machines",{id:U("id",{length:20}).primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),type:U("type",{length:50}).notNull(),section_id:U("section_id",{length:20}).references(()=>x7.id,{onDelete:"restrict"}),status:U("status",{length:20}).notNull().default("active")},e=>({machineIdFormat:Tt("machine_id_format",yt`${e.id} ~ '^M[0-9]{3}$'`),typeValid:Tt("type_valid",yt`${e.type} IN ('extruder', 'printer', 'cutter', 'quality_check')`),statusValid:Tt("status_valid",yt`${e.status} IN ('active', 'maintenance', 'down')`),nameNotEmpty:Tt("name_not_empty",yt`LENGTH(TRIM(${e.name})) > 0`)})),v7=pt("orders",{id:_t("id").primaryKey(),order_number:U("order_number",{length:50}).notNull().unique(),customer_id:U("customer_id",{length:20}).notNull().references(()=>iP.id,{onDelete:"restrict"}),delivery_days:me("delivery_days"),status:U("status",{length:30}).notNull().default("waiting"),notes:Ue("notes"),created_by:me("created_by").references(()=>vt.id,{onDelete:"set null"}),created_at:Fe("created_at").notNull().defaultNow(),delivery_date:es("delivery_date")},e=>({deliveryDaysPositive:Tt("delivery_days_positive",yt`${e.delivery_days} IS NULL OR ${e.delivery_days} > 0`),statusValid:Tt("status_valid",yt`${e.status} IN ('waiting', 'in_production', 'paused', 'cancelled', 'completed')`),deliveryDateValid:Tt("delivery_date_valid",yt`${e.delivery_date} IS NULL OR ${e.delivery_date} >= CURRENT_DATE`)})),qb=pt("production_orders",{id:_t("id").primaryKey(),production_order_number:U("production_order_number",{length:50}).notNull().unique(),order_id:me("order_id").notNull().references(()=>v7.id,{onDelete:"cascade"}),customer_product_id:me("customer_product_id").notNull().references(()=>y7.id,{onDelete:"restrict"}),quantity_kg:Gt("quantity_kg",{precision:10,scale:2}).notNull(),overrun_percentage:Gt("overrun_percentage",{precision:5,scale:2}).notNull().default("5.00"),final_quantity_kg:Gt("final_quantity_kg",{precision:10,scale:2}).notNull(),produced_quantity_kg:Gt("produced_quantity_kg",{precision:10,scale:2}).notNull().default("0"),printed_quantity_kg:Gt("printed_quantity_kg",{precision:10,scale:2}).notNull().default("0"),net_quantity_kg:Gt("net_quantity_kg",{precision:10,scale:2}).notNull().default("0"),waste_quantity_kg:Gt("waste_quantity_kg",{precision:10,scale:2}).notNull().default("0"),film_completion_percentage:Gt("film_completion_percentage",{precision:5,scale:2}).notNull().default("0"),printing_completion_percentage:Gt("printing_completion_percentage",{precision:5,scale:2}).notNull().default("0"),cutting_completion_percentage:Gt("cutting_completion_percentage",{precision:5,scale:2}).notNull().default("0"),status:U("status",{length:30}).notNull().default("pending"),created_at:Fe("created_at").notNull().defaultNow()},e=>({quantityPositive:Tt("quantity_kg_positive",yt`${e.quantity_kg} > 0`),overrunPercentageValid:Tt("overrun_percentage_valid",yt`${e.overrun_percentage} >= 0 AND ${e.overrun_percentage} <= 50`),finalQuantityPositive:Tt("final_quantity_kg_positive",yt`${e.final_quantity_kg} > 0`),statusValid:Tt("production_status_valid",yt`${e.status} IN ('pending', 'active', 'completed', 'cancelled')`),producedQuantityNonNegative:Tt("produced_quantity_non_negative",yt`${e.produced_quantity_kg} >= 0`),printedQuantityNonNegative:Tt("printed_quantity_non_negative",yt`${e.printed_quantity_kg} >= 0`),netQuantityNonNegative:Tt("net_quantity_non_negative",yt`${e.net_quantity_kg} >= 0`),wasteQuantityNonNegative:Tt("waste_quantity_non_negative",yt`${e.waste_quantity_kg} >= 0`),filmCompletionValid:Tt("film_completion_valid",yt`${e.film_completion_percentage} >= 0 AND ${e.film_completion_percentage} <= 100`),printingCompletionValid:Tt("printing_completion_valid",yt`${e.printing_completion_percentage} >= 0 AND ${e.printing_completion_percentage} <= 100`),cuttingCompletionValid:Tt("cutting_completion_valid",yt`${e.cutting_completion_percentage} >= 0 AND ${e.cutting_completion_percentage} <= 100`)})),lP=pt("rolls",{id:_t("id").primaryKey(),roll_seq:me("roll_seq").notNull(),roll_number:U("roll_number",{length:64}).notNull().unique(),production_order_id:me("production_order_id").notNull().references(()=>qb.id,{onDelete:"cascade"}),qr_code_text:Ue("qr_code_text").notNull(),qr_png_base64:Ue("qr_png_base64"),stage:U("stage",{length:20}).notNull().default("film"),weight_kg:Gt("weight_kg",{precision:12,scale:3}).notNull(),cut_weight_total_kg:Gt("cut_weight_total_kg",{precision:12,scale:3}).notNull().default("0"),waste_kg:Gt("waste_kg",{precision:12,scale:3}).notNull().default("0"),printed_at:Fe("printed_at"),cut_completed_at:Fe("cut_completed_at"),performed_by:me("performed_by").references(()=>vt.id,{onDelete:"set null"}),machine_id:U("machine_id",{length:20}).notNull().references(()=>oP.id,{onDelete:"restrict"}),employee_id:me("employee_id").references(()=>vt.id,{onDelete:"set null"}),created_by:me("created_by").notNull().references(()=>vt.id,{onDelete:"restrict"}),printed_by:me("printed_by").references(()=>vt.id,{onDelete:"set null"}),cut_by:me("cut_by").references(()=>vt.id,{onDelete:"set null"}),qr_code:U("qr_code",{length:255}),created_at:Fe("created_at").notNull().defaultNow(),completed_at:Fe("completed_at")},e=>({rollSeqPositive:Tt("roll_seq_positive",yt`${e.roll_seq} > 0`),weightPositive:Tt("weight_kg_positive",yt`${e.weight_kg} > 0`),weightReasonable:Tt("weight_kg_reasonable",yt`${e.weight_kg} <= 2000`),cutWeightValid:Tt("cut_weight_valid",yt`${e.cut_weight_total_kg} >= 0 AND ${e.cut_weight_total_kg} <= ${e.weight_kg}`),wasteValid:Tt("waste_valid",yt`${e.waste_kg} >= 0 AND ${e.waste_kg} <= ${e.weight_kg}`),stageValid:Tt("stage_valid",yt`${e.stage} IN ('film', 'printing', 'cutting', 'done')`),printedAtValid:Tt("printed_at_valid",yt`${e.printed_at} IS NULL OR ${e.printed_at} >= ${e.created_at}`),cutCompletedAtValid:Tt("cut_completed_at_valid",yt`${e.cut_completed_at} IS NULL OR (${e.cut_completed_at} >= ${e.created_at} AND (${e.printed_at} IS NULL OR ${e.cut_completed_at} >= ${e.printed_at}))`),completedAtValid:Tt("completed_at_valid",yt`${e.completed_at} IS NULL OR ${e.completed_at} >= ${e.created_at}`),machineActiveForCreation:Tt("machine_active_for_creation",yt`TRUE`)})),b7=pt("cuts",{id:_t("id").primaryKey(),roll_id:me("roll_id").notNull().references(()=>lP.id,{onDelete:"cascade"}),cut_weight_kg:Gt("cut_weight_kg",{precision:12,scale:3}).notNull(),pieces_count:me("pieces_count"),performed_by:me("performed_by").references(()=>vt.id),created_at:Fe("created_at").defaultNow()}),L$e=pt("warehouse_receipts",{id:_t("id").primaryKey(),production_order_id:me("production_order_id").notNull().references(()=>qb.id,{onDelete:"cascade"}),cut_id:me("cut_id").references(()=>b7.id,{onDelete:"set null"}),received_weight_kg:Gt("received_weight_kg",{precision:12,scale:3}).notNull(),received_by:me("received_by").references(()=>vt.id),created_at:Fe("created_at").defaultNow()}),B$e=pt("production_settings",{id:_t("id").primaryKey(),overrun_tolerance_percent:Gt("overrun_tolerance_percent",{precision:5,scale:2}).notNull().default("3"),allow_last_roll_overrun:xr("allow_last_roll_overrun").notNull().default(!0),qr_prefix:U("qr_prefix",{length:32}).notNull().default("ROLL")});pt("waste",{id:_t("id").primaryKey(),roll_id:me("roll_id").references(()=>lP.id,{onDelete:"cascade"}),production_order_id:me("production_order_id").references(()=>qb.id,{onDelete:"cascade"}),quantity_wasted:Gt("quantity_wasted",{precision:8,scale:2}).notNull(),reason:U("reason",{length:100}),stage:U("stage",{length:50}),created_at:Fe("created_at").defaultNow()});pt("quality_checks",{id:_t("id").primaryKey(),target_type:U("target_type",{length:20}),target_id:me("target_id"),result:U("result",{length:10}),score:me("score"),notes:Ue("notes"),checked_by:me("checked_by").references(()=>vt.id),created_at:Fe("created_at").defaultNow()});const j7=pt("maintenance_requests",{id:_t("id").primaryKey(),request_number:U("request_number",{length:50}).notNull().unique(),machine_id:U("machine_id",{length:20}).references(()=>oP.id),reported_by:me("reported_by").references(()=>vt.id),issue_type:U("issue_type",{length:50}),description:Ue("description"),urgency_level:U("urgency_level",{length:20}).default("normal"),status:U("status",{length:20}).default("open"),assigned_to:me("assigned_to").references(()=>vt.id),action_taken:Ue("action_taken"),date_reported:Fe("date_reported").defaultNow(),date_resolved:Fe("date_resolved")}),cP=pt("maintenance_actions",{id:_t("id").primaryKey(),action_number:U("action_number",{length:50}).notNull().unique(),maintenance_request_id:me("maintenance_request_id").notNull().references(()=>j7.id,{onDelete:"cascade"}),action_type:U("action_type",{length:50}).notNull(),description:Ue("description"),text_report:Ue("text_report"),spare_parts_request:Ue("spare_parts_request"),machining_request:Ue("machining_request"),operator_negligence_report:Ue("operator_negligence_report"),performed_by:me("performed_by").notNull().references(()=>vt.id),request_created_by:me("request_created_by").references(()=>vt.id),requires_management_action:xr("requires_management_action").default(!1),management_notified:xr("management_notified").default(!1),action_date:Fe("action_date").defaultNow(),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()});pt("spare_parts",{id:_t("id").primaryKey(),part_id:U("part_id",{length:50}).notNull().unique(),machine_name:U("machine_name",{length:100}).notNull(),part_name:U("part_name",{length:100}).notNull(),code:U("code",{length:50}).notNull(),serial_number:U("serial_number",{length:100}).notNull(),specifications:Ue("specifications"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()});const w7=pt("consumable_parts",{id:_t("id").primaryKey(),part_id:U("part_id",{length:50}).notNull().unique(),type:U("type",{length:100}).notNull(),code:U("code",{length:50}).notNull(),current_quantity:me("current_quantity").notNull().default(0),min_quantity:me("min_quantity").default(0),max_quantity:me("max_quantity").default(0),unit:U("unit",{length:20}).default(""),barcode:U("barcode",{length:100}),location:U("location",{length:100}),notes:Ue("notes"),status:U("status",{length:20}).default("active"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()},e=>({currentQuantityNonNegative:Tt("current_quantity_non_negative",yt`${e.current_quantity} >= 0`),minQuantityNonNegative:Tt("min_quantity_non_negative",yt`${e.min_quantity} >= 0`),maxQuantityNonNegative:Tt("max_quantity_non_negative",yt`${e.max_quantity} >= 0`),statusValid:Tt("consumable_status_valid",yt`${e.status} IN ('active', 'inactive')`)})),z$e=pt("consumable_parts_transactions",{id:_t("id").primaryKey(),transaction_id:U("transaction_id",{length:50}).notNull().unique(),consumable_part_id:me("consumable_part_id").notNull().references(()=>w7.id,{onDelete:"restrict"}),transaction_type:U("transaction_type",{length:10}).notNull(),quantity:me("quantity").notNull(),barcode_scanned:U("barcode_scanned",{length:100}),manual_entry:xr("manual_entry").default(!1),transaction_reason:U("transaction_reason",{length:100}),notes:Ue("notes"),performed_by:me("performed_by").notNull().references(()=>vt.id,{onDelete:"restrict"}),created_at:Fe("created_at").defaultNow()},e=>({quantityPositive:Tt("quantity_positive",yt`${e.quantity} > 0`),transactionTypeValid:Tt("transaction_type_valid",yt`${e.transaction_type} IN ('in', 'out')`)})),q$e=pt("maintenance_reports",{id:_t("id").primaryKey(),report_number:U("report_number",{length:50}).notNull().unique(),maintenance_action_id:me("maintenance_action_id").notNull().references(()=>cP.id),report_type:U("report_type",{length:30}).notNull(),title:U("title",{length:200}).notNull(),description:Ue("description").notNull(),priority:U("priority",{length:20}).default("normal"),status:U("status",{length:20}).default("pending"),reviewed_by:me("reviewed_by").references(()=>vt.id),review_notes:Ue("review_notes"),review_date:Fe("review_date"),created_by:me("created_by").notNull().references(()=>vt.id),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),W$e=pt("operator_negligence_reports",{id:_t("id").primaryKey(),report_number:U("report_number",{length:50}).notNull().unique(),maintenance_action_id:me("maintenance_action_id").references(()=>cP.id),operator_id:me("operator_id").notNull().references(()=>vt.id),machine_id:U("machine_id",{length:20}).references(()=>oP.id),negligence_type:U("negligence_type",{length:50}).notNull(),description:Ue("description").notNull(),evidence:Ue("evidence"),damage_cost:Gt("damage_cost",{precision:10,scale:2}),downtime_hours:me("downtime_hours"),status:U("status",{length:20}).default("reported"),action_taken:Ue("action_taken"),disciplinary_action:U("disciplinary_action",{length:50}),reported_by:me("reported_by").notNull().references(()=>vt.id),investigated_by:me("investigated_by").references(()=>vt.id),report_date:Fe("report_date").defaultNow(),investigation_date:Fe("investigation_date"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()});pt("violations",{id:_t("id").primaryKey(),employee_id:me("employee_id").references(()=>vt.id),violation_type:U("violation_type",{length:50}),description:Ue("description"),date:es("date").notNull(),action_taken:Ue("action_taken"),reported_by:me("reported_by").references(()=>vt.id)});const Wb=pt("items",{id:U("id",{length:20}).primaryKey(),category_id:U("category_id",{length:20}),name:U("name",{length:100}),name_ar:U("name_ar",{length:100}),code:U("code",{length:50}),status:U("status",{length:20}).default("active")}),_7=pt("locations",{id:U("id",{length:20}).primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),coordinates:U("coordinates",{length:100}),tolerance_range:me("tolerance_range")}),U$e=pt("suppliers",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),contact:U("contact",{length:100}),phone:U("phone",{length:20}),address:Ue("address"),materials_supplied:jr("materials_supplied").$type()}),N7=pt("inventory",{id:_t("id").primaryKey(),item_id:U("item_id",{length:20}).notNull().references(()=>Wb.id,{onDelete:"restrict"}),location_id:U("location_id",{length:20}).references(()=>_7.id,{onDelete:"restrict"}),current_stock:Gt("current_stock",{precision:10,scale:2}).notNull().default("0"),min_stock:Gt("min_stock",{precision:10,scale:2}).notNull().default("0"),max_stock:Gt("max_stock",{precision:10,scale:2}).notNull().default("0"),unit:U("unit",{length:20}).notNull().default(""),cost_per_unit:Gt("cost_per_unit",{precision:10,scale:4}),last_updated:Fe("last_updated").notNull().defaultNow()},e=>({currentStockNonNegative:Tt("current_stock_non_negative",yt`${e.current_stock} >= 0`),minStockNonNegative:Tt("min_stock_non_negative",yt`${e.min_stock} >= 0`),maxStockNonNegative:Tt("max_stock_non_negative",yt`${e.max_stock} >= 0`),stockThresholdLogical:Tt("stock_threshold_logical",yt`${e.max_stock} >= ${e.min_stock}`),costPerUnitValid:Tt("cost_per_unit_valid",yt`${e.cost_per_unit} IS NULL OR ${e.cost_per_unit} >= 0`),unitValid:Tt("unit_valid",yt`${e.unit} IN ('', '', '', '', 'kg', 'piece', 'roll', 'package')`),itemLocationUnique:Tt("item_location_unique",yt`TRUE`)})),V$e=pt("inventory_movements",{id:_t("id").primaryKey(),inventory_id:me("inventory_id").notNull().references(()=>N7.id,{onDelete:"restrict"}),movement_type:U("movement_type",{length:20}).notNull(),quantity:Gt("quantity",{precision:10,scale:2}).notNull(),unit_cost:Gt("unit_cost",{precision:10,scale:4}),total_cost:Gt("total_cost",{precision:10,scale:4}),reference_number:U("reference_number",{length:50}),reference_type:U("reference_type",{length:20}),notes:Ue("notes"),created_by:me("created_by").notNull().references(()=>vt.id,{onDelete:"restrict"}),created_at:Fe("created_at").notNull().defaultNow()},e=>({quantityPositive:Tt("quantity_positive",yt`${e.quantity} > 0`),unitCostValid:Tt("unit_cost_valid",yt`${e.unit_cost} IS NULL OR ${e.unit_cost} >= 0`),totalCostValid:Tt("total_cost_valid",yt`${e.total_cost} IS NULL OR ${e.total_cost} >= 0`),movementTypeValid:Tt("movement_type_valid",yt`${e.movement_type} IN ('in', 'out', 'transfer', 'adjustment')`),referenceTypeValid:Tt("reference_type_valid",yt`${e.reference_type} IS NULL OR ${e.reference_type} IN ('purchase', 'sale', 'production', 'adjustment', 'transfer')`),totalCostLogical:Tt("total_cost_logical",yt`${e.total_cost} IS NULL OR ${e.unit_cost} IS NULL OR ${e.total_cost} = ${e.unit_cost} * ${e.quantity}`)})),K$e=pt("warehouse_transactions",{id:_t("id").primaryKey(),type:U("type",{length:30}),item_id:U("item_id",{length:20}).references(()=>Wb.id),quantity:Gt("quantity",{precision:10,scale:2}).notNull(),from_location:U("from_location",{length:100}),to_location:U("to_location",{length:100}),date:Fe("date").defaultNow(),reference_id:me("reference_id"),notes:Ue("notes")}),H$e=pt("mixing_recipes",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),machine_type:U("machine_type",{length:20}),formula_layers:me("formula_layers"),material_items:jr("material_items").$type(),created_at:Fe("created_at").defaultNow()}),G$e=pt("training_records",{id:_t("id").primaryKey(),employee_id:me("employee_id").references(()=>vt.id),training_type:U("training_type",{length:100}),training_name:U("training_name",{length:200}),date:es("date").notNull(),status:U("status",{length:20}).default("completed"),instructor:U("instructor",{length:100}),notes:Ue("notes")}),sx=pt("training_programs",{id:_t("id").primaryKey(),title:U("title",{length:200}).notNull(),title_ar:U("title_ar",{length:200}),description:Ue("description"),description_ar:Ue("description_ar"),type:U("type",{length:20}).default("field"),category:U("category",{length:50}),training_scope:U("training_scope",{length:50}),duration_hours:me("duration_hours"),max_participants:me("max_participants"),location:U("location",{length:200}),prerequisites:Ue("prerequisites"),learning_objectives:jr("learning_objectives").$type(),practical_requirements:Ue("practical_requirements"),instructor_id:me("instructor_id").references(()=>vt.id),department_id:U("department_id",{length:20}).references(()=>x7.id),status:U("status",{length:20}).default("active"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),Y$e=pt("training_materials",{id:_t("id").primaryKey(),program_id:me("program_id").references(()=>sx.id),title:U("title",{length:200}).notNull(),title_ar:U("title_ar",{length:200}),type:U("type",{length:20}),content:Ue("content"),file_url:U("file_url",{length:500}),order_index:me("order_index").default(0),duration_minutes:me("duration_minutes"),is_mandatory:xr("is_mandatory").default(!0)}),uP=pt("training_enrollments",{id:_t("id").primaryKey(),program_id:me("program_id").references(()=>sx.id),employee_id:me("employee_id").references(()=>vt.id),enrolled_date:Fe("enrolled_date").defaultNow(),training_date:es("training_date"),attendance_status:U("attendance_status",{length:20}).default("enrolled"),completion_status:U("completion_status",{length:20}).default("not_started"),attendance_notes:Ue("attendance_notes"),practical_performance:U("practical_performance",{length:20}),final_score:me("final_score"),certificate_issued:xr("certificate_issued").default(!1),certificate_number:U("certificate_number",{length:50}),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),Q$e=pt("training_evaluations",{id:_t("id").primaryKey(),enrollment_id:me("enrollment_id").references(()=>uP.id),program_id:me("program_id").references(()=>sx.id),employee_id:me("employee_id").references(()=>vt.id),evaluator_id:me("evaluator_id").references(()=>vt.id),evaluation_date:es("evaluation_date").notNull(),theoretical_understanding:me("theoretical_understanding"),practical_skills:me("practical_skills"),safety_compliance:me("safety_compliance"),teamwork:me("teamwork"),communication:me("communication"),overall_rating:me("overall_rating"),strengths:Ue("strengths"),areas_for_improvement:Ue("areas_for_improvement"),additional_notes:Ue("additional_notes"),recommendation:U("recommendation",{length:20}),created_at:Fe("created_at").defaultNow()}),X$e=pt("training_certificates",{id:_t("id").primaryKey(),enrollment_id:me("enrollment_id").references(()=>uP.id).unique(),employee_id:me("employee_id").references(()=>vt.id),program_id:me("program_id").references(()=>sx.id),certificate_number:U("certificate_number",{length:50}).unique().notNull(),issue_date:es("issue_date").notNull(),expiry_date:es("expiry_date"),final_score:me("final_score"),certificate_status:U("certificate_status",{length:20}).default("active"),issued_by:me("issued_by").references(()=>vt.id),certificate_file_url:U("certificate_file_url",{length:500}),created_at:Fe("created_at").defaultNow()}),S7=pt("performance_reviews",{id:_t("id").primaryKey(),employee_id:U("employee_id",{length:20}).notNull().references(()=>vt.id),reviewer_id:U("reviewer_id",{length:20}).notNull().references(()=>vt.id),review_period_start:es("review_period_start").notNull(),review_period_end:es("review_period_end").notNull(),review_type:U("review_type",{length:20}),overall_rating:me("overall_rating"),goals_achievement:me("goals_achievement"),skills_rating:me("skills_rating"),behavior_rating:me("behavior_rating"),strengths:Ue("strengths"),areas_for_improvement:Ue("areas_for_improvement"),development_plan:Ue("development_plan"),goals_for_next_period:Ue("goals_for_next_period"),employee_comments:Ue("employee_comments"),reviewer_comments:Ue("reviewer_comments"),hr_comments:Ue("hr_comments"),status:U("status",{length:20}).default("draft"),created_at:Fe("created_at").defaultNow(),completed_at:Fe("completed_at")}),C7=pt("performance_criteria",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),description:Ue("description"),description_ar:Ue("description_ar"),category:U("category",{length:50}),weight_percentage:me("weight_percentage").default(20),applicable_roles:jr("applicable_roles").$type(),is_active:xr("is_active").default(!0)}),Z$e=pt("performance_ratings",{id:_t("id").primaryKey(),review_id:me("review_id").notNull().references(()=>S7.id),criteria_id:me("criteria_id").notNull().references(()=>C7.id),rating:me("rating").notNull(),comments:Ue("comments")}),dP=pt("leave_types",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),description:Ue("description"),description_ar:Ue("description_ar"),days_per_year:me("days_per_year"),is_paid:xr("is_paid").default(!0),requires_medical_certificate:xr("requires_medical_certificate").default(!1),min_notice_days:me("min_notice_days").default(1),max_consecutive_days:me("max_consecutive_days"),applicable_after_months:me("applicable_after_months").default(0),color:U("color",{length:20}).default("#3b82f6"),is_active:xr("is_active").default(!0)}),J$e=pt("leave_requests",{id:_t("id").primaryKey(),employee_id:U("employee_id",{length:20}).notNull().references(()=>vt.id),leave_type_id:me("leave_type_id").notNull().references(()=>dP.id),start_date:es("start_date").notNull(),end_date:es("end_date").notNull(),days_count:me("days_count").notNull(),reason:Ue("reason"),medical_certificate_url:U("medical_certificate_url",{length:500}),emergency_contact:U("emergency_contact",{length:100}),work_handover:Ue("work_handover"),replacement_employee_id:U("replacement_employee_id",{length:20}).references(()=>vt.id),direct_manager_id:U("direct_manager_id",{length:20}).references(()=>vt.id),direct_manager_status:U("direct_manager_status",{length:20}).default("pending"),direct_manager_comments:Ue("direct_manager_comments"),direct_manager_action_date:Fe("direct_manager_action_date"),hr_status:U("hr_status",{length:20}).default("pending"),hr_comments:Ue("hr_comments"),hr_action_date:Fe("hr_action_date"),hr_reviewed_by:U("hr_reviewed_by",{length:20}).references(()=>vt.id),final_status:U("final_status",{length:20}).default("pending"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),e4e=pt("leave_balances",{id:_t("id").primaryKey(),employee_id:U("employee_id",{length:20}).notNull().references(()=>vt.id),leave_type_id:me("leave_type_id").notNull().references(()=>dP.id),year:me("year").notNull(),allocated_days:me("allocated_days").notNull(),used_days:me("used_days").default(0),pending_days:me("pending_days").default(0),remaining_days:me("remaining_days").notNull(),carried_forward:me("carried_forward").default(0),expires_at:es("expires_at")}),t4e=pt("admin_decisions",{id:_t("id").primaryKey(),title:U("title",{length:100}).notNull(),title_ar:U("title_ar",{length:100}),description:Ue("description"),target_type:U("target_type",{length:20}),target_id:me("target_id"),date:es("date").notNull(),issued_by:U("issued_by",{length:20}).references(()=>vt.id)});pt("company_profile",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),address:Ue("address"),tax_number:U("tax_number",{length:20}),phone:U("phone",{length:20}),email:U("email",{length:100}),logo_url:U("logo_url",{length:255}),working_hours_per_day:me("working_hours_per_day").default(8),default_language:U("default_language",{length:10}).default("ar")});const n4e=pt("notifications",{id:_t("id").primaryKey(),title:U("title",{length:200}).notNull(),title_ar:U("title_ar",{length:200}),message:Ue("message").notNull(),message_ar:Ue("message_ar"),type:U("type",{length:30}).notNull(),priority:U("priority",{length:20}).default("normal"),recipient_type:U("recipient_type",{length:20}).notNull(),recipient_id:U("recipient_id",{length:20}),phone_number:U("phone_number",{length:20}),status:U("status",{length:20}).default("pending"),sent_at:Fe("sent_at"),delivered_at:Fe("delivered_at"),read_at:Fe("read_at"),twilio_sid:U("twilio_sid",{length:100}),external_status:U("external_status",{length:30}),error_message:Ue("error_message"),scheduled_for:Fe("scheduled_for"),context_type:U("context_type",{length:30}),context_id:U("context_id",{length:50}),created_by:me("created_by").references(()=>vt.id),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),r4e=pt("notification_templates",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),title_template:U("title_template",{length:200}).notNull(),title_template_ar:U("title_template_ar",{length:200}),message_template:Ue("message_template").notNull(),message_template_ar:Ue("message_template_ar"),type:U("type",{length:30}).notNull(),trigger_event:U("trigger_event",{length:50}).notNull(),is_active:xr("is_active").default(!0),variables:jr("variables").$type(),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()});Mt(n4e);Mt(r4e);Mt(vt).omit({id:!0,created_at:!0});Mt(lP).omit({id:!0,created_at:!0,roll_number:!0,completed_at:!0,roll_seq:!0,qr_code_text:!0,qr_png_base64:!0}).extend({production_order_id:ie.number().int().positive("   "),machine_id:ie.string().min(1,"  "),weight_kg:ie.union([ie.string(),ie.number()]).transform(e=>{if(e==null||e==="")throw new Error(" ");return typeof e=="string"?Lg(e,""):e}).refine(e=>e>0,"      ").refine(e=>e<=2e3,"     2000 "),stage:ie.string().default("film").refine(e=>["film","printing","cutting","done"].includes(e),"   "),created_by:ie.number().int().positive("  ")});Mt(b7).omit({id:!0,created_at:!0}).extend({cut_weight_kg:ie.number().positive("      ")});Mt(L$e).omit({id:!0,created_at:!0}).extend({received_weight_kg:ie.number().positive("      ")});Mt(B$e).omit({id:!0}).extend({overrun_tolerance_percent:ie.number().min(0).max(10,"     0  10")});Mt(j7).omit({id:!0,request_number:!0,date_reported:!0,date_resolved:!0});Mt(Wb).omit({id:!0});Mt(U$e).omit({id:!0});Mt(K$e).omit({id:!0,date:!0});Mt(N7).omit({id:!0,last_updated:!0});Mt(V$e).omit({id:!0,created_at:!0});Mt(H$e).omit({id:!0,created_at:!0});Mt(G$e).omit({id:!0});Mt(t4e).omit({id:!0});Mt(_7).omit({id:!0});Mt(v7).omit({id:!0,created_at:!0}).extend({order_number:ie.string().min(1,"  ").max(50,"   "),customer_id:ie.string().min(1,"  "),delivery_date:ie.union([ie.string(),ie.date(),ie.null()]).optional().transform(e=>{if(!e)return null;const t=typeof e=="string"?new Date(e):e;return t instanceof Date&&!isNaN(t.getTime())?t:null}).refine(e=>e?e>=new Date(new Date().setHours(0,0,0,0)):!0,"      "),delivery_days:ie.union([ie.string(),ie.number(),ie.null()]).optional().transform(e=>e==null||e===""?null:typeof e=="string"?Gv(e," "):e).refine(e=>e===null||e>0,"       "),status:ie.enum(["waiting","in_production","paused","cancelled","completed"]).default("waiting"),created_by:ie.number().int().positive("  ").optional()});Mt(qb).omit({id:!0,created_at:!0,production_order_number:!0,produced_quantity_kg:!0,printed_quantity_kg:!0,net_quantity_kg:!0,waste_quantity_kg:!0,film_completion_percentage:!0,printing_completion_percentage:!0,cutting_completion_percentage:!0}).extend({order_id:ie.number().int().positive("  "),customer_product_id:ie.number().int().positive("   "),quantity_kg:ie.union([ie.string(),ie.number()]).transform(e=>{if(e==null||e==="")throw new Error(" ");return(typeof e=="string"?Lg(e,""):e).toString()}).refine(e=>parseFloat(e)>0,"      ").refine(e=>parseFloat(e)<=1e4,"     10000 "),overrun_percentage:ie.union([ie.string(),ie.number()]).transform(e=>e==null||e===""?"5.00":(typeof e=="string"?Lg(e," "):e).toString()).refine(e=>{const t=parseFloat(e);return t>=0&&t<=50},"      0  50 "),final_quantity_kg:ie.union([ie.string(),ie.number()]).transform(e=>{if(e==null||e==="")throw new Error("  ");return(typeof e=="string"?Lg(e," "):e).toString()}).refine(e=>parseFloat(e)>0,"       "),status:ie.enum(["pending","active","completed","cancelled"]).default("pending")});const s4e=pt("system_settings",{id:_t("id").primaryKey(),setting_key:U("setting_key",{length:100}).notNull().unique(),setting_value:Ue("setting_value"),setting_type:U("setting_type",{length:20}).default("string"),description:Ue("description"),is_editable:xr("is_editable").default(!0),updated_at:Fe("updated_at").defaultNow(),updated_by:U("updated_by",{length:20}).references(()=>vt.id)}),a4e=pt("user_settings",{id:_t("id").primaryKey(),user_id:U("user_id",{length:20}).references(()=>vt.id).notNull(),setting_key:U("setting_key",{length:100}).notNull(),setting_value:Ue("setting_value"),setting_type:U("setting_type",{length:20}).default("string"),updated_at:Fe("updated_at").defaultNow()});Mt(s4e).omit({id:!0,updated_at:!0});Mt(a4e).omit({id:!0,updated_at:!0});Mt(y7).omit({id:!0,created_at:!0}).extend({width:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),left_facing:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),right_facing:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),thickness:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),unit_weight_kg:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),package_weight_kg:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(e==null||e==="")return;const t=typeof e=="string"?parseFloat(e):e;return isNaN(t)?void 0:t.toString()}),cutting_length_cm:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(!(e==null||e===""))try{return typeof e=="string"?Gv(e,"Cutting length",{min:1,max:1e4}):e}catch{return}}),unit_quantity:ie.union([ie.string(),ie.number()]).optional().transform(e=>{if(!(e==null||e===""))try{return typeof e=="string"?Gv(e,"Unit quantity",{min:1,max:1e6}):e}catch{return}})});Mt(g7);Mt(iP).omit({created_at:!0});Mt(sx).omit({id:!0,created_at:!0,updated_at:!0});Mt(Y$e).omit({id:!0});Mt(uP).omit({id:!0,enrolled_date:!0,created_at:!0,updated_at:!0});Mt(Q$e).omit({id:!0,created_at:!0});Mt(X$e).omit({id:!0,created_at:!0});Mt(S7).omit({id:!0,created_at:!0,completed_at:!0});Mt(C7).omit({id:!0});Mt(Z$e).omit({id:!0});Mt(dP).omit({id:!0});Mt(J$e).omit({id:!0,created_at:!0,updated_at:!0,direct_manager_action_date:!0,hr_action_date:!0});Mt(e4e).omit({id:!0});Mt(F$e).omit({id:!0,created_at:!0,updated_at:!0});Mt(cP).omit({id:!0,action_number:!0,action_date:!0,created_at:!0,updated_at:!0});Mt(q$e).omit({id:!0,report_number:!0,created_at:!0,updated_at:!0});Mt(W$e).omit({id:!0,report_number:!0,created_at:!0,updated_at:!0});const i4e=Mt(w7).omit({id:!0,part_id:!0,created_at:!0,updated_at:!0}),o4e=Mt(z$e).omit({id:!0,transaction_id:!0,created_at:!0}),P7=pt("system_alerts",{id:_t("id").primaryKey(),title:U("title",{length:200}).notNull(),title_ar:U("title_ar",{length:200}),message:Ue("message").notNull(),message_ar:Ue("message_ar"),type:U("type",{length:30}).notNull(),category:U("category",{length:30}).notNull(),severity:U("severity",{length:20}).notNull(),source:U("source",{length:50}).notNull(),source_id:U("source_id",{length:50}),status:U("status",{length:20}).notNull().default("active"),is_automated:xr("is_automated").default(!0),requires_action:xr("requires_action").default(!1),action_taken:U("action_taken",{length:500}),action_taken_by:me("action_taken_by").references(()=>vt.id),action_taken_at:Fe("action_taken_at"),resolved_by:me("resolved_by").references(()=>vt.id),resolved_at:Fe("resolved_at"),resolution_notes:Ue("resolution_notes"),affected_systems:jr("affected_systems").$type(),suggested_actions:jr("suggested_actions").$type(),context_data:jr("context_data").$type(),notification_sent:xr("notification_sent").default(!1),notification_methods:jr("notification_methods").$type(),target_users:jr("target_users").$type(),target_roles:jr("target_roles").$type(),expires_at:Fe("expires_at"),occurrences:me("occurrences").default(1),last_occurrence:Fe("last_occurrence").defaultNow(),first_occurrence:Fe("first_occurrence").defaultNow(),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),l4e=pt("alert_rules",{id:_t("id").primaryKey(),name:U("name",{length:100}).notNull(),name_ar:U("name_ar",{length:100}),description:Ue("description"),description_ar:Ue("description_ar"),monitor_type:U("monitor_type",{length:50}).notNull(),rule_type:U("rule_type",{length:30}).notNull(),conditions:jr("conditions").$type().notNull(),threshold_value:Gt("threshold_value",{precision:15,scale:4}),comparison_operator:U("comparison_operator",{length:10}),check_frequency:U("check_frequency",{length:20}).notNull().default("5min"),severity:U("severity",{length:20}).notNull().default("medium"),is_enabled:xr("is_enabled").default(!0),notification_template:Ue("notification_template"),notification_template_ar:Ue("notification_template_ar"),escalation_rules:jr("escalation_rules").$type(),suppress_duration:me("suppress_duration").default(60),created_by:me("created_by").references(()=>vt.id),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),c4e=pt("system_health_checks",{id:_t("id").primaryKey(),check_name:U("check_name",{length:100}).notNull(),check_name_ar:U("check_name_ar",{length:100}),check_type:U("check_type",{length:30}).notNull(),status:U("status",{length:20}).notNull().default("unknown"),last_check_time:Fe("last_check_time").defaultNow(),check_duration_ms:me("check_duration_ms"),success_rate_24h:Gt("success_rate_24h",{precision:5,scale:2}).default("100.00"),average_response_time:me("average_response_time"),error_count_24h:me("error_count_24h").default(0),last_error:Ue("last_error"),last_error_time:Fe("last_error_time"),check_details:jr("check_details").$type(),thresholds:jr("thresholds").$type(),is_critical:xr("is_critical").default(!1),auto_recovery:xr("auto_recovery").default(!1),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),u4e=pt("system_performance_metrics",{id:_t("id").primaryKey(),metric_name:U("metric_name",{length:50}).notNull(),metric_category:U("metric_category",{length:30}).notNull(),value:Gt("value",{precision:15,scale:4}).notNull(),unit:U("unit",{length:20}),timestamp:Fe("timestamp").defaultNow(),source:U("source",{length:50}),tags:jr("tags").$type(),created_at:Fe("created_at").defaultNow()}),d4e=pt("corrective_actions",{id:_t("id").primaryKey(),alert_id:me("alert_id").references(()=>P7.id,{onDelete:"cascade"}),action_type:U("action_type",{length:30}).notNull(),action_title:U("action_title",{length:200}).notNull(),action_description:Ue("action_description").notNull(),action_description_ar:Ue("action_description_ar"),status:U("status",{length:20}).notNull().default("pending"),assigned_to:me("assigned_to").references(()=>vt.id),priority:U("priority",{length:20}).notNull().default("medium"),estimated_duration:me("estimated_duration"),actual_duration:me("actual_duration"),success_rate:Gt("success_rate",{precision:5,scale:2}),notes:Ue("notes"),created_by:me("created_by").references(()=>vt.id),completed_by:me("completed_by").references(()=>vt.id),completed_at:Fe("completed_at"),created_at:Fe("created_at").defaultNow(),updated_at:Fe("updated_at").defaultNow()}),f4e=pt("system_analytics",{id:_t("id").primaryKey(),date:es("date").notNull().default(yt`CURRENT_DATE`),metric_type:U("metric_type",{length:50}).notNull(),total_alerts:me("total_alerts").default(0),critical_alerts:me("critical_alerts").default(0),resolved_alerts:me("resolved_alerts").default(0),avg_resolution_time:me("avg_resolution_time"),system_uptime_percent:Gt("system_uptime_percent",{precision:5,scale:2}),total_health_checks:me("total_health_checks").default(0),failed_health_checks:me("failed_health_checks").default(0),performance_score:Gt("performance_score",{precision:5,scale:2}),data:jr("data").$type(),created_at:Fe("created_at").defaultNow()});Mt(P7);Mt(l4e);Mt(c4e);Mt(u4e);Mt(d4e);Mt(f4e);const F$=i4e.extend({current_quantity:ie.coerce.number().min(0,"      ").default(0),min_quantity:ie.coerce.number().min(0).optional(),max_quantity:ie.coerce.number().min(0).optional()}),h4e=o4e.extend({barcode:ie.string().min(1," "),quantity:ie.coerce.number().min(1,"      "),manual_entry:ie.boolean().default(!1)}).omit({consumable_part_id:!0,performed_by:!0});function m4e({consumableParts:e,isLoading:t}){const[n,r]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),{toast:h}=Sn(),m=qn(),{user:v}=ii(),{data:p,isLoading:g,isError:y}=$e({queryKey:["/api/consumable-parts"],enabled:!e});$e({queryKey:["/api/consumable-parts-transactions"]});const b=e||p||[],j=t||g,w=Sr({resolver:Qr(F$),defaultValues:{code:"",type:"",status:"active",current_quantity:0,unit:""}}),N=Sr({resolver:Qr(F$)}),S=Sr({resolver:Qr(h4e),defaultValues:{quantity:1,transaction_type:"in",manual_entry:!0}}),_=et({mutationFn:T=>Qt("/api/consumable-parts",{method:"POST",body:JSON.stringify(T)}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/consumable-parts"]}),h({title:"     "}),r(!1),w.reset()},onError:()=>{h({title:"     ",variant:"destructive"})}}),C=et({mutationFn:({id:T,data:J})=>Qt(`/api/consumable-parts/${T}`,{method:"PATCH",body:JSON.stringify(J)}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/consumable-parts"]}),h({title:"     "}),i(!1),u(null)},onError:()=>{h({title:"     ",variant:"destructive"})}}),E=et({mutationFn:T=>Qt(`/api/consumable-parts/${T}`,{method:"DELETE"}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/consumable-parts"]}),h({title:"     "})},onError:()=>{h({title:"     ",variant:"destructive"})}}),P=et({mutationFn:T=>{const J=b.find(re=>re.barcode===T.barcode);if(!J)throw new Error("       ");return Qt("/api/consumable-parts-transactions/barcode",{method:"POST",body:JSON.stringify({...T,consumable_part_id:J.id,performed_by:(v==null?void 0:v.id)||1})})},onSuccess:()=>{m.invalidateQueries({queryKey:["/api/consumable-parts"]}),m.invalidateQueries({queryKey:["/api/consumable-parts-transactions"]}),h({title:"   "}),l(!1),S.reset()},onError:T=>{h({title:"   ",description:T.message,variant:"destructive"})}}),A=b.filter(T=>{var re,X,ye;const J=d.toLowerCase();return((re=T.code)==null?void 0:re.toLowerCase().includes(J))||((X=T.type)==null?void 0:X.toLowerCase().includes(J))||String(T.part_id||"").toLowerCase().includes(J)||((ye=T.barcode)==null?void 0:ye.toLowerCase().includes(J))}),O=T=>{u(T),N.reset({code:T.code||"",type:T.type||"",status:T.status||"active",notes:T.notes||"",location:T.location||"",unit:T.unit||"",current_quantity:T.current_quantity||0,min_quantity:T.min_quantity||void 0,max_quantity:T.max_quantity||void 0,barcode:T.barcode||""}),i(!0)},I=T=>{window.confirm("      ")&&E.mutate(T)},F=T=>{_.mutate(T)},B=T=>{c&&C.mutate({id:c.id,data:T})},$=T=>{P.mutate(T)},R=T=>{switch(T){case"active":return s.jsx(ge,{variant:"default",className:"bg-green-100 text-green-800",children:""});case"inactive":return s.jsx(ge,{variant:"secondary",children:" "});case"maintenance":return s.jsx(ge,{variant:"destructive",children:""});default:return s.jsx(ge,{variant:"outline",children:T})}},M=(T,J)=>J&&T<=J?s.jsx("span",{className:"text-red-600 font-semibold",children:""}):s.jsx("span",{className:"text-green-600",children:T});return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oe,{children:"  "}),s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"   ...",value:d,onChange:T=>f(T.target.value),className:"pl-10 w-64","data-testid":"input-search"})]}),s.jsxs(ln,{open:o,onOpenChange:l,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{variant:"outline",className:"bg-blue-50 hover:bg-blue-100","data-testid":"button-barcode",children:[s.jsx(h2,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx(jn,{children:"         "})]}),s.jsx(Cr,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit($),className:"space-y-4",children:[s.jsx(Ee,{control:S.control,name:"barcode",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,placeholder:"   ","data-testid":"input-barcode"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:S.control,name:"transaction_type",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:T.onChange,value:T.value,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-transaction-type",children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"in",children:""}),s.jsx(q,{value:"out",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:S.control,name:"quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"1",onChange:J=>T.onChange(parseInt(J.target.value)),"data-testid":"input-quantity"})}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:S.control,name:"transaction_reason",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,value:T.value??"",placeholder:" -  ","data-testid":"input-reason"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:S.control,name:"notes",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{...T,value:T.value??"",placeholder:" ","data-testid":"textarea-notes"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-transaction",children:""}),s.jsx(W,{type:"submit",disabled:P.isPending,"data-testid":"button-submit-transaction",children:P.isPending?" ...":" "})]})]})})]})]}),s.jsxs(ln,{open:n,onOpenChange:r,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-add",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"  "]})}),s.jsxs(rn,{className:"max-w-2xl",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"    "}),s.jsx(jn,{children:"          "})]}),s.jsx(Cr,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(F),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:w.control,name:"code",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,placeholder:"  ","data-testid":"input-code"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:w.control,name:"type",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,placeholder:"  ","data-testid":"input-type"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:w.control,name:"barcode",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,value:T.value??"",placeholder:" ()","data-testid":"input-barcode-add"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:w.control,name:"location",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,value:T.value??"",placeholder:" ","data-testid":"input-location"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Ee,{control:w.control,name:"current_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(parseInt(J.target.value)),"data-testid":"input-current-quantity"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:w.control,name:"min_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(J.target.value?parseInt(J.target.value):void 0),"data-testid":"input-min-quantity"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:w.control,name:"max_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(J.target.value?parseInt(J.target.value):void 0),"data-testid":"input-max-quantity"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:w.control,name:"unit",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:T.onChange,value:T.value??void 0,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-unit",children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:w.control,name:"status",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:T.onChange,value:T.value??void 0,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-status",children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"inactive",children:" "}),s.jsx(q,{value:"maintenance",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:w.control,name:"notes",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{...T,value:T.value??"",placeholder:" ","data-testid":"textarea-notes-add"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-add",children:""}),s.jsx(W,{type:"submit",disabled:_.isPending,"data-testid":"button-submit-add",children:_.isPending?" ...":""})]})]})})]})]})]})]})}),s.jsxs(G,{children:[j?s.jsx("div",{className:"text-center py-8","data-testid":"loading-state",children:" ..."}):y?s.jsxs("div",{className:"text-center py-8 text-red-600","data-testid":"error-state",children:[s.jsx(cn,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{children:"     "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500","data-testid":"empty-state",children:d?"   ":"    "})}):A.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50","data-testid":`row-part-${T.id}`,children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900","data-testid":`text-part-id-${T.id}`,children:T.part_id}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900","data-testid":`text-code-${T.id}`,children:T.code}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900","data-testid":`text-type-${T.id}`,children:T.type}),s.jsxs("td",{className:"px-6 py-4 text-sm","data-testid":`text-quantity-${T.id}`,children:[M(T.current_quantity,T.min_quantity)," ",T.unit]}),s.jsx("td",{className:"px-6 py-4","data-testid":`badge-status-${T.id}`,children:R(T.status)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500","data-testid":`text-barcode-${T.id}`,children:T.barcode||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>O(T),"data-testid":`button-edit-${T.id}`,children:s.jsx(Hr,{className:"h-3 w-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>I(T.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-${T.id}`,children:s.jsx(ya,{className:"h-3 w-3"})})]})})]},T.id))})]})}),s.jsx(ln,{open:a,onOpenChange:i,children:s.jsxs(rn,{className:"max-w-2xl",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"   "}),s.jsx(jn,{children:"      "})]}),s.jsx(Cr,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit(B),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:N.control,name:"code",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,"data-testid":"input-edit-code"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:N.control,name:"type",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,"data-testid":"input-edit-type"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:N.control,name:"barcode",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,value:T.value??"","data-testid":"input-edit-barcode"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:N.control,name:"location",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...T,value:T.value??"","data-testid":"input-edit-location"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Ee,{control:N.control,name:"current_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(parseInt(J.target.value)),"data-testid":"input-edit-current-quantity"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:N.control,name:"min_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(J.target.value?parseInt(J.target.value):void 0),"data-testid":"input-edit-min-quantity"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:N.control,name:"max_quantity",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...T,type:"number",min:"0",onChange:J=>T.onChange(J.target.value?parseInt(J.target.value):void 0),"data-testid":"input-edit-max-quantity"})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:N.control,name:"unit",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:T.onChange,value:T.value??void 0,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-edit-unit",children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:N.control,name:"status",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:T.onChange,value:T.value??void 0,children:[s.jsx(Pe,{children:s.jsx(Ge,{"data-testid":"select-edit-status",children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"inactive",children:" "}),s.jsx(q,{value:"maintenance",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:N.control,name:"notes",render:({field:T})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{...T,value:T.value??"","data-testid":"textarea-edit-notes"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-edit",children:""}),s.jsx(W,{type:"submit",disabled:C.isPending,"data-testid":"button-submit-edit",children:C.isPending?" ...":" "})]})]})})]})})]})]})}const p4e=ie.object({maintenance_request_id:ie.number(),action_type:ie.string().min(1,"  "),description:ie.string().min(1," "),text_report:ie.string().optional(),spare_parts_request:ie.string().optional(),machining_request:ie.string().optional(),operator_negligence_report:ie.string().optional(),performed_by:ie.string().min(1," "),requires_management_action:ie.boolean().optional(),management_notified:ie.boolean().optional()}),x4e=ie.object({report_type:ie.string().min(1,"  "),title:ie.string().min(1," "),description:ie.string().min(1," "),machine_id:ie.string().optional(),severity:ie.string().default("medium"),priority:ie.string().default("medium"),spare_parts_needed:ie.array(ie.string()).optional(),estimated_repair_time:ie.number().optional()}),g4e=ie.object({operator_id:ie.string().min(1,"  "),operator_name:ie.string().min(1,"  "),incident_date:ie.string().min(1,"  "),incident_type:ie.string().min(1,"  "),description:ie.string().min(1," "),severity:ie.string().default("medium"),witnesses:ie.array(ie.string()).optional(),immediate_actions_taken:ie.string().optional()}),y4e=ie.object({machine_id:ie.string().min(1," "),issue_type:ie.string().min(1,"  "),urgency_level:ie.string().default("normal"),description:ie.string().min(1," "),assigned_to:ie.string().optional()});function v4e(){const[e,t]=x.useState("requests");x.useState(null);const[n,r]=x.useState(!1),[a,i]=x.useState(null),[o,l]=x.useState(!1),{toast:c}=Sn(),u=qn(),{user:d}=ii(),{data:f,isLoading:h}=$e({queryKey:["/api/maintenance-requests"]}),{data:m,isLoading:v}=$e({queryKey:["/api/maintenance-actions"]}),{data:p,isLoading:g}=$e({queryKey:["/api/maintenance-reports"]}),{data:y,isLoading:b}=$e({queryKey:["/api/operator-negligence-reports"]}),{data:j}=$e({queryKey:["/api/users"]}),{data:w}=$e({queryKey:["/api/machines"]}),{data:N}=$e({queryKey:["/api/spare-parts"]}),S=et({mutationFn:O=>(console.log("Sending maintenance action data:",O),Qt("/api/maintenance-actions",{method:"POST",body:JSON.stringify(O)})),onSuccess:O=>{console.log("Maintenance action created successfully:",O),u.invalidateQueries({queryKey:["/api/maintenance-actions"]}),c({title:"    "})},onError:O=>{console.error("Failed to create maintenance action:",O),c({title:"    ",variant:"destructive"})}}),_=et({mutationFn:O=>Qt("/api/maintenance-reports",{method:"POST",body:JSON.stringify(O)}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/maintenance-reports"]}),c({title:"    "})},onError:()=>{c({title:"    ",variant:"destructive"})}}),C=et({mutationFn:O=>Qt("/api/operator-negligence-reports",{method:"POST",body:JSON.stringify(O)}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/operator-negligence-reports"]}),c({title:"     "})},onError:()=>{c({title:"     ",variant:"destructive"})}}),E=et({mutationFn:O=>{var F;const I={...O,reported_by:((F=d==null?void 0:d.id)==null?void 0:F.toString())||""};return Qt("/api/maintenance-requests",{method:"POST",body:JSON.stringify(I)})},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/maintenance-requests"]}),r(!1),c({title:"    "})},onError:O=>{console.error("Error creating maintenance request:",O),c({title:"    ",variant:"destructive"})}}),P=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},A=O=>{switch(O){case"pending":return" ";case"in_progress":return" ";case"completed":return"";case"cancelled":return"";default:return O}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"     "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Array.isArray(f)?f.length:0})]}),s.jsx(Mg,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Array.isArray(f)?f.filter(O=>O.status==="pending").length:0})]}),s.jsx(cr,{className:"w-8 h-8 text-yellow-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(f)?f.filter(O=>O.status==="in_progress").length:0})]}),s.jsx(cn,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Array.isArray(f)?f.filter(O=>O.status==="completed").length:0})]}),s.jsx(It,{className:"w-8 h-8 text-green-500"})]})})})]}),s.jsxs(Is,{value:e,onValueChange:t,className:"w-full",children:[s.jsxs(vs,{className:"grid w-full grid-cols-6 mb-6",children:[s.jsxs(mt,{value:"requests",className:"flex items-center gap-2",children:[s.jsx(Mg,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"actions",className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"reports",className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"negligence",className:"flex items-center gap-2",children:[s.jsx(Ga,{className:"h-4 w-4"}),"  "]}),s.jsxs(mt,{value:"spare-parts",className:"flex items-center gap-2",children:[s.jsx(Ll,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"consumable-parts",className:"flex items-center gap-2",children:[s.jsx(Mg,{className:"h-4 w-4"}),"  "]})]}),s.jsx(ct,{value:"requests",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(oe,{children:" "}),s.jsxs(ln,{open:n,onOpenChange:r,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"  "]})}),s.jsx(_4e,{machines:w,users:j,onSubmit:E.mutate,isLoading:E.isPending})]})]})}),s.jsx(G,{children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(f)&&f.length>0?f.map(O=>{const I=Array.isArray(w)?w.find(R=>R.id===O.machine_id):null,F=I?I.name_ar||I.name:O.machine_id,B=Array.isArray(j)&&O.assigned_to?j.find(R=>R.id.toString()===O.assigned_to.toString()):null,$=B?B.full_name||B.username:" ";return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:O.request_number}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:F}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:O.issue_type==="mechanical"?"":O.issue_type==="electrical"?"":""}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(ge,{variant:O.urgency_level==="urgent"?"destructive":O.urgency_level==="medium"?"default":"secondary",children:O.urgency_level==="urgent"?"":O.urgency_level==="medium"?"":""})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(O.status)}`,children:A(O.status)})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate text-center",children:O.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:$}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(O.date_reported).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})})]},O.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"    "})})})]})})})]})}),s.jsx(ct,{value:"actions",children:s.jsx(b4e,{actions:m,requests:f,users:j,isLoading:v,onCreateAction:S.mutate,onViewAction:O=>{i(O),l(!0)}})}),s.jsx(ct,{value:"reports",children:s.jsx(j4e,{reports:p,machines:w,users:j,isLoading:g,onCreateReport:_.mutate})}),s.jsx(ct,{value:"negligence",children:s.jsx(w4e,{reports:y,users:j,isLoading:b,onCreateReport:C.mutate})}),s.jsx(ct,{value:"spare-parts",children:s.jsx(N4e,{spareParts:Array.isArray(N)?N:[],isLoading:!1})}),s.jsx(ct,{value:"consumable-parts",children:s.jsx(m4e,{})})]})]})]}),s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx(jn,{children:"    "})]}),a&&(()=>{const O=Array.isArray(j)?j.find(F=>F.id.toString()===a.performed_by):null,I=Array.isArray(f)?f.find(F=>F.id===a.maintenance_request_id):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono bg-gray-50 p-2 rounded",children:a.action_number})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"  "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 font-mono bg-gray-50 p-2 rounded",children:(I==null?void 0:I.request_number)||a.maintenance_request_id})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("div",{className:"mt-1",children:s.jsx(ge,{variant:"outline",className:"text-sm",children:a.action_type})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-2 rounded",children:O?O.display_name_ar||O.display_name||O.username:a.performed_by})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-3 rounded min-h-[60px]",children:a.description||"  "})]}),a.text_report&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-blue-50 p-3 rounded min-h-[60px] border border-blue-200",children:a.text_report})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"  "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-2 rounded",children:a.spare_parts_request||" "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-2 rounded",children:a.machining_request||" "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"  "}),s.jsx("div",{className:"mt-1",children:s.jsx(ge,{variant:a.requires_management_action?"destructive":"secondary",children:a.requires_management_action?"":""})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"  "}),s.jsx("div",{className:"mt-1",children:s.jsx(ge,{variant:a.management_notified?"default":"secondary",children:a.management_notified?"":""})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-2 rounded",children:a.performed_at?new Date(a.performed_at).toLocaleDateString("ar"):" "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1 bg-gray-50 p-2 rounded",children:a.created_at?new Date(a.created_at).toLocaleDateString("ar"):" "})]})]}),I&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsxs("div",{className:"mt-1 bg-blue-50 p-3 rounded border border-blue-200",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:" :"})," ",I.machine_id]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:" :"})," ",I.issue_type]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:" :"})," ",I.urgency_level]})]})]})]})})()]})})]})}function b4e({actions:e,requests:t,users:n,isLoading:r,onCreateAction:a,onViewAction:i}){const[o,l]=x.useState(!1);x.useState(null);const{data:c}=$e({queryKey:["/api/spare-parts"]}),{user:u}=ii(),d=Sr({resolver:Qr(p4e),defaultValues:{maintenance_request_id:0,action_type:"",description:"",text_report:"",spare_parts_request:"",machining_request:"",operator_negligence_report:"",performed_by:"",requires_management_action:!1,management_notified:!1}});x.useEffect(()=>{u!=null&&u.id&&d.setValue("performed_by",u.id.toString())},[u,d]);const f=async h=>{try{console.log("Form data submitted:",h);const m=mie(),v={...h,action_number:m,request_created_by:"1"};console.log("Submitting action data:",v),await a(v),l(!1),d.reset()}catch(m){console.error("Error creating maintenance action:",m)}};return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:" "}),s.jsxs(ln,{open:o,onOpenChange:l,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{children:[s.jsx(kn,{className:"h-4 w-4 ml-2"}),"  "]})}),s.jsxs(rn,{className:"max-w-4xl",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"   "}),s.jsx(jn,{children:"       "})]}),s.jsx(Cr,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:d.control,name:"maintenance_request_id",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:m=>h.onChange(parseInt(m)),children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsx(Ye,{children:Array.isArray(t)&&t.map(m=>s.jsxs(q,{value:m.id.toString(),children:[m.request_number," - ",m.description]},m.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:d.control,name:"action_type",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:h.onChange,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:"  ",children:"  "}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:" ",children:" "})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:d.control,name:"performed_by",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...h,value:u!=null&&u.id?u.id.toString():"",type:"hidden",className:"hidden"})}),s.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded border",children:[s.jsx("div",{className:"font-medium text-sm",children:u?`${u.display_name||u.username} (${u.id})`:" ..."}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:d.control,name:"description",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{...h,placeholder:"    "})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:d.control,name:"text_report",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{...h,placeholder:"   "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:d.control,name:"spare_parts_request",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  "}),s.jsx(Pe,{children:s.jsxs(Xe,{value:h.value,onValueChange:h.onChange,children:[s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"   "})}),s.jsx(Ye,{children:Array.isArray(c)&&c.length>0?c.filter(m=>m.part_id&&m.part_name&&m.code).map(m=>s.jsxs(q,{value:`${m.part_name}_${m.code}_${m.part_id}`,children:[m.part_name," (",m.code,") - ",m.machine_name]},m.part_id)):s.jsx(q,{value:"no_parts",children:"    "})})]})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:d.control,name:"machining_request",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{...h,placeholder:"    "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:d.control,name:"operator_negligence_report",render:({field:h})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  "}),s.jsx(Pe,{children:s.jsx(rr,{...h,placeholder:"     "})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:d.control,name:"requires_management_action",render:({field:h})=>s.jsxs(Se,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(Pe,{children:s.jsx("input",{type:"checkbox",checked:h.value,onChange:h.onChange,className:"h-4 w-4"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Ce,{children:"  "})})]})}),s.jsx(Ee,{control:d.control,name:"management_notified",render:({field:h})=>s.jsxs(Se,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(Pe,{children:s.jsx("input",{type:"checkbox",checked:h.value,onChange:h.onChange,className:"h-4 w-4"})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Ce,{children:"  "})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{type:"submit",children:" "})]})]})})]})]})]})}),s.jsx(G,{children:r?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):Array.isArray(e)&&e.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:" "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:"  "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:" "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:""}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:""}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:"  "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:" "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:" "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:" "}),s.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:""})]})}),s.jsx("tbody",{children:e.map(h=>{const m=Array.isArray(n)?n.find(j=>j.id.toString()===h.performed_by):null,v=Array.isArray(t)?t.find(j=>j.id===h.maintenance_request_id):null,p=()=>{i==null||i(h)},g=()=>{const j=`
                      <div style="font-family: Arial; direction: rtl; text-align: right; padding: 20px;">
                        <h2 style="text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px;">
                            : ${h.action_number}
                        </h2>
                        <div style="margin: 20px 0;">
                          <p><strong>  :</strong> ${(v==null?void 0:v.request_number)||h.maintenance_request_id}</p>
                          <p><strong> :</strong> ${h.action_type}</p>
                          <p><strong>:</strong> ${h.description||"-"}</p>
                          <p><strong>:</strong> ${m?m.full_name||m.username:h.performed_by}</p>
                          <p><strong>  :</strong> ${h.spare_parts_request||"-"}</p>
                          <p><strong> :</strong> ${h.machining_request||"-"}</p>
                          <p><strong>  :</strong> ${h.operator_negligence_report||"-"}</p>
                          <p><strong> :</strong> ${h.text_report||"-"}</p>
                          <p><strong>  :</strong> ${h.requires_management_action?"":""}</p>
                          <p><strong> :</strong> ${new Date(h.action_date).toLocaleDateString("ar")}</p>
                          <p><strong> :</strong> ${new Date(h.action_date).toLocaleTimeString("ar")}</p>
                        </div>
                      </div>
                    `,w=window.open("","_blank");w==null||w.document.write(j),w==null||w.document.close(),w==null||w.print()},y=async()=>{if(confirm(`      ${h.action_number}`))try{await fetch(`/api/maintenance-actions/${h.id}`,{method:"DELETE"}),window.location.reload()}catch{alert("    ")}},b=()=>{alert(`  ${h.action_number} -     `)};return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-medium text-blue-600",children:h.action_number}),s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-medium text-green-600",children:(v==null?void 0:v.request_number)||`MO${h.maintenance_request_id.toString().padStart(3,"0")}`}),s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:s.jsx(ge,{variant:"outline",className:"bg-blue-50 text-blue-700",children:h.action_type})}),s.jsx("td",{className:"border border-gray-300 px-4 py-2",children:h.description||"-"}),s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m?m.full_name||m.username:h.performed_by}),s.jsx("td",{className:"border border-gray-300 px-4 py-2",children:h.spare_parts_request||"-"}),s.jsx("td",{className:"border border-gray-300 px-4 py-2",children:h.machining_request||"-"}),s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:h.requires_management_action?s.jsx(ge,{variant:"destructive",children:""}):s.jsx(ge,{variant:"secondary",children:" "})}),s.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[new Date(h.action_date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(h.action_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),s.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:s.jsxs("div",{className:"flex justify-center gap-1",children:[s.jsx(W,{size:"sm",variant:"outline",className:"bg-blue-50 text-blue-600 hover:bg-blue-100 border-blue-200 h-8 w-8 p-0",onClick:p,title:"",children:s.jsx(Wd,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"outline",className:"bg-green-50 text-green-600 hover:bg-green-100 border-green-200 h-8 w-8 p-0",onClick:g,title:"",children:s.jsx(E6,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"outline",className:"bg-yellow-50 text-yellow-600 hover:bg-yellow-100 border-yellow-200 h-8 w-8 p-0",onClick:b,title:"",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"outline",className:"bg-red-50 text-red-600 hover:bg-red-100 border-red-200 h-8 w-8 p-0",onClick:y,title:"",children:s.jsx(ya,{className:"h-4 w-4"})})]})})]},h.id)})})]})}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(It,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "})]})})]})}function j4e({reports:e,machines:t,users:n,isLoading:r,onCreateReport:a}){const[i,o]=x.useState(!1),l=Sr({resolver:Qr(x4e),defaultValues:{report_type:"",title:"",description:"",machine_id:"",severity:"medium",priority:"medium",spare_parts_needed:[],estimated_repair_time:0}}),c=async u=>{try{const d=pie();await a({...u,report_number:d,reported_by_user_id:1,status:"open",estimated_repair_time:u.estimated_repair_time||null}),o(!1),l.reset()}catch(d){console.error("Error creating maintenance report:",d)}};return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:" "}),s.jsxs(ln,{open:i,onOpenChange:o,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{children:[s.jsx(kn,{className:"h-4 w-4 ml-2"}),"  "]})}),s.jsxs(rn,{className:"max-w-4xl",children:[s.jsx(sn,{children:s.jsx(an,{children:"   "})}),s.jsx(Cr,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:l.control,name:"report_type",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:u.onChange,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"breakdown",children:"  "}),s.jsx(q,{value:"malfunction",children:"  "}),s.jsx(q,{value:"safety",children:" "}),s.jsx(q,{value:"quality",children:" "}),s.jsx(q,{value:"preventive",children:"  "}),s.jsx(q,{value:"spare_parts",children:"  "})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:l.control,name:"severity",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:u.onChange,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"low",children:""}),s.jsx(q,{value:"medium",children:""}),s.jsx(q,{value:"high",children:""}),s.jsx(q,{value:"critical",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:l.control,name:"title",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...u,placeholder:"  "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:l.control,name:"description",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{...u,placeholder:"   "})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:l.control,name:"machine_id",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" ()"}),s.jsx(Pe,{children:s.jsx(fe,{...u,placeholder:"   "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:l.control,name:"estimated_repair_time",render:({field:u})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"   ()"}),s.jsx(Pe,{children:s.jsx(fe,{type:"number",step:"0.1",...u,onChange:d=>u.onChange(parseFloat(d.target.value)||0)})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>o(!1),children:""}),s.jsx(W,{type:"submit",children:" "})]})]})})]})]})]})}),s.jsx(G,{children:r?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):Array.isArray(e)&&e.length>0?s.jsx("div",{className:"space-y-4",children:e.map(u=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"font-semibold",children:[u.report_number," - ",u.title]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{variant:u.severity==="critical"?"destructive":"secondary",children:u.severity}),s.jsx(ge,{children:u.status})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" : "}),u.report_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" : "}),new Date(u.created_at).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})]})]})]},u.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ti,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"   "})]})})]})}function w4e({reports:e,users:t,isLoading:n,onCreateReport:r}){const[a,i]=x.useState(!1),o=Sr({resolver:Qr(g4e),defaultValues:{operator_id:"",operator_name:"",incident_date:"",incident_type:"",description:"",severity:"medium",witnesses:[],immediate_actions_taken:""}}),l=async c=>{try{const u=xie();await r({...c,report_number:u,reported_by_user_id:1,report_date:new Date().toISOString().split("T")[0],status:"pending",follow_up_required:c.severity==="high"||c.severity==="critical"}),i(!1),o.reset()}catch(u){console.error("Error creating operator negligence report:",u)}};return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"  "}),s.jsxs(ln,{open:a,onOpenChange:i,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{children:[s.jsx(kn,{className:"h-4 w-4 ml-2"}),"  "]})}),s.jsxs(rn,{className:"max-w-4xl",children:[s.jsx(sn,{children:s.jsx(an,{children:"   "})}),s.jsx(Cr,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:o.control,name:"operator_id",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...c,placeholder:"    "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:o.control,name:"operator_name",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...c,placeholder:"  "})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:o.control,name:"incident_date",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{type:"date",...c})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:o.control,name:"incident_type",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:c.onChange,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"safety_violation",children:"  "}),s.jsx(q,{value:"equipment_misuse",children:"  "}),s.jsx(q,{value:"procedure_violation",children:"  "}),s.jsx(q,{value:"quality_negligence",children:" "}),s.jsx(q,{value:"time_violation",children:" "}),s.jsx(q,{value:"maintenance_neglect",children:" "})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:o.control,name:"description",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{...c,placeholder:"     "})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:o.control,name:"severity",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  "}),s.jsxs(Xe,{onValueChange:c.onChange,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"low",children:""}),s.jsx(q,{value:"medium",children:""}),s.jsx(q,{value:"high",children:""}),s.jsx(q,{value:"critical",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:o.control,name:"immediate_actions_taken",render:({field:c})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  "}),s.jsx(Pe,{children:s.jsx(rr,{...c,placeholder:"     "})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),s.jsx(W,{type:"submit",children:" "})]})]})})]})]})]})}),s.jsx(G,{children:n?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):Array.isArray(e)&&e.length>0?s.jsx("div",{className:"space-y-4",children:e.map(c=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"font-semibold",children:[c.report_number," - ",c.operator_name]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{variant:c.severity==="critical"?"destructive":"secondary",children:c.severity}),s.jsx(ge,{children:c.status})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:c.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" : "}),c.incident_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" : "}),new Date(c.incident_date).toLocaleDateString("ar")]})]})]},c.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ll,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "})]})})]})}function _4e({machines:e,users:t,onSubmit:n,isLoading:r}){const a=Sr({resolver:Qr(y4e),defaultValues:{machine_id:"",issue_type:"mechanical",urgency_level:"normal",description:"",assigned_to:"none"}}),i=o=>{const l={...o,assigned_to:o.assigned_to==="none"?"":o.assigned_to};n(l),a.reset()};return s.jsxs(rn,{className:"sm:max-w-[600px]","aria-describedby":"maintenance-request-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx("p",{id:"maintenance-request-description",className:"text-sm text-gray-600",children:"          "})]}),s.jsx(Cr,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:a.control,name:"machine_id",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:o.onChange,value:o.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:Array.isArray(e)&&e.filter(l=>l.id&&l.id!==""&&l.id!==null&&l.id!==void 0).map(l=>s.jsx(q,{value:l.id.toString(),children:l.name_ar},l.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:a.control,name:"issue_type",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:o.onChange,value:o.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"mechanical",children:""}),s.jsx(q,{value:"electrical",children:""}),s.jsx(q,{value:"other",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsx(Ee,{control:a.control,name:"urgency_level",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:o.onChange,value:o.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"normal",children:""}),s.jsx(q,{value:"medium",children:""}),s.jsx(q,{value:"urgent",children:""})]})]}),s.jsx(ke,{})]})})}),s.jsx(Ee,{control:a.control,name:"assigned_to",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsxs(Xe,{onValueChange:o.onChange,value:o.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(t)&&t.filter(l=>l.role==="technician").map(l=>s.jsx(q,{value:l.id.toString(),children:l.full_name||l.username},l.id))]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:a.control,name:"description",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(rr,{placeholder:"     ...",className:"min-h-[100px]",...o})}),s.jsx(ke,{})]})}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(W,{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white",children:r?" ...":" "})})]})})]})}function N4e({spareParts:e,isLoading:t}){const[n,r]=x.useState(null),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),{toast:h}=Sn(),m=qn(),v=et({mutationFn:N=>Qt("/api/spare-parts",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/spare-parts"]}),h({title:"    "}),i(!1)},onError:()=>{h({title:"    ",variant:"destructive"})}}),p=et({mutationFn:({id:N,data:S})=>Qt(`/api/spare-parts/${N}`,{method:"PUT",body:JSON.stringify(S)}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/spare-parts"]}),h({title:"    "}),u(!1),r(null)},onError:()=>{h({title:"    ",variant:"destructive"})}}),g=et({mutationFn:N=>Qt(`/api/spare-parts/${N}`,{method:"DELETE"}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/spare-parts"]}),h({title:"    "}),f(null)},onError:()=>{h({title:"    ",variant:"destructive"})}}),y=N=>{r(N),l(!0)},b=N=>{r(N),u(!0)},j=N=>{f(N)},w=()=>{d&&g.mutate(d.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"  "}),s.jsxs(ln,{open:a,onOpenChange:i,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(kn,{className:"h-4 w-4 ml-2"}),"   "]})}),s.jsxs(rn,{className:"max-w-md","aria-describedby":"spare-part-dialog-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"   "}),s.jsx("div",{id:"spare-part-dialog-description",className:"text-sm text-gray-600",children:"     "})]}),s.jsx(S4e,{onSubmit:v.mutate,isLoading:v.isPending})]})]})]}),s.jsx(K,{children:s.jsx(G,{className:"p-0",children:t?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-500",children:" ..."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(e)&&e.length>0?e.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:N.part_id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:N.machine_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:N.part_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:N.code}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:N.serial_number}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate text-center",children:N.specifications}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx(W,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>y(N),children:s.jsx(Wd,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>b(N),children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-600",onClick:()=>j(N),children:s.jsx(ya,{className:"h-4 w-4"})})]})})]},N.part_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"    "})})})]})})})}),s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-md","aria-describedby":"view-spare-part-dialog-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx("div",{id:"view-spare-part-dialog-description",className:"text-sm text-gray-600",children:"    "})]}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.code})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.machine_name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.part_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.serial_number})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:n.specifications})]})]})]})}),s.jsx(ln,{open:c,onOpenChange:u,children:s.jsxs(rn,{className:"max-w-md","aria-describedby":"edit-spare-part-dialog-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx("div",{id:"edit-spare-part-dialog-description",className:"text-sm text-gray-600",children:"   "})]}),n&&s.jsx(C4e,{part:n,onSubmit:N=>p.mutate({id:n.id,data:N}),isLoading:p.isPending})]})}),s.jsx(ln,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(rn,{className:"max-w-md","aria-describedby":"delete-spare-part-dialog-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:" "}),s.jsx("div",{id:"delete-spare-part-dialog-description",className:"text-sm text-gray-600",children:"      "})]}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:["    ",s.jsx("strong",{children:d.part_id})," - ",d.part_name," ."]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:()=>f(null),children:""}),s.jsx(W,{variant:"destructive",onClick:w,disabled:g.isPending,children:g.isPending?" ...":""})]})]})]})})]})}function S4e({onSubmit:e,isLoading:t}){const{data:n}=$e({queryKey:["/api/spare-parts"]}),{data:r}=$e({queryKey:["/api/machines"]}),a=l=>{if(!Array.isArray(l))return"SP001";const c=l.map(d=>d.part_id).filter(d=>d&&d.match(/^SP\d+$/)).map(d=>parseInt(d.replace("SP",""))).filter(d=>!isNaN(d));return`SP${(c.length>0?Math.max(...c)+1:1).toString().padStart(3,"0")}`},i=Sr({defaultValues:{part_id:"SP001",machine_name:"",part_name:"",code:"",serial_number:"",specifications:""}});x.useEffect(()=>{if(n&&Array.isArray(n)){const l=a(n);l!==i.getValues("part_id")&&i.setValue("part_id",l)}},[n,i]);const o=l=>{e(l)};return s.jsx(Cr,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:i.control,name:"part_id",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{...l,disabled:!0,className:"bg-gray-100"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:i.control,name:"code",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"A8908",...l})}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:i.control,name:"machine_name",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsxs(Xe,{onValueChange:l.onChange,value:l.value,children:[s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})}),s.jsx(Ye,{children:Array.isArray(r)&&r.length>0?r.map(c=>s.jsxs(q,{value:c.id?`machine_${c.id}`:"unknown",children:[c.name_ar||c.name," (",c.id,")"]},c.id)):s.jsx(q,{value:"no_machines",children:"   "})})]})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:i.control,name:"part_name",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"",...l})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:i.control,name:"serial_number",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"E5SH973798",...l})}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:i.control,name:"specifications",render:({field:l})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{placeholder:" 380   10 ",...l})}),s.jsx(ke,{})]})}),s.jsx("div",{className:"flex justify-end gap-2 pt-4",children:s.jsx(W,{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?" ...":""})})]})})}function C4e({part:e,onSubmit:t,isLoading:n}){const{data:r}=$e({queryKey:["/api/machines"]}),a=Sr({defaultValues:{part_id:e.part_id||"",machine_name:e.machine_name||"",part_name:e.part_name||"",code:e.code||"",serial_number:e.serial_number||"",specifications:e.specifications||""}}),i=o=>{t(o)};return s.jsx(Cr,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:a.control,name:"part_id",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...o,disabled:!0,className:"bg-gray-100"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:a.control,name:"code",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"A8908",...o})}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:a.control,name:"machine_name",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsxs(Xe,{onValueChange:o.onChange,value:o.value,children:[s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})}),s.jsx(Ye,{children:Array.isArray(r)&&r.length>0?r.map(l=>s.jsxs(q,{value:l.id?`machine_${l.id}`:"unknown",children:[l.name_ar||l.name," (",l.id,")"]},l.id)):s.jsx(q,{value:"no_machines",children:"   "})})]})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:a.control,name:"part_name",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"",...o})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:a.control,name:"serial_number",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"E5SH973798",...o})}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:a.control,name:"specifications",render:({field:o})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{placeholder:" 380   10 ",...o})}),s.jsx(ke,{})]})}),s.jsx("div",{className:"flex justify-end gap-2 pt-4",children:s.jsx(W,{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white",children:n?" ...":""})})]})})}function P4e(){const[e,t]=x.useState("programs");return s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"       "})]})}),s.jsxs("div",{className:"flex gap-2 border-b",children:[s.jsxs(W,{variant:e==="programs"?"default":"ghost",onClick:()=>t("programs"),className:"rounded-b-none","data-testid":"tab-programs",children:[s.jsx(Ya,{className:"w-4 h-4 ml-2"})," "]}),s.jsxs(W,{variant:e==="enrollments"?"default":"ghost",onClick:()=>t("enrollments"),className:"rounded-b-none","data-testid":"tab-enrollments",children:[s.jsx(Ll,{className:"w-4 h-4 ml-2"}),""]}),s.jsxs(W,{variant:e==="evaluations"?"default":"ghost",onClick:()=>t("evaluations"),className:"rounded-b-none","data-testid":"tab-evaluations",children:[s.jsx(gy,{className:"w-4 h-4 ml-2"}),""]})]}),e==="programs"&&s.jsx(K,{children:s.jsxs(G,{className:"flex flex-col items-center justify-center p-8",children:[s.jsx(Ya,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500 text-center",children:"         "})]})}),e==="enrollments"&&s.jsx(K,{children:s.jsxs(G,{className:"flex flex-col items-center justify-center p-8",children:[s.jsx(Ll,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-center",children:"     "})]})}),e==="evaluations"&&s.jsx(K,{children:s.jsxs(G,{className:"flex flex-col items-center justify-center p-8",children:[s.jsx(gy,{className:"w-16 h-16 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-center",children:"        "})]})})]})}function E4e(){const[e,t]=x.useState(null),{data:n=[],isLoading:r}=$e({queryKey:["/api/hr/performance-reviews"],initialData:[]}),{data:a=[],isLoading:i}=$e({queryKey:["/api/hr/performance-criteria"],initialData:[]}),o=m=>{switch(m){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"draft":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"approved":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},l=m=>{switch(m){case"completed":return"";case"in_progress":return" ";case"draft":return"";case"approved":return"";default:return m}},c=m=>{switch(m){case"excellent":return"text-green-600 dark:text-green-400";case"very_good":return"text-blue-600 dark:text-blue-400";case"good":return"text-yellow-600 dark:text-yellow-400";case"needs_improvement":return"text-orange-600 dark:text-orange-400";case"unsatisfactory":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},u=m=>{switch(m){case"excellent":return"";case"very_good":return" ";case"good":return"";case"needs_improvement":return" ";case"unsatisfactory":return" ";default:return m}},d=m=>{switch(m){case"annual":return" ";case"quarterly":return"  ";case"project_based":return" ";case"probation":return"  ";default:return m}},f=m=>m>=90?"text-green-600 dark:text-green-400":m>=80?"text-blue-600 dark:text-blue-400":m>=70?"text-yellow-600 dark:text-yellow-400":m>=60?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",h=n.length>0?parseFloat((n.filter(m=>m.overall_score).reduce((m,v)=>m+(v.overall_score||0),0)/n.filter(m=>m.overall_score).length).toFixed(1)):0;return r||i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"   ..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"      "})]}),s.jsxs(W,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(kn,{className:"w-4 h-4 ml-2"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Jt(n.length)})]}),s.jsx(vo,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:`text-2xl font-bold ${f(h)}`,children:qc(h)})]}),s.jsx(eu,{className:"w-8 h-8 text-green-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Jt(n.filter(m=>m.status==="completed"||m.status==="approved").length)})]}),s.jsx(HZ,{className:"w-8 h-8 text-purple-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Jt(n.filter(m=>m.status==="in_progress").length)})]}),s.jsx(Po,{className:"w-8 h-8 text-orange-600"})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(gy,{className:"w-5 h-5"}),"  "]})}),s.jsxs(G,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(m=>s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium",children:m.name_ar||m.name}),s.jsx(ge,{variant:"outline",children:qc(m.weight)})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description_ar||m.description||"  "}),s.jsx("div",{className:"mt-2",children:s.jsx(ge,{variant:"secondary",className:"text-xs",children:m.category})})]},m.id))}),a.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gy,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "}),s.jsx(W,{variant:"outline",className:"mt-2",children:"  "})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(m=>s.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(oe,{className:"text-lg mb-1",children:d(m.review_type)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Fl,{className:"w-4 h-4"}),s.jsxs("span",{children:["  ",m.employee_id]})]})]}),s.jsx(ge,{className:o(m.status),children:l(m.status)})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:" "}),s.jsxs("p",{className:"font-medium",children:[new Date(m.review_period_start).toLocaleDateString("ar")," -",new Date(m.review_period_end).toLocaleDateString("ar")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:""}),s.jsxs("p",{className:"font-medium",children:["  ",m.reviewer_id]})]})]}),m.overall_score&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("span",{className:`font-bold ${f(m.overall_score)}`,children:qc(m.overall_score)})]}),s.jsx(va,{value:m.overall_score,className:"h-2"})]}),m.overall_rating&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx(ge,{className:`${c(m.overall_rating)} bg-transparent border`,children:u(m.overall_rating)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(Jc,{className:"w-3 h-3"}),s.jsxs("span",{children:[" : ",new Date(m.created_at).toLocaleDateString("ar")]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(W,{size:"sm",className:"flex-1",onClick:()=>t(m.id),children:" "}),s.jsx(W,{size:"sm",variant:"outline",className:"flex-1",children:""})]})]})]},m.id))}),n.length===0&&s.jsx(K,{children:s.jsxs(G,{className:"p-12 text-center",children:[s.jsx(vo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"   "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"       "}),s.jsxs(W,{className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(kn,{className:"w-4 h-4 ml-2"}),"  "]})]})})]})}function k4e(){const[e,t]=x.useState(null),[n,r]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(""),[c,u]=x.useState("approve"),{toast:d}=Sn(),f=qn(),{data:h=[],isLoading:m,error:v,refetch:p,isFetching:g}=$e({queryKey:["/api/user-requests"],initialData:[],refetchOnWindowFocus:!1,staleTime:0,retry:3,enabled:!0});console.log("User requests data:",h),console.log("Loading state:",m),console.log("Is fetching:",g),console.log("Error state:",v),D.useEffect(()=>{console.log("LeaveManagement component mounted, forcing refetch..."),f.invalidateQueries({queryKey:["/api/user-requests"]})},[f]);const y=async()=>{try{console.log("Testing manual API call...");const $=await fetch("/api/user-requests",{credentials:"include"}),R=await $.json();console.log("Manual API response:",R),console.log("Response status:",$.status),console.log("Response headers:",Array.from($.headers.entries()))}catch($){console.error("Manual API error:",$)}},{data:b=[],isLoading:j}=$e({queryKey:["/api/users"],initialData:[]}),w=et({mutationFn:async({id:$,status:R,comments:M})=>await Qt(`/api/user-requests/${$}`,{method:"PATCH",body:JSON.stringify({status:R,manager_comments:M})}),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user-requests"]}),i(!1),l(""),d({title:"   ",description:"   /"})},onError:()=>{d({title:"   ",description:"     ",variant:"destructive"})}}),N=$=>{if(!$)return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";const R=$.toLowerCase();return R==="approved"||$===" "||$===""?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":R==="rejected"||$===""?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":R==="pending"||$===""||$===" "?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},S=$=>{if(!$)return $;const R=$.toLowerCase();return R==="approved"||$===" "||$===""?" ":R==="rejected"||$===""?"":R==="pending"||$===""||$===" "?" ":$},_=$=>{if(!$)return s.jsx(cr,{className:"w-4 h-4"});const R=$.toLowerCase();return R==="approved"||$===" "||$===""?s.jsx(It,{className:"w-4 h-4"}):R==="rejected"||$===""?s.jsx(Zr,{className:"w-4 h-4"}):R==="pending"||$===""||$===" "?s.jsx(Ga,{className:"w-4 h-4"}):s.jsx(cr,{className:"w-4 h-4"})},C=$=>{switch($.toLowerCase()){case"high":case"":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":case"":case"":case"":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":case"":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},E=$=>{switch($.toLowerCase()){case"high":case"":return"";case"medium":case"":case"":case"":return"";case"low":case"":return"";default:return $}},P=($,R)=>{t($),u(R),i(!0)},A=()=>{e&&w.mutate({id:e.id,status:c,comments:o})},O=$=>{if(!Array.isArray(b)||b.length===0)return` ${$}`;const R=b.find(M=>M.id===$);return R?R.display_name_ar||R.display_name||R.username:` ${$}`};if(m||j)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"   ..."})]})});const I=Array.isArray(h)?h.filter($=>{var M;return((M=$.status)==null?void 0:M.toLowerCase())==="pending"||$.status===""||$.status===" "}):[],F=Array.isArray(h)?h.filter($=>{var M;return((M=$.status)==null?void 0:M.toLowerCase())==="approved"||$.status===" "||$.status===""}):[],B=Array.isArray(h)?h.filter($=>{var M;return((M=$.status)==null?void 0:M.toLowerCase())==="rejected"||$.status===""}):[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{onClick:y,variant:"outline",className:"text-sm",children:" API"}),s.jsx(W,{onClick:()=>p(),variant:"outline",className:"text-sm",children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(h)?h.length:0})]}),s.jsx(YZ,{className:"w-8 h-8 text-blue-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.length})]}),s.jsx(cr,{className:"w-8 h-8 text-yellow-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:F.length})]}),s.jsx(It,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:""}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:B.length})]}),s.jsx(Zr,{className:"w-8 h-8 text-red-500"})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Jc,{className:"w-5 h-5"}),"  "]})}),s.jsx(G,{children:m?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"  ..."})]}):!Array.isArray(h)||h.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(Jc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"   "}),v&&s.jsxs("p",{className:"text-red-500 mt-2",children:["   : ",String(v)]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-gray-50 dark:bg-gray-800",children:[s.jsx("th",{className:"text-right p-3 font-semibold",children:""}),s.jsx("th",{className:"text-right p-3 font-semibold",children:" "}),s.jsx("th",{className:"text-right p-3 font-semibold",children:""}),s.jsx("th",{className:"text-right p-3 font-semibold",children:""}),s.jsx("th",{className:"text-right p-3 font-semibold",children:""}),s.jsx("th",{className:"text-right p-3 font-semibold",children:" "}),s.jsx("th",{className:"text-center p-3 font-semibold",children:""})]})}),s.jsx("tbody",{children:Array.isArray(h)&&h.map($=>{var R;return s.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:O($.user_id)})]})}),s.jsx("td",{className:"p-3",children:s.jsx(ge,{variant:"outline",className:"bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:$.type})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"text-sm font-medium",children:$.title})}),s.jsx("td",{className:"p-3",children:s.jsx(ge,{className:C($.priority),children:E($.priority)})}),s.jsx("td",{className:"p-3",children:s.jsx(ge,{className:N($.status),children:s.jsxs("span",{className:"flex items-center gap-1",children:[_($.status),S($.status)]})})}),s.jsx("td",{className:"p-3 text-sm text-gray-600 dark:text-gray-400",children:new Date($.created_at).toLocaleDateString("ar")}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsxs(W,{size:"sm",variant:"outline",className:"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900 dark:text-blue-300",onClick:()=>{t($),r(!0)},children:[s.jsx(Wd,{className:"w-4 h-4 mr-1"}),""]}),(((R=$.status)==null?void 0:R.toLowerCase())==="pending"||$.status===""||$.status===" ")&&s.jsxs(s.Fragment,{children:[s.jsxs(W,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>P($,"approve"),children:[s.jsx(qd,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(W,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>P($,"reject"),children:[s.jsx(Pm,{className:"w-4 h-4 mr-1"}),""]})]})]})})]},$.id)})})]})})})]}),s.jsx(ln,{open:n,onOpenChange:r,children:s.jsxs(rn,{className:"max-w-2xl",children:[s.jsxs(sn,{children:[s.jsx(an,{children:" "}),s.jsx(jn,{children:"     "})]}),e&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:":"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O(e.user_id)})]}),s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:" :"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]}),s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:":"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.title})]}),s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:":"}),s.jsx(ge,{className:C(e.priority),children:E(e.priority)})]}),e.start_date&&s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:" :"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(e.start_date).toLocaleDateString("ar")})]}),e.end_date&&s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:" :"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(e.end_date).toLocaleDateString("ar")})]}),e.requested_amount&&s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:" :"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.requested_amount," "]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:":"}),s.jsx(ge,{className:N(e.status),children:S(e.status)})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:":"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.description})]}),e.manager_comments&&s.jsxs("div",{children:[s.jsx(de,{className:"font-semibold",children:" :"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.manager_comments})]})]})]})}),s.jsx(ln,{open:a,onOpenChange:i,children:s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:c==="approve"?"  ":" "}),s.jsx(jn,{children:c==="approve"?"       ":"      "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"comments",children:" ():"}),s.jsx(rr,{id:"comments",placeholder:"   ...",value:o,onChange:$=>l($.target.value),className:"mt-1"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(W,{variant:"outline",onClick:()=>i(!1),children:""}),s.jsx(W,{onClick:A,disabled:w.isPending,className:c==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:w.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})," ..."]}):s.jsx(s.Fragment,{children:c==="approve"?s.jsxs(s.Fragment,{children:[s.jsx(qd,{className:"w-4 h-4 mr-1"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(Pm,{className:"w-4 h-4 mr-1"}),""]})})})]})]})]})})]})}function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ms(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ls(e,t){const n=Dt(e);return isNaN(t)?Ms(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function si(e,t){const n=Dt(e);if(isNaN(t))return Ms(e,NaN);if(!t)return n;const r=n.getDate(),a=Ms(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const fP=6048e5,A4e=864e5,ug=43200,L$=1440;let O4e={};function sh(){return O4e}function Li(e,t){var l,c,u,d;const n=sh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function pu(e){return Li(e,{weekStartsOn:1})}function E7(e){const t=Dt(e),n=t.getFullYear(),r=Ms(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=pu(r),i=Ms(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=pu(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Pf(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function Ef(e){const t=Dt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _i(e,t){const n=Pf(e),r=Pf(t),a=+n-Ef(n),i=+r-Ef(r);return Math.round((a-i)/A4e)}function T4e(e){const t=E7(e),n=Ms(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),pu(n)}function X1(e,t){const n=t*7;return ls(e,n)}function M4e(e,t){return si(e,t*12)}function $4e(e){let t;return e.forEach(function(n){const r=Dt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function D4e(e){let t;return e.forEach(n=>{const r=Dt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Bg(e,t){const n=Dt(e),r=Dt(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function I4e(e){return Ms(e,Date.now())}function Ps(e,t){const n=Pf(e),r=Pf(t);return+n==+r}function hP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function R4e(e){if(!hP(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function kf(e,t){const n=Dt(e),r=Dt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function F4e(e,t,n){const r=Li(e,n),a=Li(t,n),i=+r-Ef(r),o=+a-Ef(a);return Math.round((i-o)/fP)}function L4e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function B4e(e,t){return+Dt(e)-+Dt(t)}function z4e(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function Ub(e){const t=Dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function q4e(e){const t=Dt(e);return+z4e(t)==+Ub(t)}function W4e(e,t){const n=Dt(e),r=Dt(t),a=Bg(n,r),i=Math.abs(kf(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=Bg(n,r)===-a;q4e(Dt(e))&&i===1&&Bg(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function U4e(e,t,n){const r=B4e(e,t)/1e3;return L4e(n==null?void 0:n.roundingMethod)(r)}function Ts(e){const t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function k7(e){const t=Dt(e),n=Ms(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mP(e,t){var l,c,u,d;const n=sh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function A7(e){return mP(e,{weekStartsOn:1})}const V4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K4e=(e,t,n)=>{let r;const a=V4e[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const H4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q4e={date:jd({formats:H4e,defaultWidth:"full"}),time:jd({formats:G4e,defaultWidth:"full"}),dateTime:jd({formats:Y4e,defaultWidth:"full"})},X4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z4e=(e,t,n,r)=>X4e[e];function yi(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const J4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eDe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tDe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nDe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sDe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aDe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iDe={ordinalNumber:aDe,era:yi({values:J4e,defaultWidth:"wide"}),quarter:yi({values:eDe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yi({values:tDe,defaultWidth:"wide"}),day:yi({values:nDe,defaultWidth:"wide"}),dayPeriod:yi({values:rDe,defaultWidth:"wide",formattingValues:sDe,defaultFormattingWidth:"wide"})};function vi(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lDe(l,f=>f.test(o)):oDe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function oDe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function lDe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function O7(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const cDe=/^(\d+)(th|st|nd|rd)?/i,uDe=/\d+/i,dDe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fDe={any:[/^b/i,/^(a|c)/i]},hDe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mDe={any:[/1/i,/2/i,/3/i,/4/i]},pDe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xDe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gDe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yDe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vDe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bDe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jDe={ordinalNumber:O7({matchPattern:cDe,parsePattern:uDe,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:dDe,defaultMatchWidth:"wide",parsePatterns:fDe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:hDe,defaultMatchWidth:"wide",parsePatterns:mDe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:pDe,defaultMatchWidth:"wide",parsePatterns:xDe,defaultParseWidth:"any"}),day:vi({matchPatterns:gDe,defaultMatchWidth:"wide",parsePatterns:yDe,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:vDe,defaultMatchWidth:"any",parsePatterns:bDe,defaultParseWidth:"any"})},pP={code:"en-US",formatDistance:K4e,formatLong:Q4e,formatRelative:Z4e,localize:iDe,match:jDe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wDe(e){const t=Dt(e);return _i(t,k7(t))+1}function T7(e){const t=Dt(e),n=+pu(t)-+T4e(t);return Math.round(n/fP)+1}function M7(e,t){var d,f,h,m;const n=Dt(e),r=n.getFullYear(),a=sh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ms(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Li(o,t),c=Ms(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Li(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function _De(e,t){var l,c,u,d;const n=sh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=M7(e,t),i=Ms(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Li(i,t)}function $7(e,t){const n=Dt(e),r=+Li(n,t)-+_De(n,t);return Math.round(r/fP)+1}function xn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ko={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xn(n+1,2)},d(e,t){return xn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xn(e.getHours()%12||12,t.length)},H(e,t){return xn(e.getHours(),t.length)},m(e,t){return xn(e.getMinutes(),t.length)},s(e,t){return xn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return xn(a,t.length)}},Lu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B$={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ko.y(e,t)},Y:function(e,t,n,r){const a=M7(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return xn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):xn(i,t.length)},R:function(e,t){const n=E7(e);return xn(n,t.length)},u:function(e,t){const n=e.getFullYear();return xn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ko.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=$7(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):xn(a,t.length)},I:function(e,t,n){const r=T7(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ko.d(e,t)},D:function(e,t,n){const r=wDe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return xn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return xn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return xn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Lu.noon:r===0?a=Lu.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Lu.evening:r>=12?a=Lu.afternoon:r>=4?a=Lu.morning:a=Lu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ko.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ko.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ko.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ko.s(e,t)},S:function(e,t){return Ko.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return q$(r);case"XXXX":case"XX":return yc(r);case"XXXXX":case"XXX":default:return yc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return q$(r);case"xxxx":case"xx":return yc(r);case"xxxxx":case"xxx":default:return yc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+z$(r,":");case"OOOO":default:return"GMT"+yc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+z$(r,":");case"zzzz":default:return"GMT"+yc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xn(r,t.length)},T:function(e,t,n){const r=e.getTime();return xn(r,t.length)}};function z$(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+xn(i,2)}function q$(e,t){return e%60===0?(e>0?"-":"+")+xn(Math.abs(e)/60,2):yc(e,t)}function yc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=xn(Math.trunc(r/60),2),i=xn(r%60,2);return n+a+t+i}const W$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},D7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NDe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return W$(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",W$(r,t)).replace("{{time}}",D7(a,t))},SDe={p:D7,P:NDe},CDe=/^D+$/,PDe=/^Y+$/,EDe=["D","DD","YY","YYYY"];function kDe(e){return CDe.test(e)}function ADe(e){return PDe.test(e)}function ODe(e,t,n){const r=TDe(e,t,n);if(console.warn(r),EDe.includes(e))throw new RangeError(r)}function TDe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$De=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DDe=/^'([^]*?)'?$/,IDe=/''/g,RDe=/[a-zA-Z]/;function nn(e,t,n){var d,f,h,m,v,p,g,y;const r=sh(),a=(n==null?void 0:n.locale)??r.locale??pP,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(g=r.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Dt(e);if(!R4e(l))throw new RangeError("Invalid time value");let c=t.match($De).map(b=>{const j=b[0];if(j==="p"||j==="P"){const w=SDe[j];return w(b,a.formatLong)}return b}).join("").match(MDe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:FDe(b)};if(B$[j])return{isToken:!0,value:b};if(j.match(RDe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ADe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&kDe(j))&&ODe(j,t,String(e));const w=B$[j[0]];return w(l,j,a.localize,u)}).join("")}function FDe(e){const t=e.match(DDe);return t?t[1].replace(IDe,"'"):e}function LDe(e,t,n){const r=sh(),a=(n==null?void 0:n.locale)??r.locale??pP,i=2520,o=Bg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const d=U4e(u,c),f=(Ef(u)-Ef(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<L$){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<ug){const v=Math.round(h/L$);return a.formatDistance("xDays",v,l)}else if(h<ug*2)return m=Math.round(h/ug),a.formatDistance("aboutXMonths",m,l)}if(m=W4e(u,c),m<12){const v=Math.round(h/ug);return a.formatDistance("xMonths",v,l)}else{const v=m%12,p=Math.trunc(m/12);return v<3?a.formatDistance("aboutXYears",p,l):v<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function BDe(e,t){return LDe(e,I4e(e),t)}function zDe(e){const t=Dt(e),n=t.getFullYear(),r=t.getMonth(),a=Ms(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function qDe(e){return Math.trunc(+Dt(e)/1e3)}function WDe(e){const t=Dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function UDe(e,t){return F4e(WDe(e),Ts(e),t)+1}function Z1(e,t){const n=Dt(e),r=Dt(t);return n.getTime()>r.getTime()}function I7(e,t){const n=Dt(e),r=Dt(t);return+n<+r}function xP(e,t){const n=Dt(e),r=Dt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function VDe(e,t){const n=Dt(e),r=Dt(t);return n.getFullYear()===r.getFullYear()}function Cw(e,t){return ls(e,-t)}function Pw(e,t){const n=Dt(e),r=n.getFullYear(),a=n.getDate(),i=Ms(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=zDe(i);return n.setMonth(t,Math.min(a,o)),n}function U$(e,t){const n=Dt(e);return isNaN(+n)?Ms(e,NaN):(n.setFullYear(t),n)}const KDe=ie.object({user_id:ie.number(),status:ie.string().min(1," "),notes:ie.string().optional()});function HDe(){const[e,t]=x.useState(!1),[n,r]=x.useState(null),{toast:a}=Sn(),i=qn(),o=Sr({resolver:Qr(KDe),defaultValues:{user_id:void 0,status:"",notes:""}}),{data:l=[],isLoading:c}=$e({queryKey:["/api/attendance"],queryFn:async()=>{const y=await fetch("/api/attendance");if(!y.ok)throw new Error("    ");return y.json()}}),{data:u=[]}=$e({queryKey:["/api/users"],queryFn:async()=>{const y=await fetch("/api/users");if(!y.ok)throw new Error("    ");return y.json()}}),d=et({mutationFn:async y=>{const b=n?`/api/attendance/${n.id}`:"/api/attendance",w=await fetch(b,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!w.ok)throw new Error("    ");return w.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/attendance"]}),t(!1),r(null),o.reset(),a({title:"  ",description:n?"   ":"   "})},onError:y=>{a({title:"",description:y instanceof Error?y.message:"   ",variant:"destructive"})}}),f=y=>{d.mutate(y)},h=y=>{r(y),o.setValue("user_id",y.user_id),o.setValue("status",y.status),o.setValue("notes",y.notes||""),t(!0)},m=()=>{r(null),o.reset(),t(!0)},v=y=>{const b={:{label:"",variant:"default",icon:Ek,color:"bg-green-100 text-green-800"},:{label:"",variant:"destructive",icon:kk,color:"bg-red-100 text-red-800"}," ":{label:" ",variant:"secondary",icon:wk,color:"bg-orange-100 text-orange-800"},:{label:"",variant:"outline",icon:_k,color:"bg-gray-100 text-gray-800"}},j=b[y]||b.,w=j.icon;return s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${j.color}`,children:[s.jsx(w,{className:"h-4 w-4"}),j.label]})},p=l.filter(y=>{const b=new Date().toISOString().split("T")[0];return(y.date||new Date(y.created_at).toISOString().split("T")[0])===b}),g=u.map(y=>{const b=p.find(j=>j.user_id===y.id);return{...y,attendance:b||{status:"",user_id:y.id}}});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),s.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]}),s.jsxs(ln,{open:e,onOpenChange:t,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:m,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{children:[s.jsxs(sn,{children:[s.jsx(an,{children:n?"  ":"  "}),s.jsx(jn,{children:n?"     ":"      "})]}),s.jsx(Cr,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-4",children:[s.jsx(Ee,{control:o.control,name:"user_id",render:({field:y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:b=>y.onChange(parseInt(b)),value:y.value!==void 0?y.value.toString():"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:u.map(b=>s.jsx(q,{value:b.id.toString(),children:b.display_name_ar||b.username},b.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:o.control,name:"status",render:({field:y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:y.onChange,value:y.value,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:"",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:o.control,name:"notes",render:({field:y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{...y,placeholder:"  ()"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(W,{type:"submit",className:"flex-1",disabled:d.isPending,children:d.isPending?" ...":""}),s.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",children:""})]})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ek,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"mr-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.filter(y=>y.attendance.status==="").length})]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(kk,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{className:"mr-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:g.filter(y=>y.attendance.status==="").length})]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wk,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"mr-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:g.filter(y=>y.attendance.status===" ").length})]})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_k,{className:"h-8 w-8 text-gray-600"}),s.jsxs("div",{className:"mr-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),s.jsx("p",{className:"text-2xl font-bold text-gray-600",children:g.filter(y=>y.attendance.status==="").length})]})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{children:["  - ",nn(new Date,"dd/MM/yyyy")]})}),s.jsx(G,{children:s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{children:[s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""})]})}),s.jsx(uu,{children:c?s.jsx(us,{children:s.jsx(St,{colSpan:6,className:"text-center py-8",children:"  ..."})}):g.length===0?s.jsx(us,{children:s.jsx(St,{colSpan:6,className:"text-center py-8",children:"   "})}):g.map(y=>s.jsxs(us,{children:[s.jsx(St,{className:"font-medium text-center",children:y.display_name_ar||y.display_name||y.username}),s.jsx(St,{className:"text-center text-gray-500",children:y.username}),s.jsx(St,{className:"text-center",children:v(y.attendance.status)}),s.jsx(St,{className:"text-center",children:y.attendance.notes||"-"}),s.jsx(St,{className:"text-center",children:y.attendance.updated_at?nn(new Date(y.attendance.updated_at),"HH:mm"):"-"}),s.jsx(St,{className:"text-center",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>h(y.attendance),children:s.jsx(Hr,{className:"h-4 w-4"})})})]},y.id))})]})})]})]})}function GDe(){return s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"   "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"     "})]}),s.jsxs(Is,{defaultValue:"attendance",className:"w-full",children:[s.jsxs(vs,{className:"grid w-full grid-cols-4 bg-gray-100 dark:bg-gray-800",children:[s.jsxs(mt,{value:"attendance",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700",children:[s.jsx(cr,{className:"w-4 h-4"})," "]}),s.jsxs(mt,{value:"training",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700",children:[s.jsx(tJ,{className:"w-4 h-4"})," "]}),s.jsxs(mt,{value:"performance",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700",children:[s.jsx(vo,{className:"w-4 h-4"})," "]}),s.jsxs(mt,{value:"leaves",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700",children:[s.jsx(Jc,{className:"w-4 h-4"})," "]})]}),s.jsx(ct,{value:"attendance",className:"space-y-4",children:s.jsx(HDe,{})}),s.jsx(ct,{value:"training",className:"space-y-4",children:s.jsx(P4e,{})}),s.jsx(ct,{value:"performance",className:"space-y-4",children:s.jsx(E4e,{})}),s.jsx(ct,{value:"leaves",className:"space-y-4",children:s.jsx(k4e,{})})]})]})}function YDe(){return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsx("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:s.jsx(GDe,{})})]})]})}const QDe=ie.object({material_group_id:ie.string().min(1,"  "),item_id:ie.string().min(1," "),location_id:ie.string().transform(e=>parseInt(e)),current_stock:ie.string().transform(e=>parseFloat(e)),unit:ie.string().min(1," ")}),XDe=ie.object({name:ie.string().min(1,"  "),name_ar:ie.string().min(1,"  "),coordinates:ie.string().optional(),tolerance_range:ie.string().optional().transform(e=>e?parseInt(e):void 0)}),ZDe=ie.object({inventory_id:ie.string().transform(e=>parseInt(e)),movement_type:ie.string().min(1,"  "),quantity:ie.string().transform(e=>parseFloat(e)),reference_number:ie.string().optional(),reference_type:ie.string().optional(),notes:ie.string().optional()});function JDe(){const[e,t]=x.useState(""),[n,r]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(null),[v,p]=x.useState(""),g=qn(),{toast:y}=Sn(),{data:b=[],isLoading:j}=$e({queryKey:["/api/inventory"],queryFn:async()=>{const H=await fetch("/api/inventory");if(!H.ok)throw new Error("    ");return H.json()}}),{data:w}=$e({queryKey:["/api/inventory/stats"],queryFn:async()=>{const H=await fetch("/api/inventory/stats");if(!H.ok)throw new Error("    ");return H.json()}}),{data:N=[]}=$e({queryKey:["/api/items"],queryFn:async()=>{const H=await fetch("/api/items");if(!H.ok)throw new Error("   ");return H.json()}}),{data:S=[],isLoading:_}=$e({queryKey:["/api/locations"],queryFn:async()=>{const H=await fetch("/api/locations");if(!H.ok)throw new Error("   ");return H.json()}}),{data:C=[]}=$e({queryKey:["/api/material-groups"],queryFn:async()=>{const H=await fetch("/api/material-groups");if(!H.ok)throw new Error("    ");return H.json()}}),{data:E=[],isLoading:P}=$e({queryKey:["/api/inventory-movements"],queryFn:async()=>{const H=await fetch("/api/inventory-movements");if(!H.ok)throw new Error("    ");return H.json()}}),A=et({mutationFn:async H=>{const Y=c?`/api/inventory/${c.id}`:"/api/inventory",Z=await fetch(Y,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!Z.ok)throw new Error("   ");return Z.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/inventory"]}),g.invalidateQueries({queryKey:["/api/inventory/stats"]}),r(!1),u(null),y({title:"  ",description:c?"   ":"   "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),O=et({mutationFn:async H=>{const Y=await fetch(`/api/inventory/${H}`,{method:"DELETE"});if(!Y.ok)throw new Error("  ");return Y.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/inventory"]}),g.invalidateQueries({queryKey:["/api/inventory/stats"]}),y({title:"  ",description:"   "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),I=et({mutationFn:async H=>{const Y=d?`/api/locations/${d.id}`:"/api/locations",Z=await fetch(Y,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!Z.ok)throw new Error("   ");return Z.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/locations"]}),i(!1),f(null),y({title:"  ",description:d?"  ":"  "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),F=et({mutationFn:async H=>{const Y=await fetch(`/api/locations/${H}`,{method:"DELETE"});if(!Y.ok)throw new Error("  ");return Y.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/locations"]}),y({title:"  ",description:"  "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),B=et({mutationFn:async H=>{const Y=await fetch("/api/inventory-movements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...H,created_by:1})});if(!Y.ok)throw new Error("   ");return Y.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/inventory-movements"]}),g.invalidateQueries({queryKey:["/api/inventory"]}),g.invalidateQueries({queryKey:["/api/inventory/stats"]}),l(!1),y({title:"  ",description:"   "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),$=et({mutationFn:async H=>{const Y=await fetch(`/api/inventory-movements/${H}`,{method:"DELETE"});if(!Y.ok)throw new Error("  ");return Y.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/inventory-movements"]}),y({title:"  ",description:"  "})},onError:()=>{y({title:"",description:"   ",variant:"destructive"})}}),R=Sr({resolver:Qr(QDe),defaultValues:{material_group_id:"",item_id:"",location_id:"",current_stock:"",unit:""}}),M=Sr({resolver:Qr(XDe),defaultValues:{name:"",name_ar:"",coordinates:"",tolerance_range:""}}),T=Sr({resolver:Qr(ZDe),defaultValues:{inventory_id:"",movement_type:"",quantity:"",reference_number:"",reference_type:"",notes:""}}),J=R.watch("material_group_id");x.useEffect(()=>{var H,Y;if(S.length>0&&b.length>0&&!v){const L=S.find(Z=>b.some(Be=>{var Ke,st;return((Ke=Be.location_id)==null?void 0:Ke.toString())===((st=Z.id)==null?void 0:st.toString())}));p(L?((H=L.id)==null?void 0:H.toString())||"":((Y=S[0].id)==null?void 0:Y.toString())||"")}},[S,b,v]);const re=N.filter(H=>!J||H.category_id===J),X=H=>b.filter(Y=>{var L;return((L=Y.location_id)==null?void 0:L.toString())===H&&((Y.item_name_ar||"").toLowerCase().includes(e.toLowerCase())||(Y.item_code||"").toLowerCase().includes(e.toLowerCase())||(Y.category_name_ar||"").toLowerCase().includes(e.toLowerCase()))});b.filter(H=>(H.item_name_ar||"").toLowerCase().includes(e.toLowerCase())||(H.item_code||"").toLowerCase().includes(e.toLowerCase())||(H.category_name_ar||"").toLowerCase().includes(e.toLowerCase()));const ye=H=>{var Y,L,Z;u(H),R.reset({material_group_id:((Y=H.material_group_id)==null?void 0:Y.toString())||"",item_id:H.item_id,location_id:((L=H.location_id)==null?void 0:L.toString())||"",current_stock:((Z=H.current_stock)==null?void 0:Z.toString())||"0",unit:H.unit||""}),r(!0)},Re=()=>{u(null),R.reset({material_group_id:"",item_id:"",location_id:"",current_stock:"",unit:""}),r(!0)},Je=H=>{A.mutate(H)},lt=H=>{I.mutate(H)},je=H=>{var L;const Y={...H,quantity:((L=H.quantity)==null?void 0:L.toString())||"0",inventory_id:parseInt(H.inventory_id)};B.mutate(Y)},Oe=()=>{f(null),M.reset({name:"",name_ar:"",coordinates:"",tolerance_range:""}),i(!0)},ce=H=>{var Y;f(H),M.reset({name:H.name||"",name_ar:H.name_ar||"",coordinates:H.coordinates||"",tolerance_range:((Y=H.tolerance_range)==null?void 0:Y.toString())||""}),i(!0)},_e=()=>{m(null),T.reset({inventory_id:"",movement_type:"",quantity:"",reference_number:"",reference_type:"",notes:""}),l(!0)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"      "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(w==null?void 0:w.totalItems)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(cn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:(w==null?void 0:w.lowStockItems)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(Po,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w!=null&&w.totalValue?`${Number(w.totalValue).toLocaleString()} .`:"0 ."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(y0,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(w==null?void 0:w.movementsToday)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),s.jsxs(Is,{defaultValue:v||"production-hall",className:"space-y-4",children:[s.jsxs(vs,{className:"flex flex-wrap w-full justify-start",children:[s.jsx(mt,{value:"production-hall",className:"shrink-0",children:" "}),s.jsx(mt,{value:"received-quantities",className:"shrink-0",children:" "}),S.map(H=>s.jsx(mt,{value:H.id.toString(),className:"shrink-0",children:H.name_ar||H.name},H.id)),s.jsx(mt,{value:"movements",className:"shrink-0",children:" "}),s.jsx(mt,{value:"locations",className:"shrink-0",children:" "}),s.jsx(mt,{value:"reports",className:"shrink-0",children:""})]}),s.jsx(ct,{value:"production-hall",className:"space-y-4",children:s.jsx(eIe,{})}),s.jsx(ct,{value:"received-quantities",className:"space-y-4",children:s.jsx(tIe,{})}),S.map(H=>s.jsx(ct,{value:H.id.toString(),className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{children:[" ",H.name_ar||H.name]}),s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"  ...",value:e,onChange:Y=>t(Y.target.value),className:"pl-10 w-64"})]}),s.jsxs(ln,{open:n,onOpenChange:r,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:Re,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:c?"  ":"   "}),s.jsx(jn,{children:c?"     ":"      "})]}),s.jsx(Cr,{...R,children:s.jsxs("form",{onSubmit:R.handleSubmit(Je),className:"space-y-4",children:[s.jsx(Ee,{control:R.control,name:"material_group_id",render:({field:Y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:L=>{Y.onChange(L),R.setValue("item_id","")},value:Y.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsx(Ye,{children:C.map(L=>s.jsx(q,{value:L.id.toString(),children:L.name_ar||L.name},L.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:R.control,name:"item_id",render:({field:Y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:Y.onChange,value:Y.value??"",disabled:!J,children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:J?" ":"   "})})}),s.jsx(Ye,{children:re.filter(L=>L.id&&L.id!==""&&L.id!==null&&L.id!==void 0).map(L=>s.jsxs(q,{value:L.id.toString(),children:[L.name_ar," (",L.code,")"]},L.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:R.control,name:"location_id",render:({field:Y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:Y.onChange,value:Y.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:S.map(L=>s.jsx(q,{value:L.id.toString(),children:L.name_ar},L.id))})]}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:R.control,name:"current_stock",render:({field:Y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...Y,type:"number",step:"0.01"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:R.control,name:"unit",render:({field:Y})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:Y.onChange,value:Y.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>r(!1),children:""}),s.jsx(W,{type:"submit",disabled:A.isPending,children:A.isPending?" ...":""})]})]})})]})]})]})]})}),s.jsx(G,{children:j?s.jsx("div",{className:"text-center py-8",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X(H.id.toString()).length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:e?"   ":"     "})}):X(H.id.toString()).map(Y=>{const L=parseFloat(Y.current_stock||0);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.item_name_ar||Y.item_name}),s.jsx("div",{className:"text-sm text-gray-500",children:Y.item_code})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Y.category_name_ar||Y.category_name||"-"}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[L.toLocaleString()," ",Y.unit]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>ye(Y),children:s.jsx(Hr,{className:"h-3 w-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>O.mutate(Y.id),disabled:O.isPending,children:s.jsx(ya,{className:"h-3 w-3"})})]})})]},Y.id)})})]})})})]})},H.id)),s.jsx(ct,{value:"movements",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(oe,{children:" "}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:" "})]}),s.jsxs(ln,{open:o,onOpenChange:l,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:_e,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"   "}),s.jsx(jn,{children:"     "})]}),s.jsx(Cr,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(je),className:"space-y-4",children:[s.jsx(Ee,{control:T.control,name:"inventory_id",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:H.onChange,value:H.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:b.map(Y=>s.jsxs(q,{value:Y.id.toString(),children:[Y.item_name_ar," - ",Y.location_name_ar]},Y.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:T.control,name:"movement_type",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:H.onChange,value:H.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"  "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"in",children:""}),s.jsx(q,{value:"out",children:""}),s.jsx(q,{value:"transfer",children:""}),s.jsx(q,{value:"adjustment",children:""})]})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:T.control,name:"quantity",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...H,type:"number",step:"0.01"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:T.control,name:"reference_number",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{...H,placeholder:"PO-001"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:T.control,name:"reference_type",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:H.onChange,value:H.value??"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"purchase",children:""}),s.jsx(q,{value:"sale",children:""}),s.jsx(q,{value:"production",children:""}),s.jsx(q,{value:"adjustment",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsx(Ee,{control:T.control,name:"notes",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...H,placeholder:" "})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{type:"submit",disabled:B.isPending,children:B.isPending?" ...":""})]})]})})]})]})]})}),s.jsx(G,{children:P?s.jsx("div",{className:"text-center py-8",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"    "})}):E.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.item_name}),s.jsx("div",{className:"text-sm text-gray-500",children:H.item_code})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(ge,{variant:H.movement_type==="in"?"default":H.movement_type==="out"?"destructive":"secondary",children:H.movement_type==="in"?"":H.movement_type==="out"?"":H.movement_type==="transfer"?"":""})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:parseFloat(H.quantity).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:H.reference_number||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(H.created_at).toLocaleDateString("en-GB")}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:H.user_name||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>$.mutate(H.id),disabled:$.isPending,children:s.jsx(ya,{className:"h-3 w-3"})})})]},H.id))})]})})})]})}),s.jsx(ct,{value:"locations",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(oe,{children:" "}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"   "})]}),s.jsxs(ln,{open:a,onOpenChange:i,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:Oe,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:d?" ":"  "}),s.jsx(jn,{children:d?"   ":"    "})]}),s.jsx(Cr,{...M,children:s.jsxs("form",{onSubmit:M.handleSubmit(lt),className:"space-y-4",children:[s.jsx(Ee,{control:M.control,name:"name",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{...H,placeholder:"Main Warehouse"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:M.control,name:"name_ar",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{...H,placeholder:" "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:M.control,name:"coordinates",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(fe,{...H,placeholder:"24.7136, 46.6753"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:M.control,name:"tolerance_range",render:({field:H})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{...H,type:"number",placeholder:"100"})}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>i(!1),children:""}),s.jsx(W,{type:"submit",disabled:I.isPending,children:I.isPending?" ...":""})]})]})})]})]})]})}),s.jsx(G,{children:_?s.jsx("div",{className:"text-center py-8",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"   "})}):S.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name_ar}),s.jsx("div",{className:"text-sm text-gray-500",children:H.name})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:H.coordinates||"-"}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[H.tolerance_range||"-"," "]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>ce(H),children:s.jsx(Hr,{className:"h-3 w-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>F.mutate(H.id),disabled:F.isPending,children:s.jsx(ya,{className:"h-3 w-3"})})]})})]},H.id))})]})})})]})}),s.jsx(ct,{value:"reports",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"    "})]})})]})})]})]})]})]})}function eIe(){const[e,t]=x.useState(new Set),[n,r]=x.useState(!1),[a,i]=x.useState(""),[o,l]=x.useState(""),c=qn(),{toast:u}=Sn(),{data:d=[],isLoading:f}=$e({queryKey:["/api/warehouse/production-hall"],refetchInterval:12e4,staleTime:9e4}),h=D.useMemo(()=>{const g={};return d.forEach(y=>{const b=y.order_number;g[b]||(g[b]={order_number:b,customer_name:y.customer_name,customer_name_ar:y.customer_name_ar,production_orders:[],totals:{quantity_required:0,total_film_weight:0,total_cut_weight:0,total_received_weight:0,waste_weight:0}}),g[b].production_orders.push(y),g[b].totals.quantity_required+=parseFloat(y.quantity_required)||0,g[b].totals.total_film_weight+=parseFloat(y.total_film_weight)||0,g[b].totals.total_cut_weight+=parseFloat(y.total_cut_weight)||0,g[b].totals.total_received_weight+=parseFloat(y.total_received_weight)||0,g[b].totals.waste_weight+=parseFloat(y.waste_weight)||0}),Object.values(g)},[d]),m=et({mutationFn:async g=>{const y=await fetch("/api/warehouse/receipts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!y.ok)throw new Error("   ");return y.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/warehouse/production-hall"]}),r(!1),t(new Set),i(""),l(""),u({title:"  ",description:"     "})},onError:()=>{u({title:"",description:"   ",variant:"destructive"})}}),v=g=>{const y=new Set(e);y.has(g)?y.delete(g):y.add(g),t(y)},p=()=>{if(e.size===0){u({title:"",description:"      ",variant:"destructive"});return}if(!a||parseFloat(a)<=0){u({title:"",description:"   ",variant:"destructive"});return}Array.from(e).forEach(y=>{const b=h.find(j=>j.order_number===y);b&&b.production_orders.forEach(j=>{m.mutate({production_order_id:j.production_order_id,received_weight_kg:parseFloat(a)/b.production_orders.length,received_by:1,notes:o})})})};return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Cm,{className:"h-5 w-5"}),"  -   "]}),s.jsx("div",{className:"flex space-x-2 space-x-reverse",children:s.jsxs(ln,{open:n,onOpenChange:r,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{disabled:e.size===0,"data-testid":"button-receive-materials",children:[s.jsx(pJ,{className:"h-4 w-4 mr-2"}),"  (",e.size,")"]})}),s.jsxs(rn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"    "}),s.jsx(jn,{children:"         "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"  ()"}),s.jsx(fe,{type:"number",step:"0.001",value:a,onChange:g=>i(g.target.value),placeholder:"  ","data-testid":"input-receipt-weight"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:" ()"}),s.jsx("textarea",{value:o,onChange:g=>l(g.target.value),placeholder:"   ",className:"w-full min-h-[60px] p-2 border rounded-md","data-testid":"textarea-receipt-notes"})]}),s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsx(W,{onClick:p,disabled:m.isPending,"data-testid":"button-confirm-receipt",children:m.isPending?" ...":" "}),s.jsx(W,{variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-receipt",children:""})]})]})]})]})})]})}),s.jsx(G,{children:f?s.jsx("div",{className:"flex justify-center py-8",children:" ..."}):h.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Cm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"     "}),s.jsx("p",{className:"text-sm",children:"      "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:s.jsx("input",{type:"checkbox",checked:e.size===h.length&&h.length>0,onChange:g=>{g.target.checked?t(new Set(h.map(y=>y.order_number))):t(new Set)},"data-testid":"checkbox-select-all"})}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:""}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"  "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:" "}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:""}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:""})]})}),s.jsx("tbody",{children:h.map(g=>{const y=g.totals,b=y.total_cut_weight-y.total_received_weight;return s.jsxs("tr",{className:`border-b hover:bg-gray-50 ${e.has(g.order_number)?"bg-blue-50":""}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"checkbox",checked:e.has(g.order_number),onChange:()=>v(g.order_number),"data-testid":`checkbox-select-${g.order_number}`})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-order-number-${g.order_number}`,children:s.jsx("div",{className:"font-medium",children:g.order_number})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-customer-${g.order_number}`,children:g.customer_name_ar||g.customer_name}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-production-count-${g.order_number}`,children:s.jsxs(ge,{variant:"outline",className:"text-blue-600",children:[g.production_orders.length," "]})}),s.jsxs("td",{className:"py-3 px-4","data-testid":`text-required-${g.order_number}`,children:[y.quantity_required.toFixed(2)," "]}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-film-${g.order_number}`,children:s.jsxs("span",{className:"text-blue-600 font-medium",children:[y.total_film_weight.toFixed(2)," "]})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-cut-${g.order_number}`,children:s.jsxs("span",{className:"text-green-600 font-medium",children:[y.total_cut_weight.toFixed(2)," "]})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-received-${g.order_number}`,children:s.jsxs("span",{className:"text-orange-600 font-medium",children:[y.total_received_weight.toFixed(2)," "]})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-remaining-${g.order_number}`,children:s.jsxs("span",{className:"text-purple-600 font-bold",children:[b.toFixed(2)," "]})}),s.jsx("td",{className:"py-3 px-4","data-testid":`text-waste-${g.order_number}`,children:s.jsxs("span",{className:"text-red-600",children:[y.waste_weight.toFixed(2)," "]})}),s.jsx("td",{className:"py-3 px-4","data-testid":`status-${g.order_number}`,children:b>0?s.jsx(ge,{variant:"outline",className:"text-orange-600 border-orange-600",children:""}):s.jsxs(ge,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(It,{className:"h-3 w-3 mr-1"}),""]})})]},g.order_number)})})]})})})]})}function tIe(){Sn();const[e,t]=x.useState(""),[n,r]=x.useState(new Set),[a,i]=x.useState("date"),{data:o=[],isLoading:l}=$e({queryKey:["/api/warehouse/receipts-detailed"],refetchInterval:3e5,staleTime:24e4}),c=x.useMemo(()=>o.filter(m=>(m.order_number||"").toLowerCase().includes(e.toLowerCase())||(m.customer_name_ar||m.customer_name||"").toLowerCase().includes(e.toLowerCase())||(m.item_name_ar||m.item_name||"").toLowerCase().includes(e.toLowerCase())).sort((m,v)=>{var p,g;switch(a){case"weight":return Number(v.total_received_weight)-Number(m.total_received_weight);case"customer":return(m.customer_name_ar||m.customer_name||"").localeCompare(v.customer_name_ar||v.customer_name||"");case"date":default:const y=Math.max(...((p=m.receipts)==null?void 0:p.map(j=>new Date(j.receipt_date).getTime()))||[0]);return Math.max(...((g=v.receipts)==null?void 0:g.map(j=>new Date(j.receipt_date).getTime()))||[0])-y}}),[o,e,a]),u=h=>{const m=new Set(n);m.has(h)?m.delete(h):m.add(h),r(m)},d=()=>{const h=c.reduce((v,p)=>v+Number(p.total_received_weight||0),0),m=c.reduce((v,p)=>{var g;return v+(((g=p.receipts)==null?void 0:g.length)||0)},0);return{totalWeight:h,totalReceipts:m,totalOrders:c.length}};if(l)return s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8","data-testid":"loading-received-quantities",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"})," ..."]})})]});const f=d();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"})," "]}),s.jsx(Nn,{children:"          "})]})})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A6,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:" "})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:f.totalOrders})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ck,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:" "})]}),s.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[f.totalWeight.toFixed(2)," "]})]}),s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-600",children:" "})]}),s.jsx("div",{className:"text-2xl font-bold text-orange-700",children:f.totalReceipts})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Po,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:" /"})]}),s.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[f.totalOrders>0?(f.totalWeight/f.totalOrders).toFixed(2):"0"," "]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(yo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"     ...",value:e,onChange:h=>t(h.target.value),className:"pr-10","data-testid":"search-received-quantities"})]}),s.jsxs(Xe,{value:a,onValueChange:h=>i(h),children:[s.jsx(Ge,{className:"w-full sm:w-48",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"date",children:" ( )"}),s.jsx(q,{value:"weight",children:" ( )"}),s.jsx(q,{value:"customer",children:"  (-)"})]})]})]})]})]}),c.length===0?s.jsx(K,{children:s.jsx(G,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-500","data-testid":"no-received-quantities",children:[s.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"   "}),s.jsx("p",{className:"text-sm",children:e?"    ":"     "})]})})}):s.jsx("div",{className:"space-y-4",children:c.map(h=>{var p,g;const m=n.has(h.order_number),v=((p=h.receipts)==null?void 0:p.reduce((y,b)=>new Date(b.receipt_date)>new Date(y.receipt_date)?b:y))||null;return s.jsx(K,{className:"overflow-hidden hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(ge,{variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50",children:[s.jsx(nJ,{className:"h-3 w-3 mr-1"}),h.order_number]}),s.jsxs(ge,{variant:"secondary",className:"bg-green-100 text-green-700",children:[((g=h.receipts)==null?void 0:g.length)||0," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:""}),s.jsx("p",{className:"font-medium","data-testid":`customer-name-${h.order_number}`,children:h.customer_name_ar||h.customer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:""}),s.jsx("p",{className:"font-medium","data-testid":`item-name-${h.order_number}`,children:h.item_name_ar||h.item_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:" "}),s.jsxs("p",{className:"font-bold text-green-600 text-lg","data-testid":`total-weight-${h.order_number}`,children:[Number(h.total_received_weight).toFixed(2)," "]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:" "}),s.jsx("p",{className:"text-sm",children:v?new Date(v.receipt_date).toLocaleDateString("ar"):"-"})]})]}),(h.size_caption||h.width||h.thickness||h.raw_material)&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg","data-testid":`size-${h.order_number}`,children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" :"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[h.size_caption&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsx("span",{className:"mr-1 font-medium",children:h.size_caption})]}),h.width&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"mr-1 font-medium",children:[h.width,""]})]}),h.thickness&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"mr-1 font-medium",children:[h.thickness,""]})]}),h.raw_material&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsx("span",{className:"mr-1 font-medium",children:h.raw_material})]})]})]})]}),s.jsx(W,{variant:"ghost",size:"sm",onClick:()=>u(h.order_number),className:"ml-4","data-testid":`expand-order-${h.order_number}`,children:m?s.jsxs(s.Fragment,{children:[s.jsx(py,{className:"h-4 w-4 mr-1"})," "]}):s.jsxs(s.Fragment,{children:[s.jsx(Oi,{className:"h-4 w-4 mr-1"})," "]})})]}),m&&h.receipts&&s.jsxs("div",{className:"border-t pt-4","data-testid":`receipts-detail-${h.order_number}`,children:[s.jsxs("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4"}),"  (",h.receipts.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.receipts.map(y=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white dark:bg-gray-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(ge,{variant:"outline",className:"text-xs",children:[" #",y.receipt_id]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.receipt_date).toLocaleDateString("ar")})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ck,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-gray-600",children:":"}),s.jsxs("span",{className:"font-semibold text-green-600",children:[Number(y.received_weight_kg).toFixed(2)," "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"h-3 w-3 text-blue-600"}),s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"font-medium",children:y.received_by_name})]}),y.production_order_number&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cm,{className:"h-3 w-3 text-purple-600"}),s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsx("span",{className:"font-medium",children:y.production_order_number})]})]})]},y.receipt_id))})]})]})},h.order_number)})})]})}function nIe(){const{toast:e}=Sn(),t=qn(),[n,r]=x.useState("customers"),[a,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState("all"),[d,f]=x.useState(""),[h,m]=x.useState({customers:1,categories:1,sections:1,items:1,customerProducts:1,locations:1,machines:1,users:1}),v=25,p=(k,ue)=>{const V=(ue-1)*v,At=V+v;return k.slice(V,At)},g=k=>Math.ceil(k/v),y=(k,ue)=>{m(V=>({...V,[k]:ue}))},[b,j]=x.useState({name:"",name_ar:"",code:"",user_id:"",plate_drawer_code:"",city:"",address:"",tax_number:"",phone:"",sales_rep_id:""}),[w,N]=x.useState({name:"",name_ar:"",description:""}),[S,_]=x.useState({name:"",name_ar:"",code:"",category_id:"none",status:"active"}),[C,E]=x.useState({name:"",name_ar:"",code:"",parent_id:"none",description:"",status:"active"}),[P,A]=x.useState({customer_id:"none",category_id:"none",item_id:"none",size_caption:"",width:"",left_facing:"",right_facing:"",thickness:"",printing_cylinder:" ",cutting_length_cm:"",raw_material:"",master_batch_id:"",is_printed:!1,cutting_unit:"",punching:"",unit_weight_kg:"",unit_quantity:"",package_weight_kg:"",cliche_front_design:"",cliche_back_design:"",front_design_filename:"",back_design_filename:"",notes:"",status:"active"}),[O,I]=x.useState({name:"",name_ar:"",type:"city",parent_id:"",coordinates:"",status:"active"}),[F,B]=x.useState({name:"",name_ar:"",type:"extruder",section_id:"none",status:"active"}),[$,R]=x.useState({username:"",display_name:"",display_name_ar:"",role_id:"none",section_id:"none",status:"active"}),M=[{id:"PT-111111",name:"White",name_ar:"",color:"#FFFFFF",textColor:"#000000"},{id:"PT-000000",name:"Black",name_ar:"",color:"#000000",textColor:"#FFFFFF"},{id:"PT-160060",name:"Terracotta",name_ar:"",color:"#CC4E3A",textColor:"#FFFFFF"},{id:"PT-160061",name:"Coffee Brown",name_ar:" ",color:"#4B2E2B",textColor:"#FFFFFF"},{id:"PT-160055",name:"Chocolate",name_ar:" ",color:"#7B3F00",textColor:"#FFFFFF"},{id:"PT-102004",name:"Dark Silver",name_ar:" ",color:"#6E6E6E",textColor:"#000000"},{id:"PT-101008",name:"Gold",name_ar:"",color:"#D4AF37",textColor:"#000000"},{id:"PT-150245",name:"Pistachio Green",name_ar:" ",color:"#93C572",textColor:"#000000"},{id:"PT-150086",name:"Light Green",name_ar:" ",color:"#90EE90",textColor:"#000000"},{id:"PT-170028",name:"Light Grey",name_ar:" ",color:"#B0B0B0",textColor:"#000000"},{id:"PT-180361",name:"Dark Pink",name_ar:" ",color:"#D81B60",textColor:"#FFFFFF"},{id:"PT-180374",name:"Pastel Pink",name_ar:" ",color:"#FFB6C1",textColor:"#000000"},{id:"PT-180375",name:"Baby Pink",name_ar:" ",color:"#F4C2C2",textColor:"#000000"},{id:"PT-140079",name:"Light Blue",name_ar:" ",color:"#66B2FF",textColor:"#000000"},{id:"PT-140340",name:"Dark Blue",name_ar:" ",color:"#0033A0",textColor:"#FFFFFF"},{id:"PT-140352",name:"Pure Blue",name_ar:" ",color:"#0057FF",textColor:"#FFFFFF"},{id:"PT-140080",name:"African Violet",name_ar:" ",color:"#B284BE",textColor:"#000000"},{id:"PT-140114",name:"Royal Purple",name_ar:" ",color:"#613399",textColor:"#FFFFFF"},{id:"PT-120074",name:"Dark Ivory",name_ar:" ",color:"#E2DCC8",textColor:"#000000"},{id:"PT-130232-A",name:"Sunflower Yellow",name_ar:"  ",color:"#FFDA03",textColor:"#000000"},{id:"PT-130112",name:"Lemon Yellow",name_ar:" ",color:"#FFF44F",textColor:"#000000"},{id:"PT-130231",name:"Yellow",name_ar:"",color:"#FFD000",textColor:"#000000"},{id:"PT-130232-B",name:"Golden Yellow",name_ar:" ",color:"#FFC000",textColor:"#000000"},{id:"PT-180370",name:"Orange",name_ar:" 805",color:"#FF7A00",textColor:"#FFFFFF"},{id:"PT-180363",name:"Orange",name_ar:" 801",color:"#FF5A1F",textColor:"#FFFFFF"},{id:"PT-180122",name:"Tomato Red",name_ar:" ",color:"#E53935",textColor:"#FFFFFF"},{id:"PT-MIX",name:"MIX",name_ar:"",color:"#E2DCC8",textColor:"#000000"},{id:"PT-CLEAR",name:"CLEAR",name_ar:"",color:"#E2DCC8",textColor:"#000000"}],T=[{value:" ",label:" "},...Array.from({length:16},(k,ue)=>{const V=(ue+1)*2+6;return{value:`${V}"`,label:`${V}"`}}),{value:'39"',label:'39"'}];D.useEffect(()=>{if(P.printing_cylinder&&P.printing_cylinder!==" "){const k=parseInt(P.printing_cylinder.replace(/\D/g,""));if(k){const ue=Math.round(k*2.54);A(V=>({...V,cutting_length_cm:ue.toString()}))}}},[P.printing_cylinder]);const J=k=>{window.confirm(`       "${k.size_caption||" "}"`)&&We.mutate(k.id)},re=k=>{const ue={customer_id:k.customer_id||"none",category_id:k.category_id||"none",item_id:k.item_id||"none",size_caption:`  ${k.size_caption||""}`,width:k.width||"",left_facing:k.left_facing||"",right_facing:k.right_facing||"",thickness:k.thickness||"",printing_cylinder:k.printing_cylinder||" ",cutting_length_cm:k.cutting_length_cm||"",raw_material:k.raw_material||"",master_batch_id:k.master_batch_id||"",is_printed:k.is_printed||!1,cutting_unit:k.cutting_unit||"",punching:k.punching||"",unit_weight_kg:k.unit_weight_kg||"",unit_quantity:k.unit_quantity||"",package_weight_kg:k.package_weight_kg||"",cliche_front_design:k.cliche_front_design||"",cliche_back_design:k.cliche_back_design||"",notes:k.notes||"",status:"active"};A({...ue,front_design_filename:"",back_design_filename:""}),i(null),r("customer-products"),l(!0),e({title:"    -   "})},X=k=>{var fr,ar,Eu,hx,BP,zP;const ue=window.open("","_blank");if(!ue){e({title:"    ",variant:"destructive"});return}const V=Array.isArray(ye)&&(((fr=ye.find(Fs=>Fs.id===k.customer_id))==null?void 0:fr.name_ar)||((ar=ye.find(Fs=>Fs.id===k.customer_id))==null?void 0:ar.name))||" ",At=Array.isArray(je)&&(((Eu=je.find(Fs=>Fs.id===k.category_id))==null?void 0:Eu.name_ar)||((hx=je.find(Fs=>Fs.id===k.category_id))==null?void 0:hx.name))||" ",Ht=Array.isArray(ce)&&(((BP=ce.find(Fs=>Fs.id===k.item_id))==null?void 0:BP.name_ar)||((zP=ce.find(Fs=>Fs.id===k.item_id))==null?void 0:zP.name))||" ",Lt=M.find(Fs=>Fs.id===k.master_batch_id),Dn=`
    <!DOCTYPE html>
    <html dir="rtl" lang="ar">
    <head>
      <meta charset="UTF-8">
      <title>  </title>
      <style>
        body { 
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
          margin: 20px;
          line-height: 1.6;
          color: #333;
        }
        .header { 
          text-align: center; 
          border-bottom: 2px solid #007bff; 
          padding-bottom: 20px; 
          margin-bottom: 30px;
        }
        .header h1 { 
          color: #007bff; 
          margin: 0;
          font-size: 2em;
        }
        .header p { 
          margin: 5px 0; 
          color: #666;
          font-size: 1.1em;
        }
        .section { 
          margin-bottom: 25px; 
          padding: 15px;
          border: 1px solid #e0e0e0;
          border-radius: 8px;
          background-color: #f9f9f9;
        }
        .section h3 { 
          color: #007bff; 
          margin-top: 0; 
          border-bottom: 1px solid #007bff;
          padding-bottom: 8px;
        }
        .detail-row { 
          display: flex; 
          justify-content: space-between; 
          margin: 8px 0;
          padding: 5px 0;
          border-bottom: 1px dotted #ccc;
        }
        .detail-label { 
          font-weight: bold; 
          color: #555;
          min-width: 150px;
        }
        .detail-value { 
          color: #333;
          text-align: left;
        }
        .color-box { 
          display: inline-block; 
          width: 20px; 
          height: 20px; 
          border: 1px solid #ccc; 
          margin-left: 10px;
          vertical-align: middle;
        }
        .print-date {
          text-align: center;
          margin-top: 30px;
          font-size: 0.9em;
          color: #888;
        }
        @media print {
          body { margin: 10px; }
          .section { break-inside: avoid; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>  </h1>
        <p>    </p>
        <p> : ${k.id}</p>
      </div>
      
      <div class="section">
        <h3> </h3>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${V}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">:</span>
          <span class="detail-value">${At}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">:</span>
          <span class="detail-value">${Ht}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${k.size_caption||"-"}</span>
        </div>
      </div>

      <div class="section">
        <h3> </h3>
        <div class="detail-row">
          <span class="detail-label"> ():</span>
          <span class="detail-value">${k.width||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  ():</span>
          <span class="detail-value">${k.left_facing||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  ():</span>
          <span class="detail-value">${k.right_facing||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label"> ():</span>
          <span class="detail-value">${k.thickness||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  ():</span>
          <span class="detail-value">${k.cutting_length_cm||"-"}</span>
        </div>
      </div>

      <div class="section">
        <h3> </h3>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${k.printing_cylinder||" "}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${k.is_printed?"":""}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${k.raw_material||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">
            ${Lt?`<span class="color-box" style="background-color: ${Lt.color}; ${Lt.color==="transparent"?"background-image: linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%); background-size: 8px 8px; background-position: 0 0, 0 4px, 4px -4px, -4px 0px;":""}"></span>${Lt.name_ar}`:k.master_batch_id||"-"}
          </span>
        </div>
        <div class="detail-row">
          <span class="detail-label">:</span>
          <span class="detail-value">${k.punching||"-"}</span>
        </div>
      </div>

      <div class="section">
        <h3> </h3>
        <div class="detail-row">
          <span class="detail-label"> :</span>
          <span class="detail-value">${k.cutting_unit||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  ():</span>
          <span class="detail-value">${k.unit_weight_kg||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  :</span>
          <span class="detail-value">${k.unit_quantity||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  ():</span>
          <span class="detail-value">${k.package_weight_kg||"-"}</span>
        </div>
      </div>

      <div class="section">
        <h3> </h3>
        <div class="detail-row">
          <span class="detail-label">  :</span>
          <span class="detail-value">${k.cliche_front_design||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">  :</span>
          <span class="detail-value">${k.cliche_back_design||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">:</span>
          <span class="detail-value">${k.notes||"-"}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">:</span>
          <span class="detail-value">${k.status==="active"?"":" "}</span>
        </div>
      </div>

      <div class="print-date">
          : ${new Date().toLocaleDateString("ar")} - ${new Date().toLocaleTimeString("ar")}
      </div>
      
      <script>
        window.onload = function() {
          window.print();
          window.onafterprint = function() {
            window.close();
          };
        };
      <\/script>
    </body>
    </html>
    `;ue.document.write(Dn),ue.document.close()};D.useEffect(()=>{const k=P.printing_cylinder!==" ";A(ue=>({...ue,is_printed:k}))},[P.printing_cylinder]),D.useEffect(()=>{const{width:k,right_facing:ue,left_facing:V,cutting_length_cm:At}=P;if(k&&ue&&V&&At){const Ht=parseFloat(k),Lt=parseFloat(ue),Dn=parseFloat(V),fr=parseFloat(At);if(Ht&&Lt&&Dn&&fr){const ar=`${Ht}+${Lt}+${Dn}X${fr}`;A(Eu=>({...Eu,size_caption:ar}))}}},[P.width,P.right_facing,P.left_facing,P.cutting_length_cm]),D.useEffect(()=>{const{unit_weight_kg:k,unit_quantity:ue}=P;if(k&&ue){const V=parseFloat(k),At=parseInt(ue);if(V&&At){const Ht=V*At;A(Lt=>({...Lt,package_weight_kg:Ht.toFixed(3)}))}}},[P.unit_weight_kg,P.unit_quantity]);const{data:ye=[],isLoading:Re}=$e({queryKey:["/api/customers"],staleTime:0}),{data:Je=[],isLoading:lt}=$e({queryKey:["/api/sections"],staleTime:0}),{data:je=[],isLoading:Oe}=$e({queryKey:["/api/categories"],staleTime:0}),{data:ce=[],isLoading:_e}=$e({queryKey:["/api/items"],staleTime:0}),{data:H=[],isLoading:Y}=$e({queryKey:["/api/customer-products"],staleTime:0}),{data:L=[],isLoading:Z}=$e({queryKey:["/api/locations"],staleTime:0}),{data:Be=[],isLoading:Ke}=$e({queryKey:["/api/machines"],staleTime:0}),{data:st=[],isLoading:$t}=$e({queryKey:["/api/users"],staleTime:0}),{data:ne=[],isLoading:pe}=$e({queryKey:["/api/roles"],staleTime:0});D.useEffect(()=>{var ue,V,At;const{category_id:k}=P;if(k&&k!=="none"&&Array.isArray(je)&&je.length>0){const Ht=je.find(Lt=>Lt.id===k);if(Ht){let Lt="";(ue=Ht.name_ar)!=null&&ue.includes("")?Lt="":(V=Ht.name_ar)!=null&&V.includes("")?Lt="":(At=Ht.name_ar)!=null&&At.includes("")&&(Lt=""),A(Dn=>({...Dn,cutting_unit:Lt}))}}},[P.category_id,je]);const kt=(k,ue)=>Array.isArray(k)?k.filter(V=>{const At=c==="all"||c==="active"&&(V.status==="active"||V.status==="operational")||c==="inactive"&&(V.status==="inactive"||V.status==="down"||V.status==="maintenance"),Ht=!d||ue.some(Lt=>{const Dn=V[Lt];return Dn==null?!1:Dn.toString().toLowerCase().includes(d.toLowerCase())});return At&&Ht}).sort((V,At)=>{const Ht=typeof V.id=="string"?parseInt(V.id.replace(/\D/g,""))||0:V.id||0,Lt=typeof At.id=="string"?parseInt(At.id.replace(/\D/g,""))||0:At.id||0;return Ht-Lt}):[],z=()=>kt(ye,["name","name_ar","phone","email","address","id"]),se=()=>kt(Je,["name","name_ar","description","id"]),he=()=>kt(je,["name","name_ar","description","id"]),ze=()=>kt(ce,["name","name_ar","category_id","id"]),Le=()=>H.filter(ue=>{var Ht,Lt,Dn,fr;const V=c==="all"||c==="active"&&ue.status==="active"||c==="inactive"&&ue.status==="inactive",At=!d||[ue.size_caption,ue.raw_material,ue.master_batch_id,ue.notes,ue.id,(Ht=ye.find(ar=>ar.id===ue.customer_id))==null?void 0:Ht.name_ar,(Lt=ye.find(ar=>ar.id===ue.customer_id))==null?void 0:Lt.name,(Dn=ce.find(ar=>ar.id===ue.item_id))==null?void 0:Dn.name_ar,(fr=ce.find(ar=>ar.id===ue.item_id))==null?void 0:fr.name].some(ar=>ar==null?!1:ar.toString().toLowerCase().includes(d.toLowerCase()));return V&&At}).sort((ue,V)=>{const At=typeof ue.id=="string"?parseInt(ue.id.replace(/\D/g,""))||0:ue.id||0,Ht=typeof V.id=="string"?parseInt(V.id.replace(/\D/g,""))||0:V.id||0;return At-Ht}),De=()=>kt(L,["name","name_ar","type","id"]),at=()=>kt(Be,["name","name_ar","type","id"]),Yt=()=>kt(st,["username","display_name","display_name_ar","id"]),dn=({currentPage:k,totalPages:ue,onPageChange:V,totalItems:At,itemsPerPage:Ht})=>{const Lt=(k-1)*Ht+1,Dn=Math.min(k*Ht,At);return s.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-white border-t border-gray-200",children:[s.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[s.jsx(W,{variant:"outline",onClick:()=>V(k-1),disabled:k===1,children:""}),s.jsx(W,{variant:"outline",onClick:()=>V(k+1),disabled:k===ue,children:""})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:[" ",s.jsx("span",{className:"font-medium",children:Lt})," "," ",s.jsx("span",{className:"font-medium",children:Dn})," "," ",s.jsx("span",{className:"font-medium",children:At})," "]})}),s.jsx("div",{children:s.jsxs("nav",{className:"inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>V(k-1),disabled:k===1,className:"rounded-l-md",children:s.jsx(N6,{className:"h-4 w-4"})}),Array.from({length:ue},(fr,ar)=>ar+1).filter(fr=>fr===1||fr===ue||fr>=k-2&&fr<=k+2).map((fr,ar,Eu)=>{const hx=ar>0&&Eu[ar-1]!==fr-1;return s.jsxs("div",{children:[hx&&s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700",children:"..."}),s.jsx(W,{variant:k===fr?"default":"outline",size:"sm",onClick:()=>V(fr),className:"min-w-[40px]",children:fr})]},fr)}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>V(k+1),disabled:k===ue,className:"rounded-r-md",children:s.jsx(Rl,{className:"h-4 w-4"})})]})})]})]})},$n=et({mutationFn:k=>fetch("/api/customers",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customers"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),Gi=et({mutationFn:({id:k,data:ue})=>fetch(`/api/customers/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customers"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),te=et({mutationFn:k=>fetch("/api/sections",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/sections"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),ae=et({mutationFn:({id:k,data:ue})=>fetch(`/api/sections/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/sections"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),be=et({mutationFn:k=>fetch("/api/categories",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),ve=et({mutationFn:({id:k,data:ue})=>fetch(`/api/categories/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),ft=et({mutationFn:k=>fetch("/api/items",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>{if(!ue.ok)throw new Error("Failed to create item");return ue.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/items"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),xt=et({mutationFn:({id:k,data:ue})=>fetch(`/api/items/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>{if(!V.ok)throw new Error("Failed to update item");return V.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/items"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),ht=et({mutationFn:k=>fetch("/api/customer-products",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>{if(!ue.ok)throw new Error("Failed to create customer product");return ue.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customer-products"]}),vn(),l(!1),e({title:"    "})},onError:k=>{console.error("    :",k),e({title:"    ",variant:"destructive"})}}),qe=et({mutationFn:({id:k,data:ue})=>fetch(`/api/customer-products/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>{if(!V.ok)throw new Error("Failed to update customer product");return V.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customer-products"]}),vn(),l(!1),e({title:"    "})},onError:k=>{console.error("    :",k),e({title:"    ",variant:"destructive"})}}),We=et({mutationFn:k=>fetch(`/api/customer-products/${k}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(ue=>{if(!ue.ok)throw new Error("Failed to delete");return ue.json()}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/customer-products"]}),e({title:"    "})},onError:k=>{console.error("    :",k),e({title:"    ",variant:"destructive"})}}),Wt=et({mutationFn:k=>fetch("/api/locations",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/locations"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),sr=et({mutationFn:({id:k,data:ue})=>fetch(`/api/locations/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/locations"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),Dr=et({mutationFn:k=>fetch("/api/machines",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/machines"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),oc=et({mutationFn:({id:k,data:ue})=>fetch(`/api/machines/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/machines"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),zo=et({mutationFn:k=>fetch("/api/users",{method:"POST",body:JSON.stringify(k),headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),qo=et({mutationFn:({id:k,data:ue})=>fetch(`/api/users/${k}`,{method:"PUT",body:JSON.stringify(ue),headers:{"Content-Type":"application/json"}}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),vn(),l(!1),e({title:"   "})},onError:k=>{console.error("   :",k),e({title:"   ",variant:"destructive"})}}),vn=()=>{j({name:"",name_ar:"",code:"",user_id:"",plate_drawer_code:"",city:"",address:"",tax_number:"",phone:"",sales_rep_id:""}),N({name:"",name_ar:"",description:""}),E({name:"",name_ar:"",code:"",parent_id:"none",description:"",status:"active"}),_({name:"",name_ar:"",code:"",category_id:"none",status:"active"}),A({customer_id:"none",category_id:"none",item_id:"none",size_caption:"",width:"",left_facing:"",right_facing:"",thickness:"",printing_cylinder:" ",cutting_length_cm:"",raw_material:"",master_batch_id:"",is_printed:!1,cutting_unit:"",punching:"",unit_weight_kg:"",unit_quantity:"",package_weight_kg:"",cliche_front_design:"",cliche_back_design:"",front_design_filename:"",back_design_filename:"",notes:"",status:"active"}),I({name:"",name_ar:"",type:"city",parent_id:"",coordinates:"",status:"active"}),B({name:"",name_ar:"",type:"extruder",section_id:"none",status:"active"}),R({username:"",display_name:"",display_name_ar:"",role_id:"none",section_id:"none",status:"active"}),i(null)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsx("main",{className:"flex-1 lg:mr-64 p-4 lg:p-6",style:{marginRight:"16rem"},children:s.jsxs("div",{className:"w-full space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:" "})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(fe,{type:"text",placeholder:" ...",value:d,onChange:k=>f(k.target.value),className:"pr-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u2,{className:"w-4 h-4 text-gray-400"}),s.jsxs(Xe,{value:c,onValueChange:u,children:[s.jsx(Ge,{className:"w-40",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"inactive",children:" "})]})]})]})]})}),s.jsx("div",{className:"w-full",children:s.jsxs(Is,{value:n,onValueChange:r,className:"space-y-4 w-full",children:[s.jsxs(vs,{className:"grid grid-cols-4 lg:grid-cols-8 w-full h-auto p-1 bg-white rounded-lg border border-gray-200 shadow-sm gap-1",dir:"rtl",children:[s.jsx(mt,{value:"customers",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"sections",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"categories",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"items",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"customer-products",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-2 py-2 text-xs font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:" "}),s.jsx(mt,{value:"locations",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"machines",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""}),s.jsx(mt,{value:"users",className:`data-[state=active]:bg-white data-[state=active]:text-blue-600 
                             text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium
                             transition-all duration-200 rounded-md min-w-0 flex-1`,children:""})]}),s.jsx(ct,{value:"customers",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(GZ,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("customers"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:Re?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=z(),ue=p(k,h.customers);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.phone||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.city||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),j({name:V.name||"",name_ar:V.name_ar||"",code:V.code||"",user_id:V.user_id||"",plate_drawer_code:V.plate_drawer_code||"",city:V.city||"",address:V.address||"",tax_number:V.tax_number||"",phone:V.phone||"",sales_rep_id:V.sales_rep_id||""}),r("customers"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:d||c!=="all"?"     ":"   "})})})()})]}),(()=>{const k=z(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.customers,totalPages:ue,onPageChange:V=>y("customers",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"categories",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("categories"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:Oe?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=he(),ue=p(k,h.categories);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),E({name:V.name||"",name_ar:V.name_ar||"",code:V.code||"",parent_id:V.parent_id||"none",description:V.description||"",status:V.status||"active"}),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:d||c!=="all"?"     ":"   "})})})()})]}),(()=>{const k=he(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.categories,totalPages:ue,onPageChange:V=>y("categories",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"sections",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(c2,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("sections"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:lt?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=se(),ue=p(k,h.sections);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.description||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),N({name:V.name||"",name_ar:V.name_ar||"",description:V.description||""}),r("sections"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=se(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.sections,totalPages:ue,onPageChange:V=>y("sections",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"items",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("items"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:_e?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=ze(),ue=p(k,h.items);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.category_id||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),_({name:V.name||"",name_ar:V.name_ar||"",code:V.code||"",category_id:V.category_id||"none",status:V.status||"active"}),r("items"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=ze(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.items,totalPages:ue,onPageChange:V=>y("items",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"customer-products",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("customer-products"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:Y?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"/"}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=Le(),ue=p(k,h.customerProducts);return ue.length>0?ue.map(V=>{const At=Array.isArray(ye)?ye.find(Lt=>Lt.id===V.customer_id):null,Ht=Array.isArray(ce)?ce.find(Lt=>Lt.id===V.item_id):null;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"font-medium",children:(At==null?void 0:At.name_ar)||(At==null?void 0:At.name)||"-"}),s.jsx("span",{className:"text-xs text-gray-500",children:(At==null?void 0:At.name)||"-"})]})}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:(Ht==null?void 0:Ht.name_ar)||(Ht==null?void 0:Ht.name)||"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.size_caption||"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.is_printed?V.printing_cylinder||" ":V.cutting_length_cm?`${Jt(parseFloat(V.cutting_length_cm))} `:"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.raw_material||"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:(()=>{const Lt=M.find(Dn=>Dn.id===V.master_batch_id);return Lt?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300 shadow-sm",style:{backgroundColor:Lt.color},title:Lt.name}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:Lt.name_ar})]}):V.master_batch_id||"-"})()}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.punching||"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.cutting_unit||"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:V.package_weight_kg?`${Jt(parseFloat(V.package_weight_kg))} `:"-"}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),A({customer_id:V.customer_id||"none",category_id:V.category_id||"none",item_id:V.item_id||"none",size_caption:V.size_caption||"",width:V.width||"",left_facing:V.left_facing||"",right_facing:V.right_facing||"",thickness:V.thickness||"",printing_cylinder:V.printing_cylinder||" ",cutting_length_cm:V.cutting_length_cm||"",raw_material:V.raw_material||"",master_batch_id:V.master_batch_id||"",is_printed:V.is_printed||!1,cutting_unit:V.cutting_unit||"",punching:V.punching||"",unit_weight_kg:V.unit_weight_kg||"",unit_quantity:V.unit_quantity||"",package_weight_kg:V.package_weight_kg||"",cliche_front_design:V.cliche_front_design||"",cliche_back_design:V.cliche_back_design||"",front_design_filename:"",back_design_filename:"",notes:V.notes||"",status:V.status||"active"}),r("customer-products"),l(!0)},title:"",children:s.jsx(Hr,{className:"w-3 h-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>re(V),title:"",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(dd,{className:"w-3 h-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>X(V),title:"",className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:s.jsx(E6,{className:"w-3 h-3"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>J(V),title:"",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:We.isPending,children:We.isPending?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}):s.jsx(ya,{className:"w-3 h-3"})})]})})]},V.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:11,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=Le(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.customerProducts,totalPages:ue,onPageChange:V=>y("customerProducts",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"locations",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(G_,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("locations"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:Z?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=De(),ue=p(k,h.locations);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.type||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),I({name:V.name||"",name_ar:V.name_ar||"",type:V.type||"city",parent_id:V.parent_id||"",coordinates:V.coordinates||"",status:V.status||"active"}),r("locations"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=De(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.locations,totalPages:ue,onPageChange:V=>y("locations",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"machines",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("machines"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:Ke?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=at(),ue=p(k,h.machines);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name_ar||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.type||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),B({name:V.name||"",name_ar:V.name_ar||"",type:V.type||"extruder",section_id:V.section_id||"",status:V.status||"active"}),r("machines"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=at(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.machines,totalPages:ue,onPageChange:V=>y("machines",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})}),s.jsx(ct,{value:"users",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-5 h-5"})," "]}),s.jsxs(W,{onClick:()=>{vn(),r("users"),l(!0)},children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]})}),s.jsx(G,{children:$t?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:" "}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const k=Yt(),ue=p(k,h.users);return ue.length>0?ue.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:V.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.username||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:V.display_name||V.name||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(()=>{if(!V.section_id)return"-";const Ht={1:"SEC01",2:"SEC02",3:"SEC03",4:"SEC04",5:"SEC05",6:"SEC06",7:"SEC07"}[V.section_id],Lt=Array.isArray(Je)&&Je.find(Dn=>Dn.id===Ht);return Lt?Lt.name_ar||Lt.name:` ${V.section_id}`})()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:(()=>{if(!V.role_id)return"-";const At=Array.isArray(ne)&&ne.find(Ht=>Ht.id===V.role_id);return At?At.name_ar||At.name:"-"})()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{i(V),R({username:V.username||"",display_name:V.display_name||"",display_name_ar:V.display_name_ar||"",role_id:V.role_id?`ROLE0${V.role_id<10?"0"+V.role_id:V.role_id}`:"none",section_id:V.section_id&&{1:"SEC01",2:"SEC02",3:"SEC03",4:"SEC04",5:"SEC05",6:"SEC06",7:"SEC07"}[V.section_id]||"none",status:V.status||"active"}),r("users"),l(!0)},children:s.jsx(Hr,{className:"w-4 h-4"})})})})]},V.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"    "})})})()})]}),(()=>{const k=Yt(),ue=g(k.length);return ue>1?s.jsx(dn,{currentPage:h.users,totalPages:ue,onPageChange:V=>y("users",V),totalItems:k.length,itemsPerPage:v}):null})()]})})]})})]})}),n==="customers"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":"customer-dialog-description",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{id:"customer-dialog-description",children:a?"   ":"    "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:b.name_ar,onChange:k=>j({...b,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:b.name,onChange:k=>j({...b,name:k.target.value}),placeholder:"Customer Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"code",children:" "}),s.jsx(fe,{id:"code",value:b.code,onChange:k=>j({...b,code:k.target.value}),placeholder:" ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",children:""}),s.jsx(fe,{id:"phone",value:b.phone,onChange:k=>j({...b,phone:k.target.value}),placeholder:" ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"city",children:""}),s.jsx(fe,{id:"city",value:b.city,onChange:k=>j({...b,city:k.target.value}),placeholder:"",className:"mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"address",children:""}),s.jsx(fe,{id:"address",value:b.address,onChange:k=>j({...b,address:k.target.value}),placeholder:" ",className:"mt-1"})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?Gi.mutate({id:a.id,data:b}):$n.mutate(b)},disabled:$n.isPending||Gi.isPending,children:$n.isPending||Gi.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="sections"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"   "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:w.name_ar,onChange:k=>N({...w,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:w.name,onChange:k=>N({...w,name:k.target.value}),placeholder:"Section Name",className:"mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"description",children:""}),s.jsx(fe,{id:"description",value:w.description,onChange:k=>N({...w,description:k.target.value}),placeholder:"  ()",className:"mt-1"})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?ae.mutate({id:a.id,data:w}):te.mutate(w)},disabled:te.isPending||ae.isPending,children:te.isPending||ae.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="categories"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"    "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:C.name_ar,onChange:k=>E({...C,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:C.name,onChange:k=>E({...C,name:k.target.value}),placeholder:"Category Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"code",children:""}),s.jsx(fe,{id:"code",value:C.code,onChange:k=>E({...C,code:k.target.value}),placeholder:"  ()",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"parent_id",children:" "}),s.jsxs(Xe,{value:C.parent_id,onValueChange:k=>E({...C,parent_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:"  "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:"  "}),Array.isArray(je)&&je.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"description",children:""}),s.jsx(fe,{id:"description",value:C.description,onChange:k=>E({...C,description:k.target.value}),placeholder:"  ()",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"status",children:""}),s.jsxs(Xe,{value:C.status,onValueChange:k=>E({...C,status:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"inactive",children:" "})]})]})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?ve.mutate({id:a.id,data:C}):be.mutate(C)},disabled:be.isPending||ve.isPending,children:be.isPending||ve.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="items"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"    "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:S.name_ar,onChange:k=>_({...S,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:S.name,onChange:k=>_({...S,name:k.target.value}),placeholder:"Item Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"code",children:" "}),s.jsx(fe,{id:"code",value:S.code,onChange:k=>_({...S,code:k.target.value}),placeholder:" ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"category_id",children:""}),s.jsxs(Xe,{value:S.category_id,onValueChange:k=>_({...S,category_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(je)&&je.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?xt.mutate({id:a.id,data:S}):ft.mutate(S)},disabled:ft.isPending||xt.isPending,children:ft.isPending||xt.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="customer-products"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto sm:max-w-[95vw] w-full mx-4",children:[s.jsxs(sn,{children:[s.jsx(an,{className:"text-lg sm:text-xl",children:a?"  ":"   "}),s.jsx(jn,{className:"text-sm sm:text-base",children:a?"    ":"    "})]}),s.jsxs("div",{className:"grid gap-6 py-4 px-2 sm:px-0",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"customer_id",children:" *"}),s.jsxs(Xe,{value:P.customer_id,onValueChange:k=>A({...P,customer_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(ye)&&ye.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"category_id",children:""}),s.jsxs(Xe,{value:P.category_id,onValueChange:k=>{A({...P,category_id:k,item_id:""})},children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(je)&&je.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"item_id",children:""}),s.jsxs(Xe,{value:P.item_id,onValueChange:k=>A({...P,item_id:k}),disabled:!P.category_id||P.category_id==="none",children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:!P.category_id||P.category_id==="none"?"  ":" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(ce)&&ce.filter(k=>P.category_id&&P.category_id!=="none"&&k.category_id===P.category_id).filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.code,")"]},k.id))]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"size_caption",children:"  ( )"}),s.jsx(fe,{id:"size_caption",value:P.size_caption,placeholder:"  :   ",className:"mt-1 bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"punching",children:""}),s.jsxs(Xe,{value:P.punching,onValueChange:k=>A({...P,punching:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:"  "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:"",children:""})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"right_facing",children:"  ()"}),s.jsx(fe,{id:"right_facing",type:"number",step:"0.01",value:P.right_facing,onChange:k=>A({...P,right_facing:k.target.value}),placeholder:"0.00",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"width",children:" ()"}),s.jsx(fe,{id:"width",type:"number",step:"0.01",value:P.width,onChange:k=>A({...P,width:k.target.value}),placeholder:"0.00",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"left_facing",children:"  ()"}),s.jsx(fe,{id:"left_facing",type:"number",step:"0.01",value:P.left_facing,onChange:k=>A({...P,left_facing:k.target.value}),placeholder:"0.00",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"thickness",children:" ()"}),s.jsx(fe,{id:"thickness",type:"number",step:"0.01",value:P.thickness,onChange:k=>A({...P,thickness:k.target.value}),placeholder:"0.00",className:"mt-1"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"printing_cylinder",children:" "}),s.jsxs(Xe,{value:P.printing_cylinder,onValueChange:k=>A({...P,printing_cylinder:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsx(Ye,{children:T.filter(k=>k.value&&k.value!==""&&k.value!==null&&k.value!==void 0).map(k=>s.jsx(q,{value:k.value.toString(),children:k.label},k.value))})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cutting_length_cm",children:"  ()"}),s.jsx(fe,{id:"cutting_length_cm",type:"number",value:P.cutting_length_cm,onChange:k=>A({...P,cutting_length_cm:k.target.value}),placeholder:"    ",className:"mt-1",disabled:P.printing_cylinder!==" "})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6 p-3 bg-gray-50 rounded-md",children:[s.jsx("input",{type:"checkbox",id:"is_printed",checked:P.is_printed,className:"rounded w-4 h-4",disabled:!0}),s.jsx(de,{htmlFor:"is_printed",className:"text-gray-600 text-sm",children:"  (  )"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cutting_unit",children:" "}),s.jsxs(Xe,{value:P.cutting_unit,onValueChange:k=>A({...P,cutting_unit:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"raw_material",children:" "}),s.jsxs(Xe,{value:P.raw_material,onValueChange:k=>A({...P,raw_material:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:"  "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"HDPE",children:"HDPE"}),s.jsx(q,{value:"LDPE",children:"LDPE"}),s.jsx(q,{value:"Regrind",children:"Regrind"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"master_batch_id",children:"  "}),s.jsxs(Xe,{value:P.master_batch_id,onValueChange:k=>A({...P,master_batch_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),M.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsx(q,{value:k.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center",style:{backgroundColor:k.color,border:k.id==="transparent"?"2px dashed #ccc":`2px solid ${k.color}`},children:k.id==="transparent"&&s.jsx("span",{className:"text-xs text-gray-400",children:""})}),s.jsx("span",{className:"font-medium",children:k.name_ar})]})},k.id))]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"unit_weight_kg",children:"  ()"}),s.jsx(fe,{id:"unit_weight_kg",type:"number",step:"0.001",value:P.unit_weight_kg,onChange:k=>A({...P,unit_weight_kg:k.target.value}),placeholder:"0.00",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"unit_quantity",children:""}),s.jsx(fe,{id:"unit_quantity",type:"number",value:P.unit_quantity,onChange:k=>A({...P,unit_quantity:k.target.value}),placeholder:"0",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"package_weight_kg",children:"  () -  "}),s.jsx(fe,{id:"package_weight_kg",type:"number",step:"0.01",value:P.package_weight_kg,placeholder:"    ",className:"mt-1 bg-gray-50",readOnly:!0})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-medium border-b border-gray-200 pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cliche_front_design",children:"  "}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{id:"cliche_front_design",type:"file",accept:"image/*,.jpeg,.jpg,.png,.gif,.bmp,.webp,.svg",onChange:k=>{var V;const ue=(V=k.target.files)==null?void 0:V[0];if(ue){if(ue.size>5*1024*1024){e({title:"   ",description:"       5 ",variant:"destructive"});return}const At=new FileReader;At.onload=Ht=>{var Dn;const Lt=(Dn=Ht.target)==null?void 0:Dn.result;A({...P,cliche_front_design:Lt,front_design_filename:ue.name})},At.readAsDataURL(ue)}},className:"mt-1"}),P.cliche_front_design&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.cliche_front_design,alt:" ",className:"max-w-full max-h-32 object-contain border rounded-md bg-gray-50"}),s.jsx(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>A({...P,cliche_front_design:"",front_design_filename:""}),children:""})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cliche_back_design",children:"  "}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{id:"cliche_back_design",type:"file",accept:"image/*,.jpeg,.jpg,.png,.gif,.bmp,.webp,.svg",onChange:k=>{var V;const ue=(V=k.target.files)==null?void 0:V[0];if(ue){if(ue.size>5*1024*1024){e({title:"   ",description:"       5 ",variant:"destructive"});return}const At=new FileReader;At.onload=Ht=>{var Dn;const Lt=(Dn=Ht.target)==null?void 0:Dn.result;A({...P,cliche_back_design:Lt,back_design_filename:ue.name})},At.readAsDataURL(ue)}},className:"mt-1"}),P.cliche_back_design&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.cliche_back_design,alt:" ",className:"max-w-full max-h-32 object-contain border rounded-md bg-gray-50"}),s.jsx(W,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:()=>A({...P,cliche_back_design:"",back_design_filename:""}),children:""})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"notes",className:"text-base",children:""}),s.jsx("textarea",{id:"notes",value:P.notes,onChange:k=>A({...P,notes:k.target.value}),placeholder:"    ...",className:"mt-2 w-full p-3 border border-gray-300 rounded-md resize-none text-right",rows:4,dir:"rtl"})]})]}),s.jsxs(eo,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:""}),s.jsx(W,{onClick:()=>{const k={...P,cutting_length_cm:P.cutting_length_cm?parseInt(P.cutting_length_cm):void 0,unit_quantity:P.unit_quantity?parseInt(P.unit_quantity):void 0,width:P.width?parseFloat(P.width):void 0,left_facing:P.left_facing?parseFloat(P.left_facing):void 0,right_facing:P.right_facing?parseFloat(P.right_facing):void 0,thickness:P.thickness?parseFloat(P.thickness):void 0,unit_weight_kg:P.unit_weight_kg?parseFloat(P.unit_weight_kg):void 0,package_weight_kg:P.package_weight_kg?parseFloat(P.package_weight_kg):void 0};a?qe.mutate({id:a.id,data:k}):ht.mutate(k)},disabled:ht.isPending||qe.isPending,className:"w-full sm:w-auto order-1 sm:order-2",children:ht.isPending||qe.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="locations"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"     "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:O.name_ar,onChange:k=>I({...O,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:O.name,onChange:k=>I({...O,name:k.target.value}),placeholder:"Location Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"type",children:""}),s.jsxs(Xe,{value:O.type,onValueChange:k=>I({...O,type:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"city",children:""}),s.jsx(q,{value:"warehouse",children:""}),s.jsx(q,{value:"factory",children:""}),s.jsx(q,{value:"office",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"coordinates",children:""}),s.jsx(fe,{id:"coordinates",value:O.coordinates,onChange:k=>I({...O,coordinates:k.target.value}),placeholder:"lat,lng",className:"mt-1"})]})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?sr.mutate({id:a.id,data:O}):Wt.mutate(O)},disabled:Wt.isPending||sr.isPending,children:Wt.isPending||sr.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="machines"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"     "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name_ar",children:"  *"}),s.jsx(fe,{id:"name_ar",value:F.name_ar,onChange:k=>B({...F,name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:" "}),s.jsx(fe,{id:"name",value:F.name,onChange:k=>B({...F,name:k.target.value}),placeholder:"Machine Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"type",children:""}),s.jsxs(Xe,{value:F.type,onValueChange:k=>B({...F,type:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"extruder",children:""}),s.jsx(q,{value:"cutting",children:""}),s.jsx(q,{value:"printing",children:""}),s.jsx(q,{value:"packaging",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"section_id",children:""}),s.jsxs(Xe,{value:F.section_id,onValueChange:k=>B({...F,section_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(Je)&&Je.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?oc.mutate({id:a.id,data:F}):Dr.mutate(F)},disabled:Dr.isPending||oc.isPending,children:Dr.isPending||oc.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})}),n==="users"&&s.jsx(ln,{open:o,onOpenChange:l,children:s.jsxs(rn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:a?" ":"  "}),s.jsx(jn,{children:a?"   ":"    "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"display_name_ar",children:"  *"}),s.jsx(fe,{id:"display_name_ar",value:$.display_name_ar,onChange:k=>R({...$,display_name_ar:k.target.value}),placeholder:"  ",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"display_name",children:" "}),s.jsx(fe,{id:"display_name",value:$.display_name,onChange:k=>R({...$,display_name:k.target.value}),placeholder:"Display Name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"username",children:"  *"}),s.jsx(fe,{id:"username",value:$.username,onChange:k=>R({...$,username:k.target.value}),placeholder:"username",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"role_id",children:""}),s.jsxs(Xe,{value:$.role_id,onValueChange:k=>R({...$,role_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(ne)&&ne.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsx(q,{value:`ROLE0${k.id}`,children:k.name_ar||k.name},k.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"section_id",children:""}),s.jsxs(Xe,{value:$.section_id,onValueChange:k=>R({...$,section_id:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:" "}),Array.isArray(Je)&&Je.filter(k=>k.id&&k.id!==""&&k.id!==null&&k.id!==void 0).map(k=>s.jsxs(q,{value:k.id.toString(),children:[k.name_ar||k.name," (",k.id,")"]},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"status",children:""}),s.jsxs(Xe,{value:$.status,onValueChange:k=>R({...$,status:k}),children:[s.jsx(Ge,{className:"mt-1",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"inactive",children:" "})]})]})]})]})]}),s.jsxs(eo,{children:[s.jsx(W,{variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{onClick:()=>{a?qo.mutate({id:a.id,data:$}):zo.mutate($)},disabled:zo.isPending||qo.isPending,children:zo.isPending||qo.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?" ...":" ..."]}):a?"":""})]})]})})]})})]})]})}var rIe=Bi[" useInsertionEffect ".trim().toString()]||bt;function sIe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=aIe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=iIe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function aIe({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return rIe(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function iIe(e){return typeof e=="function"}var oIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],R7=oIe.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Vb="Switch",[lIe,BLe]=Jn(Vb),[cIe,uIe]=lIe(Vb),F7=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),v=Ve(t,j=>m(j)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[y,b]=sIe({prop:a,defaultProp:i??!1,onChange:u,caller:Vb});return s.jsxs(cIe,{scope:n,checked:y,disabled:l,children:[s.jsx(R7.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":q7(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:we(e.onClick,j=>{b(w=>!w),g&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),g&&s.jsx(z7,{control:h,bubbles:!p.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});F7.displayName=Vb;var L7="SwitchThumb",B7=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=uIe(L7,n);return s.jsx(R7.span,{"data-state":q7(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});B7.displayName=L7;var dIe="SwitchBubbleInput",z7=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=x.useRef(null),l=Ve(o,i),c=Q2(n),u=Lf(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(v)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z7.displayName=dIe;function q7(e){return e?"checked":"unchecked"}var W7=F7,fIe=B7;const zs=x.forwardRef(({className:e,...t},n)=>s.jsx(W7,{className:tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(fIe,{className:tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zs.displayName=W7.displayName;var hIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mIe=hIe.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pIe="Separator",V$="horizontal",xIe=["horizontal","vertical"],U7=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=V$,...a}=e,i=gIe(r)?r:V$,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(mIe.div,{"data-orientation":i,...l,...a,ref:t})});U7.displayName=pIe;function gIe(e){return xIe.includes(e)}var V7=U7;const no=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(V7,{ref:a,decorative:n,orientation:t,className:tt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));no.displayName=V7.displayName;var yIe=Bi[" useInsertionEffect ".trim().toString()]||bt;function vIe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=bIe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=jIe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function bIe({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return yIe(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function jIe(e){return typeof e=="function"}function wIe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var K7=e=>{const{present:t,children:n}=e,r=_Ie(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,NIe(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};K7.displayName="Presence";function _Ie(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wIe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=dg(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=dg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=dg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=dg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function dg(e){return(e==null?void 0:e.animationName)||"none"}function NIe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gP=SIe.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Kb="Checkbox",[CIe,zLe]=Jn(Kb),[PIe,yP]=CIe(Kb);function EIe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=vIe({prop:n,defaultProp:a??!1,onChange:c,caller:Kb}),[v,p]=x.useState(null),[g,y]=x.useState(null),b=x.useRef(!1),j=v?!!o||!!v.closest("form"):!0,w={checked:h,disabled:i,setChecked:m,control:v,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:$l(a)?!1:a,isFormControl:j,bubbleInput:g,setBubbleInput:y};return s.jsx(PIe,{scope:t,...w,children:kIe(f)?f(w):r})}var H7="CheckboxTrigger",G7=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=yP(H7,e),p=Ve(a,d),g=x.useRef(c);return x.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const b=()=>f(g.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[i,f]),s.jsx(gP.button,{type:"button",role:"checkbox","aria-checked":$l(c)?"mixed":c,"aria-required":u,"data-state":J7(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:we(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:we(n,y=>{f(b=>$l(b)?!0:!b),v&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});G7.displayName=H7;var vP=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(EIe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(G7,{...f,ref:t,__scopeCheckbox:n}),h&&s.jsx(Z7,{__scopeCheckbox:n})]})})});vP.displayName=Kb;var Y7="CheckboxIndicator",Q7=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=yP(Y7,n);return s.jsx(K7,{present:r||$l(i.checked)||i.checked===!0,children:s.jsx(gP.span,{"data-state":J7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Q7.displayName=Y7;var X7="CheckboxBubbleInput",Z7=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=yP(X7,e),v=Ve(n,m),p=Q2(i),g=Lf(r);x.useEffect(()=>{const b=h;if(!b)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,S=!a.current;if(p!==i&&N){const _=new Event("click",{bubbles:S});b.indeterminate=$l(i),N.call(b,$l(i)?!1:i),b.dispatchEvent(_)}},[h,p,i,a]);const y=x.useRef($l(i)?!1:i);return s.jsx(gP.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Z7.displayName=X7;function kIe(e){return typeof e=="function"}function $l(e){return e==="indeterminate"}function J7(e){return $l(e)?"indeterminate":e?"checked":"unchecked"}const zg=x.forwardRef(({className:e,...t},n)=>s.jsx(vP,{ref:n,className:tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Q7,{className:tt("flex items-center justify-center text-current"),children:s.jsx(qd,{className:"h-4 w-4"})})}));zg.displayName=vP.displayName;function AIe(){var p;const{toast:e}=Sn(),t=qn(),[n,r]=x.useState({name:"",name_ar:"",permissions:[]}),[a,i]=x.useState(null),o=[{id:"view_dashboard",name:"  ",category:""},{id:"manage_orders",name:" ",category:""},{id:"manage_production",name:" ",category:""},{id:"manage_maintenance",name:" ",category:""},{id:"manage_quality",name:" ",category:""},{id:"manage_inventory",name:" ",category:""},{id:"manage_users",name:" ",category:""},{id:"manage_hr",name:"  ",category:" "},{id:"view_reports",name:" ",category:""},{id:"manage_settings",name:" ",category:""},{id:"manage_definitions",name:" ",category:""}],{data:l=[],isLoading:c}=$e({queryKey:["/api/roles"]}),u=et({mutationFn:async g=>await Qt("/api/roles",{method:"POST",body:JSON.stringify(g)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/roles"]}),r({name:"",name_ar:"",permissions:[]}),e({title:"   ",description:"     "})},onError:()=>{e({title:"   ",description:"    ",variant:"destructive"})}}),d=et({mutationFn:async({id:g,roleData:y})=>await Qt(`/api/roles/${g}`,{method:"PUT",body:JSON.stringify(y)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/roles"]}),i(null),e({title:"   ",description:"    "})},onError:()=>{e({title:"   ",description:"    ",variant:"destructive"})}}),f=et({mutationFn:async g=>await Qt(`/api/roles/${g}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/roles"]}),e({title:"   ",description:"    "})},onError:()=>{e({title:"   ",description:"    ",variant:"destructive"})}}),h=()=>{if(!n.name||!n.name_ar){e({title:" ",description:"      ",variant:"destructive"});return}u.mutate(n)},m=()=>{a&&d.mutate({id:a.id,roleData:a})},v=(g,y,b=!1)=>{b&&a?i({...a,permissions:y?[...a.permissions,g]:a.permissions.filter(j=>j!==g)}):r({...n,permissions:y?[...n.permissions,g]:n.permissions.filter(j=>j!==g)})};return c?s.jsx("div",{className:"text-center py-8",children:"  ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-4 h-4"}),"  "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"roleName",children:"  ()"}),s.jsx(fe,{id:"roleName",value:n.name,onChange:g=>r({...n,name:g.target.value}),placeholder:"admin, manager, operator..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"roleNameAr",children:"  ()"}),s.jsx(fe,{id:"roleNameAr",value:n.name_ar,onChange:g=>r({...n,name_ar:g.target.value}),placeholder:"  ..."})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(de,{children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(g=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(zg,{id:`new-${g.id}`,checked:n.permissions.includes(g.id),onCheckedChange:y=>v(g.id,y)}),s.jsx("label",{htmlFor:`new-${g.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:g.name})]},g.id))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(W,{onClick:h,disabled:u.isPending,className:"flex items-center gap-2",children:u.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kn,{className:"w-4 h-4"})," "]})})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-4 h-4"})," "]})}),s.jsxs(G,{children:[s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{children:[s.jsx(Ot,{children:""}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:" "}),s.jsx(Ot,{children:""})]})}),s.jsx(uu,{children:l.map(g=>{var y,b;return s.jsxs(us,{children:[s.jsx(St,{children:g.id}),s.jsx(St,{children:(a==null?void 0:a.id)===g.id?s.jsx(fe,{value:a.name,onChange:j=>i({...a,name:j.target.value}),className:"max-w-[150px]"}):s.jsx(ge,{variant:"outline",children:g.name})}),s.jsx(St,{children:(a==null?void 0:a.id)===g.id?s.jsx(fe,{value:a.name_ar,onChange:j=>i({...a,name_ar:j.target.value}),className:"max-w-[150px]"}):g.name_ar}),s.jsx(St,{children:(a==null?void 0:a.id)===g.id?s.jsxs("div",{className:"space-y-2 max-w-[300px]",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:" :"}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:[o.slice(0,6).map(j=>{var w;return s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-xs",children:[s.jsx(zg,{id:`table-edit-${j.id}`,checked:(w=a.permissions)==null?void 0:w.includes(j.id),onCheckedChange:N=>v(j.id,N,!0),className:"w-3 h-3"}),s.jsx("label",{htmlFor:`table-edit-${j.id}`,className:"text-xs leading-none cursor-pointer",children:j.name})]},j.id)}),o.length>6&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",o.length-6,"  ..."]})]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ge,{variant:"secondary",children:[((y=g.permissions)==null?void 0:y.length)||0," "]}),((b=g.permissions)==null?void 0:b.length)>0&&s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>{e({title:` : ${g.name_ar}`,description:s.jsxs("div",{className:"space-y-1",children:[g.permissions.slice(0,5).map(j=>{const w=o.find(N=>N.id===j);return w?s.jsxs("div",{className:"text-xs",children:[" ",w.name]},j):null}),g.permissions.length>5&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",g.permissions.length-5,"  ..."]})]})})},className:"h-6 px-2 text-xs",children:""})]})}),s.jsx(St,{children:s.jsx("div",{className:"flex items-center gap-2",children:(a==null?void 0:a.id)===g.id?s.jsxs(s.Fragment,{children:[s.jsxs(W,{size:"sm",onClick:m,disabled:d.isPending,className:"flex items-center gap-1",children:[s.jsx(qd,{className:"w-3 h-3"}),""]}),s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>i(null),children:[s.jsx(Pm,{className:"w-3 h-3"}),""]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>i({...g}),className:"flex items-center gap-1",children:[s.jsx(Hr,{className:"w-3 h-3"}),""]}),s.jsxs(W,{size:"sm",variant:"destructive",onClick:()=>f.mutate(g.id),disabled:f.isPending,className:"flex items-center gap-1",children:[s.jsx(ya,{className:"w-3 h-3"}),""]})]})})})]},g.id)})})]}),l.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"     "})]})]}),a&&s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-4 h-4"}),"  : ",a.name_ar]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"             "})]}),s.jsxs(G,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(g=>{var y;return s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(zg,{id:`edit-${g.id}`,checked:(y=a.permissions)==null?void 0:y.includes(g.id),onCheckedChange:b=>v(g.id,b,!0)}),s.jsx("label",{htmlFor:`edit-${g.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:g.name}),s.jsx(ge,{variant:"outline",className:"text-xs",children:g.category})]},g.id)})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[": ",((p=a.permissions)==null?void 0:p.length)||0,"  "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(W,{size:"sm",variant:"outline",onClick:()=>i({...a,permissions:o.map(g=>g.id)}),children:" "}),s.jsx(W,{size:"sm",variant:"outline",onClick:()=>i({...a,permissions:[]}),children:"  "})]})]})]})]})]})}function OIe(){const{user:e}=ii(),{toast:t}=Sn(),n=qn(),{data:r}=$e({queryKey:["/api/settings/system"],enabled:!!e}),{data:a}=$e({queryKey:["/api/settings/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:i}=$e({queryKey:["/api/database/stats"],enabled:!!e}),o=L=>Array.isArray(L)?L.reduce((Z,Be)=>(Z[Be.setting_key]=Be.setting_value,Z),{}):{},[l,c]=x.useState({displayName:(e==null?void 0:e.display_name_ar)||"",email:"",phone:"",language:"ar",theme:"light",notifications:{email:!0,sms:!1,push:!0,sound:!0},dashboard:{autoRefresh:!0,refreshInterval:30,compactView:!1}}),[u,d]=x.useState(""),[f,h]=x.useState({tableCount:8,totalRecords:1247,databaseSize:"45.2 MB",lastBackup:""}),[m,v]=x.useState({companyName:"  MPBF",timezone:"Asia/Riyadh",currency:"SAR",language:"ar",dateFormat:"DD/MM/YYYY",country:"  ",region:"",workingHours:{start:"08:00",end:"17:00"},shifts:[{id:1,name:"",start:"08:00",end:"16:00"},{id:2,name:"",start:"16:00",end:"00:00"},{id:3,name:"",start:"00:00",end:"08:00"}],backup:{enabled:!0,frequency:"daily",retention:30}});x.useEffect(()=>{if(r&&Array.isArray(r)){const L=o(r);v(Z=>({...Z,companyName:L.companyName||Z.companyName,timezone:L.timezone||Z.timezone,currency:L.currency||Z.currency,language:L.language||Z.language,dateFormat:L.dateFormat||Z.dateFormat,country:L.country||Z.country,region:L.region||Z.region,workingHours:{start:L.workingHoursStart||Z.workingHours.start,end:L.workingHoursEnd||Z.workingHours.end}}))}},[r]),x.useEffect(()=>{if(a&&Array.isArray(a)){const L=o(a);c(Z=>({...Z,displayName:L.displayName||Z.displayName,email:L.email||Z.email,phone:L.phone||Z.phone,language:L.language||Z.language,theme:L.theme||Z.theme,notifications:{email:L.notificationsEmail==="true"||Z.notifications.email,sms:L.notificationsSms==="true"||Z.notifications.sms,push:L.notificationsPush==="true"||Z.notifications.push,sound:L.notificationsSound==="true"||Z.notifications.sound},dashboard:{autoRefresh:L.dashboardAutoRefresh==="true"||Z.dashboard.autoRefresh,refreshInterval:parseInt(L.dashboardRefreshInterval)||Z.dashboard.refreshInterval,compactView:L.dashboardCompactView==="true"||Z.dashboard.compactView}}))}},[a]),x.useEffect(()=>{i&&typeof i=="object"&&h(L=>({...L,...i}))},[i]);const[p,g]=x.useState(null),[y,b]=x.useState(!1),[j,w]=x.useState(1),[N,S]=x.useState([]),[_,C]=x.useState([]),[E,P]=x.useState({}),[A,O]=x.useState({batchSize:1e3,skipFirstRow:!0,updateExisting:!1,validateData:!0,continueOnError:!1}),[I,F]=x.useState({processing:!1,current:0,total:0,percentage:0,errors:[],warnings:[]});et({mutationFn:async({tableName:L,file:Z})=>{new FormData;const Be=await Z.text(),Ke=Z.name.endsWith(".json")?"json":Z.name.endsWith(".xlsx")?"excel":"csv";return await Qt(`/api/database/import/${L}`,{method:"POST",body:JSON.stringify({data:Be,format:Ke})})},onSuccess:L=>{n.invalidateQueries({queryKey:["/api/database/stats"]}),g(null),t({title:"   ",description:`  ${L.count||L.importedRecords}    ${L.totalRows||L.count} `})},onError:L=>{t({title:"   ",description:L instanceof Error?L.message:"    ",variant:"destructive"})}});const B=L=>({customers:["id","name","name_ar","phone","email","address","status"],categories:["id","name","name_ar","description"],sections:["id","name","name_ar","description"],items:["id","category_id","name","name_ar"],users:["id","username","display_name","display_name_ar","role_id"],machines:["id","name","name_ar","type","status"],locations:["id","name","name_ar","type"],customer_products:["id","customer_id","category_id","item_id","size_caption","width","left_facing","right_facing","thickness","printing_cylinder","cutting_length_cm","raw_material","master_batch_id","is_printed","cutting_unit","punching","unit_weight_kg","unit_quantity","package_weight_kg","cliche_front_design","cliche_back_design","notes","status","created_at"],orders:["id","customer_id","order_date","status","total_amount"],production_orders:["id","order_id","customer_product_id","quantity_kg","status"]})[L]||[],$=async L=>{try{const Z=await L.text();let Be=[],Ke=[];if(L.name.endsWith(".json")){const ne=JSON.parse(Z);Array.isArray(ne)&&ne.length>0&&(Be=ne,Ke=Object.keys(ne[0]))}else if(L.name.endsWith(".csv")){const ne=Z.split(`
`).filter(pe=>pe.trim());ne.length>0&&(Ke=ne[0].split(",").map(pe=>pe.trim().replace(/"/g,"")),Be=ne.slice(1).map(pe=>{const kt=pe.split(",").map(se=>se.trim().replace(/"/g,"")),z={};return Ke.forEach((se,he)=>{z[se]=kt[he]||""}),z}))}else L.name.endsWith(".xlsx")&&(Ke=["Column 1","Column 2","Column 3"],Be=[{"Column 1":"   Excel  ","Column 2":"","Column 3":""}]);S(Be),C(Ke);const st=B(u),$t={};st.forEach(ne=>{const pe=Ke.find(kt=>kt.toLowerCase().includes(ne.toLowerCase())||ne.toLowerCase().includes(kt.toLowerCase()));pe&&($t[ne]=pe)}),P($t),w(2),t({title:"   ",description:`   ${Be.length}   ${Ke.length} `})}catch{t({title:"   ",description:"    ",variant:"destructive"})}},R=async L=>{if(L&&L[0]){const Z=L[0];["text/csv","application/json","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(Z.type)||Z.name.endsWith(".csv")||Z.name.endsWith(".json")||Z.name.endsWith(".xlsx")?(g(Z),u?await $(Z):t({title:"   ",description:"     ",variant:"destructive"})):t({title:"   ",description:"   CSV  JSON  Excel",variant:"destructive"})}},M=L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?b(!0):L.type==="dragleave"&&b(!1)},T=L=>{L.preventDefault(),L.stopPropagation(),b(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&R(L.dataTransfer.files)},J=et({mutationFn:async({tableName:L,mappedData:Z,options:Be})=>{F(st=>({...st,processing:!0,total:Z.length}));const Ke={successful:0,failed:0,errors:[],warnings:[]};for(let st=0;st<Z.length;st+=Be.batchSize){const $t=Z.slice(st,st+Be.batchSize);try{const pe=await(await Qt(`/api/database/import/${L}/batch`,{method:"POST",body:JSON.stringify({data:$t,options:{...Be,batchNumber:Math.floor(st/Be.batchSize)+1,totalBatches:Math.ceil(Z.length/Be.batchSize)}})})).json();Ke.successful+=pe.successful||$t.length,pe.errors&&pe.errors.length>0&&Ke.errors.push(...pe.errors),pe.warnings&&pe.warnings.length>0&&Ke.warnings.push(...pe.warnings)}catch(ne){if(Ke.failed+=$t.length,Ke.errors.push(`   ${Math.floor(st/Be.batchSize)+1}: ${ne}`),!Be.continueOnError)throw ne}F(ne=>({...ne,current:Math.min(st+Be.batchSize,Z.length),percentage:Math.round(Math.min(st+Be.batchSize,Z.length)/Z.length*100),errors:Ke.errors,warnings:Ke.warnings})),await new Promise(ne=>setTimeout(ne,100))}return Ke},onSuccess:L=>{n.invalidateQueries({queryKey:["/api/database/stats"]}),F(Z=>({...Z,processing:!1})),w(3),t({title:" ",description:`  ${L.successful}   ${L.failed} `})},onError:L=>{F(Z=>({...Z,processing:!1})),t({title:"  ",description:L instanceof Error?L.message:"    ",variant:"destructive"})}}),re=()=>{if(!p||!u||N.length===0){t({title:" ",description:"       ",variant:"destructive"});return}const Z=N.map(Be=>{const Ke={};return Object.entries(E).forEach(([st,$t])=>{$t&&Be[$t]!==void 0&&(Ke[st]=Be[$t])}),Ke}).filter(Be=>Object.values(Be).some(Ke=>Ke!==""&&Ke!==null&&Ke!==void 0));if(Z.length===0){t({title:"   ",description:"     ",variant:"destructive"});return}J.mutate({tableName:u,mappedData:Z,options:A})},X=()=>{g(null),S([]),C([]),P({}),w(1),F({processing:!1,current:0,total:0,percentage:0,errors:[],warnings:[]})},ye=L=>{d(L),p&&j===1&&$(p)},Re=et({mutationFn:async()=>await Qt("/api/database/backup",{method:"POST"}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/database/stats"]}),t({title:"   ",description:"    "})},onError:()=>{t({title:"    ",description:"     ",variant:"destructive"})}}),Je=et({mutationFn:async({tableName:L,format:Z})=>{const Be=await fetch(`/api/database/export/${L}?format=${Z}`);if(!Be.ok)throw new Error("Export failed");const Ke=await Be.blob(),st=window.URL.createObjectURL(Ke),$t=document.createElement("a");$t.href=st,$t.download=`${L}.${Z}`,document.body.appendChild($t),$t.click(),document.body.removeChild($t),window.URL.revokeObjectURL(st)},onSuccess:()=>{t({title:"  ",description:"    "})},onError:()=>{t({title:"   ",description:"    ",variant:"destructive"})}}),lt=et({mutationFn:async()=>await Qt("/api/database/optimize",{method:"POST"}),onSuccess:()=>{t({title:"  ",description:"    "})},onError:()=>{t({title:"   ",description:"    ",variant:"destructive"})}}),je=et({mutationFn:async()=>await Qt("/api/database/integrity-check",{method:"POST"}),onSuccess:()=>{t({title:" ",description:"     "})},onError:()=>{t({title:"   ",description:"      ",variant:"destructive"})}}),Oe=et({mutationFn:async()=>await Qt("/api/database/cleanup",{method:"POST",body:JSON.stringify({daysOld:90})}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/database/stats"]}),t({title:"  ",description:"    "})},onError:()=>{t({title:"   ",description:"     ",variant:"destructive"})}}),ce=et({mutationFn:async L=>{const Z={displayName:L.displayName,email:L.email,phone:L.phone,language:L.language,theme:L.theme,notificationsEmail:L.notifications.email.toString(),notificationsSms:L.notifications.sms.toString(),notificationsPush:L.notifications.push.toString(),notificationsSound:L.notifications.sound.toString(),dashboardAutoRefresh:L.dashboard.autoRefresh.toString(),dashboardRefreshInterval:L.dashboard.refreshInterval.toString(),dashboardCompactView:L.dashboard.compactView.toString()};return await Qt(`/api/settings/user/${e==null?void 0:e.id}`,{method:"POST",body:JSON.stringify({settings:Z})})},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/settings/user",e==null?void 0:e.id]}),t({title:"  ",description:"   "})},onError:()=>{t({title:"  ",description:"    ",variant:"destructive"})}}),_e=et({mutationFn:async L=>{const Z={companyName:L.companyName,timezone:L.timezone,currency:L.currency,language:L.language,dateFormat:L.dateFormat,country:L.country,region:L.region,workingHoursStart:L.workingHours.start,workingHoursEnd:L.workingHours.end};return await Qt("/api/settings/system",{method:"POST",body:JSON.stringify({settings:Z,userId:e==null?void 0:e.id})})},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/settings/system"]}),t({title:"  ",description:"   "})},onError:()=>{t({title:"  ",description:"     ",variant:"destructive"})}}),H=()=>{ce.mutate(l)},Y=()=>{_e.mutate(m)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:"    "})]}),s.jsxs(Is,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(vs,{className:"grid w-full grid-cols-5",children:[s.jsxs(mt,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-4 h-4"})," "]}),s.jsxs(mt,{value:"roles",className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-4 h-4"})," "]}),s.jsxs(mt,{value:"notifications",className:"flex items-center gap-2",children:[s.jsx(fo,{className:"w-4 h-4"}),""]}),s.jsxs(mt,{value:"system",className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-4 h-4"}),""]}),s.jsxs(mt,{value:"database",className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-4 h-4"})," "]})]}),s.jsx(ct,{value:"profile",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Fl,{className:"w-5 h-5"})," "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"displayName",children:" "}),s.jsx(fe,{id:"displayName",value:l.displayName,onChange:L=>c(Z=>({...Z,displayName:L.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"email",children:" "}),s.jsx(fe,{id:"email",type:"email",value:l.email,onChange:L=>c(Z=>({...Z,email:L.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"phone",children:" "}),s.jsx(fe,{id:"phone",value:l.phone,onChange:L=>c(Z=>({...Z,phone:L.target.value})),placeholder:"+966 5X XXX XXXX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"language",children:" "}),s.jsxs(Xe,{value:l.language??"ar",onValueChange:L=>c(Z=>({...Z,language:L})),children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"ar",children:""}),s.jsx(q,{value:"en",children:"English"})]})]})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:""}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l.theme==="light"?s.jsx(fJ,{className:"w-4 h-4"}):s.jsx(oJ,{className:"w-4 h-4"}),s.jsx(de,{children:" "})]}),s.jsx(zs,{checked:l.theme==="dark",onCheckedChange:L=>c(Z=>({...Z,theme:L?"dark":"light"}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f2,{className:"w-4 h-4"}),s.jsx(de,{children:" "})]}),s.jsx(zs,{checked:l.dashboard.compactView,onCheckedChange:L=>c(Z=>({...Z,dashboard:{...Z.dashboard,compactView:L}}))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(W,{onClick:H,disabled:ce.isPending,children:[ce.isPending?s.jsx(Br,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Fx,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(ct,{value:"roles",className:"space-y-6",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(G,{children:s.jsx(AIe,{})})]})}),s.jsx(ct,{value:"notifications",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(fo,{className:"w-5 h-5"})," "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),s.jsx(zs,{checked:l.notifications.email,onCheckedChange:L=>c(Z=>({...Z,notifications:{...Z.notifications,email:L}}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),s.jsx(zs,{checked:l.notifications.sms,onCheckedChange:L=>c(Z=>({...Z,notifications:{...Z.notifications,sms:L}}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),s.jsx(zs,{checked:l.notifications.push,onCheckedChange:L=>c(Z=>({...Z,notifications:{...Z.notifications,push:L}}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l.notifications.sound?s.jsx(m2,{className:"w-4 h-4"}):s.jsx(O6,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})]}),s.jsx(zs,{checked:l.notifications.sound,onCheckedChange:L=>c(Z=>({...Z,notifications:{...Z.notifications,sound:L}}))})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:"  "}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),s.jsx(zs,{checked:l.dashboard.autoRefresh,onCheckedChange:L=>c(Z=>({...Z,dashboard:{...Z.dashboard,autoRefresh:L}}))})]}),l.dashboard.autoRefresh&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"refreshInterval",children:"  ()"}),s.jsxs(Xe,{value:(l.dashboard.refreshInterval??30).toString(),onValueChange:L=>c(Z=>({...Z,dashboard:{...Z.dashboard,refreshInterval:parseInt(L)}})),children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"15",children:"15 "}),s.jsx(q,{value:"30",children:"30 "}),s.jsx(q,{value:"60",children:" "}),s.jsx(q,{value:"300",children:"5 "})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(W,{onClick:H,disabled:ce.isPending,children:[ce.isPending?s.jsx(Br,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Fx,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(ct,{value:"system",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"w-5 h-5"}),"  "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"companyName",children:" "}),s.jsx(fe,{id:"companyName",value:m.companyName,onChange:L=>v(Z=>({...Z,companyName:L.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"country",children:""}),s.jsx(fe,{id:"country",value:m.country,readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"region",children:""}),s.jsxs(Xe,{value:m.region??"",onValueChange:L=>v(Z=>({...Z,region:L})),children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:" ",children:" "}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""}),s.jsx(q,{value:"",children:""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"timezone",children:" "}),s.jsx(fe,{id:"timezone",value:" (UTC+3)",readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"currency",children:""}),s.jsx(fe,{id:"currency",value:"  (SAR)",readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"language",children:" "}),s.jsxs(Xe,{value:m.language??"ar",onValueChange:L=>v(Z=>({...Z,language:L})),children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"ar",children:""}),s.jsx(q,{value:"en",children:"English"})]})]})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"workStart",children:" "}),s.jsx(fe,{id:"workStart",type:"time",value:m.workingHours.start,onChange:L=>v(Z=>({...Z,workingHours:{...Z.workingHours,start:L.target.value}}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"workEnd",children:" "}),s.jsx(fe,{id:"workEnd",type:"time",value:m.workingHours.end,onChange:L=>v(Z=>({...Z,workingHours:{...Z.workingHours,end:L.target.value}}))})]})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:""}),s.jsx("div",{className:"space-y-2",children:m.shifts.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:L.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",L.start,"  ",L.end]})]}),s.jsx(ge,{variant:"outline",children:""})]},L.id))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(W,{onClick:Y,disabled:_e.isPending,children:[_e.isPending?s.jsx(Br,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Fx,{className:"w-4 h-4 mr-2"}),"  "]})})]})]})}),s.jsx(ct,{value:"database",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-5 h-5"}),"  "]})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(KZ,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tl,{className:"w-4 h-4 text-blue-500"}),s.jsx(de,{className:"text-sm font-medium",children:"  "})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"      "}),s.jsxs(W,{className:"w-full",size:"sm",disabled:Re.isPending,onClick:()=>Re.mutate(),children:[Re.isPending?s.jsx(Br,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tl,{className:"w-4 h-4 mr-2"}),"  "]})]})}),s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hh,{className:"w-4 h-4 text-green-500"}),s.jsx(de,{className:"text-sm font-medium",children:"  "})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"     "}),s.jsxs(W,{variant:"outline",className:"w-full",size:"sm",children:[s.jsx(hh,{className:"w-4 h-4 mr-2"})," "]})]})})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(H_,{className:"w-4 h-4"}),"   "]}),j>1&&s.jsx(W,{variant:"outline",size:"sm",onClick:X,children:" "})]}),s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(tl,{className:"w-4 h-4 text-blue-500"}),s.jsx(de,{className:"text-sm font-medium",children:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"  "}),s.jsxs(Xe,{value:u,onValueChange:ye,children:[s.jsx(Ge,{children:s.jsx(Ze,{placeholder:"    "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"customers",children:" (Customers)"}),s.jsx(q,{value:"categories",children:" (Categories)"}),s.jsx(q,{value:"sections",children:" (Sections)"}),s.jsx(q,{value:"items",children:" (Items)"}),s.jsx(q,{value:"customer_products",children:"  (Customer Products)"}),s.jsx(q,{value:"users",children:" (Users)"}),s.jsx(q,{value:"machines",children:" (Machines)"}),s.jsx(q,{value:"locations",children:" (Locations)"}),s.jsx(q,{value:"orders",children:" (Orders)"}),s.jsx(q,{value:"production_orders",children:"  (Production Orders)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!u||Je.isPending,onClick:()=>u&&Je.mutate({tableName:u,format:"csv"}),children:[s.jsx(tl,{className:"w-4 h-4"})," CSV"]}),s.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!u||Je.isPending,onClick:()=>u&&Je.mutate({tableName:u,format:"json"}),children:[s.jsx(tl,{className:"w-4 h-4"})," JSON"]}),s.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:!u||Je.isPending,onClick:()=>u&&Je.mutate({tableName:u,format:"excel"}),children:[s.jsx(tl,{className:"w-4 h-4"})," Excel"]})]})]})}),s.jsx(K,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(hh,{className:"w-4 h-4 text-green-500"}),s.jsx(de,{className:"text-sm font-medium",children:"  "}),s.jsxs(ge,{variant:"outline",className:"text-xs",children:[" ",j,"  3"]})]}),j===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${y?"border-primary bg-primary/5":"border-gray-300"}`,onDragEnter:M,onDragLeave:M,onDragOver:M,onDrop:T,children:[s.jsx(hh,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),p?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["  : ",p.name]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",(p.size/1024).toFixed(1)," KB"]}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(W,{size:"sm",onClick:()=>p&&$(p),disabled:!u,children:[s.jsx(hh,{className:"w-4 h-4 mr-2"})," "]}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>g(null),children:""})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"       "}),s.jsx("p",{className:"text-xs text-gray-500",children:" : CSV, JSON, Excel (.xlsx)"}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"  5000+    "}),s.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".csv,.json,.xlsx",onChange:L=>R(L.target.files)}),s.jsx(W,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>{var L;return(L=document.getElementById("fileInput"))==null?void 0:L.click()},children:" "})]})]}),!u&&s.jsx("div",{className:"text-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-700",children:"       "})})]}),j===2&&N.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"text-sm font-medium",children:"   "}),s.jsxs(ge,{variant:"secondary",children:[N.length," "]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(de,{className:"text-sm font-medium",children:"     "}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-3 border rounded-lg bg-gray-50",children:B(u).map(L=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs(de,{className:"w-24 text-right font-medium",children:[L,":"]}),s.jsxs(Xe,{value:E[L]||"",onValueChange:Z=>P(Be=>({...Be,[L]:Z})),children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ze,{placeholder:" "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"none",children:"--   --"}),_.map(Z=>s.jsx(q,{value:Z,children:Z},Z))]})]})]},L))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(de,{className:"text-sm font-medium",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-xs",children:" "}),s.jsxs(Xe,{value:A.batchSize.toString(),onValueChange:L=>O(Z=>({...Z,batchSize:parseInt(L)})),children:[s.jsx(Ge,{className:"h-8",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"500",children:"500 "}),s.jsx(q,{value:"1000",children:"1000 "}),s.jsx(q,{value:"2000",children:"2000 "})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zs,{checked:A.updateExisting,onCheckedChange:L=>O(Z=>({...Z,updateExisting:L}))}),s.jsx(de,{className:"text-xs",children:"  "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zs,{checked:A.continueOnError,onCheckedChange:L=>O(Z=>({...Z,continueOnError:L}))}),s.jsx(de,{className:"text-xs",children:"   "})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"  ( 5 )"}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsx("tr",{children:_.slice(0,5).map((L,Z)=>s.jsx("th",{className:"p-2 text-right border",children:L},Z))})}),s.jsx("tbody",{children:N.slice(0,5).map((L,Z)=>s.jsx("tr",{className:"hover:bg-gray-50",children:_.slice(0,5).map((Be,Ke)=>s.jsx("td",{className:"p-2 border",children:L[Be]||""},Ke))},Z))})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(W,{variant:"outline",onClick:()=>w(1),children:""}),s.jsx(W,{onClick:re,children:" "})]})]}),j===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h5",{className:"text-sm font-medium",children:" "}),s.jsx(ge,{variant:I.processing?"default":"secondary",children:I.processing?" ...":""})]}),I.processing&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[I.current," / ",I.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${I.percentage}%`}})}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[I.percentage,"% "]})]}),I.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-medium text-red-600",children:""}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-3 bg-red-50 border border-red-200 rounded-lg",children:I.errors.map((L,Z)=>s.jsx("p",{className:"text-xs text-red-700 mb-1",children:L},Z))})]}),I.warnings.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-medium text-yellow-600",children:""}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:I.warnings.map((L,Z)=>s.jsx("p",{className:"text-xs text-yellow-700 mb-1",children:L},Z))})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsx(W,{variant:"outline",onClick:X,children:" "})})]})]})})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(H_,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(K,{className:"p-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.tableCount}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})}),s.jsx(K,{className:"p-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.totalRecords.toLocaleString("ar-SA")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})}),s.jsx(K,{className:"p-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.databaseSize}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]})}),s.jsx(K,{className:"p-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.lastBackup}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"  "})]})})]})]}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(wn,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:lt.isPending,onClick:()=>lt.mutate(),children:[lt.isPending?s.jsx(Br,{className:"w-4 h-4 animate-spin"}):s.jsx(Br,{className:"w-4 h-4"})," "]}),s.jsxs(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:je.isPending,onClick:()=>je.mutate(),children:[je.isPending?s.jsx(Br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ol,{className:"w-4 h-4"})," "]}),s.jsxs(W,{variant:"destructive",size:"sm",className:"flex items-center gap-2",disabled:Oe.isPending,onClick:()=>Oe.mutate(),children:[Oe.isPending?s.jsx(Br,{className:"w-4 h-4 animate-spin"}):s.jsx(ya,{className:"w-4 h-4"}),"  "]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(W,{children:[s.jsx(Fx,{className:"w-4 h-4 mr-2"}),"   "]})})]})]})}),s.jsx(ct,{value:"security",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"})," "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"  "}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"currentPassword",children:"  "}),s.jsx(fe,{id:"currentPassword",type:"password",placeholder:"   "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"newPassword",children:"  "}),s.jsx(fe,{id:"newPassword",type:"password",placeholder:"   "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"confirmPassword",children:"  "}),s.jsx(fe,{id:"confirmPassword",type:"password",placeholder:"   "})]}),s.jsx(W,{className:"mt-2",children:"  "})]})}),s.jsx(no,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium",children:" "}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-base",children:"   "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(zs,{defaultChecked:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"sessionTimeout",children:"  "}),s.jsxs(Xe,{defaultValue:"30",children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"15",children:"15 "}),s.jsx(q,{value:"30",children:"30 "}),s.jsx(q,{value:"60",children:" "}),s.jsx(q,{value:"120",children:""})]})]})]})]})]})]})})]})]})]})]})}const TIe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},MIe=(e,t,n)=>{const r=TIe[e];let a;return typeof r=="string"?a=r:t===1?a=r.one:t===2?a=r.two:t<=10?a=r.threeToTen.replace("{{count}}",String(t)):a=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+a:" "+a:a},$Ie={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},DIe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},IIe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RIe={date:jd({formats:$Ie,defaultWidth:"full"}),time:jd({formats:DIe,defaultWidth:"full"}),dateTime:jd({formats:IIe,defaultWidth:"full"})},FIe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},LIe=e=>FIe[e],BIe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},zIe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},qIe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},WIe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},UIe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},VIe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},KIe=e=>String(e),HIe={ordinalNumber:KIe,era:yi({values:BIe,defaultWidth:"wide"}),quarter:yi({values:zIe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yi({values:qIe,defaultWidth:"wide"}),day:yi({values:WIe,defaultWidth:"wide"}),dayPeriod:yi({values:UIe,defaultWidth:"wide",formattingValues:VIe,defaultFormattingWidth:"wide"})},GIe=/^(\d+)(th|st|nd|rd)?/i,YIe=/\d+/i,QIe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},XIe={any:[//,//]},ZIe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},JIe={any:[/1/i,/2/i,/3/i,/4/i]},eRe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},tRe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},nRe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},rRe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},sRe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},aRe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},iRe={ordinalNumber:O7({matchPattern:GIe,parsePattern:YIe,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:QIe,defaultMatchWidth:"wide",parsePatterns:XIe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:ZIe,defaultMatchWidth:"wide",parsePatterns:JIe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:eRe,defaultMatchWidth:"wide",parsePatterns:tRe,defaultParseWidth:"any"}),day:vi({matchPatterns:nRe,defaultMatchWidth:"wide",parsePatterns:rRe,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:sRe,defaultMatchWidth:"any",parsePatterns:aRe,defaultParseWidth:"any"})},eK={code:"ar",formatDistance:MIe,formatLong:RIe,formatRelative:LIe,localize:HIe,match:iRe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Pt=function(){return Pt=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pt.apply(this,arguments)};function oRe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function tK(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ax(e){return e.mode==="multiple"}function ix(e){return e.mode==="range"}function Hb(e){return e.mode==="single"}var lRe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function cRe(e,t){return nn(e,"LLLL y",t)}function uRe(e,t){return nn(e,"d",t)}function dRe(e,t){return nn(e,"LLLL",t)}function fRe(e){return"".concat(e)}function hRe(e,t){return nn(e,"cccccc",t)}function mRe(e,t){return nn(e,"yyyy",t)}var pRe=Object.freeze({__proto__:null,formatCaption:cRe,formatDay:uRe,formatMonthCaption:dRe,formatWeekNumber:fRe,formatWeekdayName:hRe,formatYearCaption:mRe}),xRe=function(e,t,n){return nn(e,"do MMMM (EEEE)",n)},gRe=function(){return"Month: "},yRe=function(){return"Go to next month"},vRe=function(){return"Go to previous month"},bRe=function(e,t){return nn(e,"cccc",t)},jRe=function(e){return"Week n. ".concat(e)},wRe=function(){return"Year: "},_Re=Object.freeze({__proto__:null,labelDay:xRe,labelMonthDropdown:gRe,labelNext:yRe,labelPrevious:vRe,labelWeekNumber:jRe,labelWeekday:bRe,labelYearDropdown:wRe});function NRe(){var e="buttons",t=lRe,n=pP,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:pRe,labels:_Re,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function SRe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Ts(r):t&&(i=new Date(t,0,1)),a?o=Ub(a):n&&(o=new Date(n,11,31)),{fromDate:i?Pf(i):void 0,toDate:o?Pf(o):void 0}}var nK=x.createContext(void 0);function CRe(e){var t,n=e.initialProps,r=NRe(),a=SRe(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Hb(n)||ax(n)||ix(n))&&(c=n.onSelect);var u=Pt(Pt(Pt({},r),n),{captionLayout:l,classNames:Pt(Pt({},r.classNames),n.classNames),components:Pt({},n.components),formatters:Pt(Pt({},r.formatters),n.formatters),fromDate:i,labels:Pt(Pt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Pt(Pt({},r.modifiers),n.modifiers),modifiersClassNames:Pt(Pt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Pt(Pt({},r.styles),n.styles),toDate:o});return s.jsx(nK.Provider,{value:u,children:e.children})}function Mn(){var e=x.useContext(nK);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rK(e){var t=Mn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function PRe(e){return s.jsx("svg",Pt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sK(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Mn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:PRe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ERe(e){var t,n=Mn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(VDe(r,a))for(var h=Ts(r),m=r.getMonth();m<=a.getMonth();m++)f.push(Pw(h,m));else for(var h=Ts(new Date),m=0;m<=11;m++)f.push(Pw(h,m));var v=function(g){var y=Number(g.target.value),b=Pw(Ts(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sK;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function kRe(e){var t,n=e.displayMonth,r=Mn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),v=i.getFullYear(),p=m;p<=v;p++)h.push(U$(k7(new Date),p));var g=function(b){var j=U$(Ts(n),Number(b.target.value));e.onChange(j)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sK;return s.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function ARe(e,t){var n=x.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function ORe(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&kf(i,a)<0){var u=-1*(c-1);a=si(i,u)}return o&&kf(a,o)<0&&(a=o),Ts(a)}function TRe(){var e=Mn(),t=ORe(e),n=ARe(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=Ts(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function MRe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=Ts(e),i=Ts(si(a,r)),o=kf(i,a),l=[],c=0;c<o;c++){var u=si(a,c);l.push(u)}return n&&(l=l.reverse()),l}function $Re(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Ts(e);if(!n)return si(l,o);var c=kf(n,e);if(!(c<i))return si(l,o)}}function DRe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Ts(e);if(!n)return si(l,-o);var c=kf(l,n);if(!(c<=0))return si(l,-o)}}var aK=x.createContext(void 0);function IRe(e){var t=Mn(),n=TRe(),r=n[0],a=n[1],i=MRe(r,t),o=$Re(r,t),l=DRe(r,t),c=function(f){return i.some(function(h){return xP(f,h)})},u=function(f,h){c(f)||(h&&I7(f,h)?a(si(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(aK.Provider,{value:d,children:e.children})}function ox(){var e=x.useContext(aK);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K$(e){var t,n=Mn(),r=n.classNames,a=n.styles,i=n.components,o=ox().goToMonth,l=function(d){o(si(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rK,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(ERe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(kRe,{onChange:l,displayMonth:e.displayMonth})]})}function RRe(e){return s.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function FRe(e){return s.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Yv=x.forwardRef(function(e,t){var n=Mn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=Pt(Pt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Pt({},e,{ref:t,type:"button",className:o,style:l}))});function LRe(e){var t,n,r=Mn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:FRe,y=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:RRe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Yv,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Yv,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function H$(e){var t=Mn().numberOfMonths,n=ox(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(v){return xP(e.displayMonth,v)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&i(r)},m=function(){a&&i(a)};return s.jsx(LRe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:r,onPreviousClick:h,onNextClick:m})}function BRe(e){var t,n=Mn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rK,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(K$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(K$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(H$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(H$,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:u})}function zRe(e){var t=Mn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function qRe(e,t,n){for(var r=n?pu(new Date):Li(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=ls(r,i);a.push(o)}return a}function WRe(){var e=Mn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=qRe(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function URe(){var e,t=Mn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:WRe;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function VRe(e){var t=Mn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var bP=x.createContext(void 0);function KRe(e){if(!ax(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(bP.Provider,{value:t,children:e.children})}return s.jsx(HRe,{initialProps:e.initialProps,children:e.children})}function HRe(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var p=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var g=r?tK([],r):[];if(d.selected){var y=g.findIndex(function(b){return Ps(u,b)});g.splice(y,1)}else g.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,g,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(h){return Ps(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(bP.Provider,{value:c,children:n})}function jP(){var e=x.useContext(bP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function GRe(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Ps(a,e)&&Ps(r,e)?void 0:Ps(a,e)?{from:a,to:void 0}:Ps(r,e)?void 0:Z1(r,e)?{from:e,to:a}:{from:r,to:e}:a?Z1(e,a)?{from:a,to:e}:{from:e,to:a}:r?I7(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var wP=x.createContext(void 0);function YRe(e){if(!ix(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(wP.Provider,{value:t,children:e.children})}return s.jsx(QRe,{initialProps:e.initialProps,children:e.children})}function QRe(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,v,p){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,m,v,p);var b=GRe(m,r);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Ps(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Cw(i,l-1),before:ls(i,l-1)}),i&&o&&d.disabled.push({after:i,before:ls(i,l-1)}),!i&&o&&d.disabled.push({after:Cw(o,l-1),before:ls(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:ls(i,-c+1)}),d.disabled.push({after:ls(i,c-1)})),i&&o){var f=_i(o,i)+1,h=c-f;d.disabled.push({before:Cw(i,h)}),d.disabled.push({after:ls(o,h)})}!i&&o&&(d.disabled.push({before:ls(o,-c+1)}),d.disabled.push({after:ls(o,c-1)}))}return s.jsx(wP.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function _P(){var e=x.useContext(wP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function qg(e){return Array.isArray(e)?tK([],e):e!==void 0?[e]:[]}function XRe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=qg(a)}),t}var ai;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ai||(ai={}));var ZRe=ai.Selected,Zi=ai.Disabled,JRe=ai.Hidden,e5e=ai.Today,Ew=ai.RangeEnd,kw=ai.RangeMiddle,Aw=ai.RangeStart,t5e=ai.Outside;function n5e(e,t,n){var r,a=(r={},r[ZRe]=qg(e.selected),r[Zi]=qg(e.disabled),r[JRe]=qg(e.hidden),r[e5e]=[e.today],r[Ew]=[],r[kw]=[],r[Aw]=[],r[t5e]=[],r);return e.fromDate&&a[Zi].push({before:e.fromDate}),e.toDate&&a[Zi].push({after:e.toDate}),ax(e)?a[Zi]=a[Zi].concat(t.modifiers[Zi]):ix(e)&&(a[Zi]=a[Zi].concat(n.modifiers[Zi]),a[Aw]=n.modifiers[Aw],a[kw]=n.modifiers[kw],a[Ew]=n.modifiers[Ew]),a}var iK=x.createContext(void 0);function r5e(e){var t=Mn(),n=jP(),r=_P(),a=n5e(t,n,r),i=XRe(t.modifiers),o=Pt(Pt({},a),i);return s.jsx(iK.Provider,{value:o,children:e.children})}function oK(){var e=x.useContext(iK);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function s5e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function a5e(e){return!!(e&&typeof e=="object"&&"from"in e)}function i5e(e){return!!(e&&typeof e=="object"&&"after"in e)}function o5e(e){return!!(e&&typeof e=="object"&&"before"in e)}function l5e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function c5e(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=_i(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=_i(e,r)>=0&&_i(a,e)>=0;return o}return a?Ps(a,e):r?Ps(r,e):!1}function u5e(e){return hP(e)}function d5e(e){return Array.isArray(e)&&e.every(hP)}function f5e(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(u5e(n))return Ps(e,n);if(d5e(n))return n.includes(e);if(a5e(n))return c5e(e,n);if(l5e(n))return n.dayOfWeek.includes(e.getDay());if(s5e(n)){var r=_i(n.before,e),a=_i(n.after,e),i=r>0,o=a<0,l=Z1(n.before,n.after);return l?o&&i:i||o}return i5e(n)?_i(e,n.after)>0:o5e(n)?_i(n.before,e)>0:typeof n=="function"?n(e):!1})}function NP(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return f5e(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!xP(e,n)&&(a.outside=!0),a}function h5e(e,t){for(var n=Ts(e[0]),r=Ub(e[e.length-1]),a,i,o=n;o<=r;){var l=NP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=ls(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=ls(o,1)}return i||a}var m5e=365;function lK(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:ls,week:X1,month:si,year:M4e,startOfWeek:function(g){return a.ISOWeek?pu(g):Li(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?A7(g):mP(g,{locale:f,weekStartsOn:c})}},m=h[n](e,r==="after"?1:-1);r==="before"&&u?m=$4e([u,m]):r==="after"&&d&&(m=D4e([d,m]));var v=!0;if(i){var p=NP(m,i);v=!p.disabled&&!p.hidden}return v?m:l.count>m5e?l.lastFocused:lK(m,{moveBy:n,direction:r,context:a,modifiers:i,retry:Pt(Pt({},l),{count:l.count+1})})}var cK=x.createContext(void 0);function p5e(e){var t=ox(),n=oK(),r=x.useState(),a=r[0],i=r[1],o=x.useState(),l=o[0],c=o[1],u=h5e(t.displayMonths,n),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(g){i(g)},m=Mn(),v=function(g,y){if(a){var b=lK(a,{moveBy:g,direction:y,context:m,modifiers:n});Ps(a,b)||(t.goToDate(b,a),h(b))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(cK.Provider,{value:p,children:e.children})}function SP(){var e=x.useContext(cK);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function x5e(e,t){var n=oK(),r=NP(e,n,t);return r}var CP=x.createContext(void 0);function g5e(e){if(!Hb(e.initialProps)){var t={selected:void 0};return s.jsx(CP.Provider,{value:t,children:e.children})}return s.jsx(y5e,{initialProps:e.initialProps,children:e.children})}function y5e(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(CP.Provider,{value:a,children:n})}function uK(){var e=x.useContext(CP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function v5e(e,t){var n=Mn(),r=uK(),a=jP(),i=_P(),o=SP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,v=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(R){var M,T,J,re;Hb(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,e,t,R):ax(n)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,R):ix(n)?(J=i.onDayClick)===null||J===void 0||J.call(i,e,t,R):(re=n.onDayClick)===null||re===void 0||re.call(n,e,t,R)},w=function(R){var M;h(e),(M=n.onDayFocus)===null||M===void 0||M.call(n,e,t,R)},N=function(R){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,e,t,R)},S=function(R){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,e,t,R)},_=function(R){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,e,t,R)},C=function(R){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,e,t,R)},E=function(R){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,e,t,R)},P=function(R){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,e,t,R)},A=function(R){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,e,t,R)},O=function(R){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,e,t,R)},I=function(R){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,e,t,R)},F=function(R){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,e,t,R)},B=function(R){var M;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),u();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),d();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?p():m();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?g():v();break;case"Home":R.preventDefault(),R.stopPropagation(),y();break;case"End":R.preventDefault(),R.stopPropagation(),b();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,e,t,R)},$={onClick:j,onFocus:w,onBlur:N,onKeyDown:B,onKeyUp:F,onMouseEnter:S,onMouseLeave:_,onPointerEnter:C,onPointerLeave:E,onTouchCancel:P,onTouchEnd:A,onTouchMove:O,onTouchStart:I};return $}function b5e(){var e=Mn(),t=uK(),n=jP(),r=_P(),a=Hb(e)?t.selected:ax(e)?n.selected:ix(e)?r.selected:void 0;return a}function j5e(e){return Object.values(ai).includes(e)}function w5e(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(j5e(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function _5e(e,t){var n=Pt({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Pt(Pt({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function N5e(e,t,n){var r,a,i,o=Mn(),l=SP(),c=x5e(e,t),u=v5e(e,c),d=b5e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var S;c.outside||l.focusedDay&&f&&Ps(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,f,c.outside]);var h=w5e(o,c).join(" "),m=_5e(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:VRe,g=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:g,role:"gridcell"},b=l.focusTarget&&Ps(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&Ps(l.focusedDay,e),w=Pt(Pt(Pt({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||b?0:-1,r)),u),N={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:w,divProps:y};return N}function S5e(e){var t=x.useRef(null),n=N5e(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Yv,Pt({name:"day",ref:t},n.buttonProps)):s.jsx("div",Pt({},n.divProps))}function C5e(e){var t=e.number,n=e.dates,r=Mn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,n,m)};return s.jsx(Yv,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function P5e(e){var t,n,r=Mn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:S5e,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:C5e,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},qDe(f))})]})}function G$(e,t,n){for(var r=n!=null&&n.ISOWeek?A7(t):mP(t,n),a=n!=null&&n.ISOWeek?pu(e):Li(e,n),i=_i(r,a),o=[],l=0;l<=i;l++)o.push(ls(a,l));var c=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?T7(d):$7(d,n),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function E5e(e,t){var n=G$(Ts(e),Ub(e),t);if(t!=null&&t.useFixedWeeks){var r=UDe(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=X1(i,6-r),l=G$(X1(i,1),o,t);n.push.apply(n,l)}}return n}function k5e(e){var t,n,r,a=Mn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,v=E5e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:URe,g=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:P5e,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:zRe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(b){return s.jsx(g,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function A5e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var O5e=A5e()?x.useLayoutEffect:x.useEffect,Ow=!1,T5e=0;function Y$(){return"react-day-picker-".concat(++T5e)}function M5e(e){var t,n=e??(Ow?Y$():null),r=x.useState(n),a=r[0],i=r[1];return O5e(function(){a===null&&i(Y$())},[]),x.useEffect(function(){Ow===!1&&(Ow=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function $5e(e){var t,n,r=Mn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=ox().displayMonths,u=M5e(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,p=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Pt(Pt({},h),o.caption_start)),v&&(f.push(i.caption_end),h=Pt(Pt({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Pt(Pt({},h),o.caption_between));var g=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:BRe;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(k5e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function D5e(e){var t=Mn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function I5e(e){var t,n,r=e.initialProps,a=Mn(),i=SP(),o=ox(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Pt(Pt({},a.styles.root),a.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var g;return Pt(Pt({},v),(g={},g[p]=r[p],g))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:D5e;return s.jsx("div",Pt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(v,p){return s.jsx($5e,{displayIndex:p,displayMonth:v},p)})})}))}function R5e(e){var t=e.children,n=oRe(e,["children"]);return s.jsx(CRe,{initialProps:n,children:s.jsx(IRe,{children:s.jsx(g5e,{initialProps:n,children:s.jsx(KRe,{initialProps:n,children:s.jsx(YRe,{initialProps:n,children:s.jsx(r5e,{children:s.jsx(p5e,{children:t})})})})})})})}function F5e(e){return s.jsx(R5e,Pt({},e,{children:s.jsx(I5e,{initialProps:e})}))}function dK({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(F5e,{showOutsideDays:n,className:tt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:tt(nN({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:tt(nN({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(N6,{className:tt("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Rl,{className:tt("h-4 w-4",a),...i})},...r})}dK.displayName="Calendar";var L5e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bo=L5e.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function B5e(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}var z5e="DismissableLayer",J1="dismissableLayer.update",q5e="dismissableLayer.pointerDownOutside",W5e="dismissableLayer.focusOutside",Q$,fK=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hK=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(fK),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=K5e(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=H5e(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Q$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),X$(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Q$)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),X$())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(J1,_),()=>document.removeEventListener(J1,_)},[]),s.jsx(Bo.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});hK.displayName=z5e;var U5e="DismissableLayerBranch",V5e=x.forwardRef((e,t)=>{const n=x.useContext(fK),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Bo.div,{...e,ref:a})});V5e.displayName=U5e;function K5e(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mK(q5e,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function H5e(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&mK(W5e,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X$(){const e=new CustomEvent(J1);document.dispatchEvent(e)}function mK(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?B5e(a,i):a.dispatchEvent(i)}var Tw="focusScope.autoFocusOnMount",Mw="focusScope.autoFocusOnUnmount",Z$={bubbles:!1,cancelable:!0},G5e="FocusScope",pK=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Ft(a),d=Ft(i),f=x.useRef(null),h=Ve(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:Xo(f.current,{select:!0})},g=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Xo(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Xo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[r,l,m.paused]),x.useEffect(()=>{if(l){e4.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Tw,Z$);l.addEventListener(Tw,u),l.dispatchEvent(y),y.defaultPrevented||(Y5e(e3e(xK(l)),{select:!0}),document.activeElement===p&&Xo(l))}return()=>{l.removeEventListener(Tw,u),setTimeout(()=>{const y=new CustomEvent(Mw,Z$);l.addEventListener(Mw,d),l.dispatchEvent(y),y.defaultPrevented||Xo(p??document.body,{select:!0}),l.removeEventListener(Mw,d),e4.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!n&&!r||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const b=p.currentTarget,[j,w]=Q5e(b);j&&w?!p.shiftKey&&y===w?(p.preventDefault(),n&&Xo(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&Xo(w,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(Bo.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});pK.displayName=G5e;function Y5e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xo(r,{select:t}),document.activeElement!==n)return}function Q5e(e){const t=xK(e),n=J$(t,e),r=J$(t.reverse(),e);return[n,r]}function xK(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J$(e,t){for(const n of e)if(!X5e(n,{upTo:t}))return n}function X5e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Z5e(e){return e instanceof HTMLInputElement&&"select"in e}function Xo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Z5e(e)&&t&&e.select()}}var e4=J5e();function J5e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=t4(e,t),e.unshift(t)},remove(t){var n;e=t4(e,t),(n=e[0])==null||n.resume()}}}function t4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function e3e(e){return e.filter(t=>t.tagName!=="A")}var t3e="Arrow",gK=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Bo.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gK.displayName=t3e;var n3e=gK,PP="Popper",[yK,vK]=Jn(PP),[r3e,bK]=yK(PP),jK=e=>{const{__scopePopper:t,children:n}=e,[r,a]=x.useState(null);return s.jsx(r3e,{scope:t,anchor:r,onAnchorChange:a,children:n})};jK.displayName=PP;var wK="PopperAnchor",_K=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=bK(wK,n),o=x.useRef(null),l=Ve(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Bo.div,{...a,ref:l})});_K.displayName=wK;var EP="PopperContent",[s3e,a3e]=yK(EP),NK=x.forwardRef((e,t)=>{var je,Oe,ce,_e,H,Y;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=bK(EP,n),[y,b]=x.useState(null),j=Ve(t,L=>b(L)),[w,N]=x.useState(null),S=Lf(w),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,I={padding:P,boundary:A.filter(o3e),altBoundary:O},{refs:F,floatingStyles:B,placement:$,isPositioned:R,middlewareData:M}=_0({strategy:"fixed",placement:E,whileElementsMounted:(...L)=>w0(...L,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[N0({mainAxis:a+C,alignmentAxis:o}),c&&S0({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?C0():void 0,...I}),c&&P0({...I}),E0({...I,apply:({elements:L,rects:Z,availableWidth:Be,availableHeight:Ke})=>{const{width:st,height:$t}=Z.reference,ne=L.floating.style;ne.setProperty("--radix-popper-available-width",`${Be}px`),ne.setProperty("--radix-popper-available-height",`${Ke}px`),ne.setProperty("--radix-popper-anchor-width",`${st}px`),ne.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),w&&A0({element:w,padding:l}),l3e({arrowWidth:_,arrowHeight:C}),h&&k0({strategy:"referenceHidden",...I})]}),[T,J]=PK($),re=Ft(v);bt(()=>{R&&(re==null||re())},[R,re]);const X=(je=M.arrow)==null?void 0:je.x,ye=(Oe=M.arrow)==null?void 0:Oe.y,Re=((ce=M.arrow)==null?void 0:ce.centerOffset)!==0,[Je,lt]=x.useState();return bt(()=>{y&&lt(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:R?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(H=M.transformOrigin)==null?void 0:H.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(s3e,{scope:n,placedSide:T,onArrowChange:N,arrowX:X,arrowY:ye,shouldHideArrow:Re,children:s.jsx(Bo.div,{"data-side":T,"data-align":J,...p,ref:j,style:{...p.style,animation:R?void 0:"none"}})})})});NK.displayName=EP;var SK="PopperArrow",i3e={top:"bottom",right:"left",bottom:"top",left:"right"},CK=x.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=a3e(SK,r),o=i3e[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(n3e,{...a,ref:n,style:{...a.style,display:"block"}})})});CK.displayName=SK;function o3e(e){return e!==null}var l3e=e=>({name:"transformOrigin",options:e,fn(t){var g,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=PK(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function PK(e){const[t,n="center"]=e.split("-");return[t,n]}var c3e=jK,EK=_K,u3e=NK,d3e=CK,f3e="Portal",kK=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=x.useState(!1);bt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Dp.createPortal(s.jsx(Bo.div,{...r,ref:t}),o):null});kK.displayName=f3e;function h3e(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var kP=e=>{const{present:t,children:n}=e,r=m3e(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,p3e(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};kP.displayName="Presence";function m3e(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=h3e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=fg(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=fg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=fg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=fg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function fg(e){return(e==null?void 0:e.animationName)||"none"}function p3e(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var x3e=Bi[" useInsertionEffect ".trim().toString()]||bt;function g3e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=y3e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=v3e(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function y3e({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return x3e(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function v3e(e){return typeof e=="function"}var Gb="Popover",[AK,qLe]=Jn(Gb,[vK]),lx=vK(),[b3e,ic]=AK(Gb),OK=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=lx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=g3e({prop:r,defaultProp:a??!1,onChange:i,caller:Gb});return s.jsx(c3e,{...l,children:s.jsx(b3e,{scope:t,contentId:Qs(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:n})})};OK.displayName=Gb;var TK="PopoverAnchor",j3e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(TK,n),i=lx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(EK,{...i,...r,ref:t})});j3e.displayName=TK;var MK="PopoverTrigger",$K=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(MK,n),i=lx(n),o=Ve(t,a.triggerRef),l=s.jsx(Bo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":LK(a.open),...r,ref:o,onClick:we(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(EK,{asChild:!0,...i,children:l})});$K.displayName=MK;var AP="PopoverPortal",[w3e,_3e]=AK(AP,{forceMount:void 0}),DK=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=ic(AP,t);return s.jsx(w3e,{scope:t,forceMount:n,children:s.jsx(kP,{present:n||i.open,children:s.jsx(kK,{asChild:!0,container:a,children:r})})})};DK.displayName=AP;var Af="PopoverContent",IK=x.forwardRef((e,t)=>{const n=_3e(Af,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=ic(Af,e.__scopePopover);return s.jsx(kP,{present:r||i.open,children:i.modal?s.jsx(S3e,{...a,ref:t}):s.jsx(C3e,{...a,ref:t})})});IK.displayName=Af;var N3e=Tn("PopoverContent.RemoveScroll"),S3e=x.forwardRef((e,t)=>{const n=ic(Af,e.__scopePopover),r=x.useRef(null),a=Ve(t,r),i=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return R0(o)},[]),s.jsx(qp,{as:N3e,allowPinchZoom:!0,children:s.jsx(RK,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),C3e=x.forwardRef((e,t)=>{const n=ic(Af,e.__scopePopover),r=x.useRef(!1),a=x.useRef(!1);return s.jsx(RK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),RK=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ic(Af,n),m=lx(n);return D0(),s.jsx(pK,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(hK,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(u3e,{"data-state":LK(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FK="PopoverClose",P3e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(FK,n);return s.jsx(Bo.button,{type:"button",...r,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});P3e.displayName=FK;var E3e="PopoverArrow",k3e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=lx(n);return s.jsx(d3e,{...a,...r,ref:t})});k3e.displayName=E3e;function LK(e){return e?"open":"closed"}var A3e=OK,O3e=$K,T3e=DK,BK=IK;const M3e=A3e,$3e=O3e,zK=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(T3e,{children:s.jsx(BK,{ref:a,align:t,sideOffset:n,className:tt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));zK.displayName=BK.displayName;const D3e=({active:e,payload:t,label:n,formatValue:r})=>e&&t&&t.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",dir:"rtl",children:[s.jsx("p",{className:"font-medium text-gray-900",children:`${n}`}),t.map((a,i)=>s.jsx("p",{className:"text-sm",style:{color:a.color},children:`${a.name}: ${r?r(a.value):a.value}`},i))]}):null;function dc({data:e,title:t,description:n,xAxisKey:r,yAxisKey:a,barColor:i="#3b82f6",height:o=300,showLegend:l=!1,formatValue:c,className:u=""}){return s.jsxs(K,{className:`${u}`,"data-testid":"chart-interactive-bar",children:[s.jsxs(le,{children:[s.jsx(oe,{className:"text-lg font-semibold text-gray-900","data-testid":"text-chart-title",children:t}),n&&s.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-chart-description",children:n})]}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:o,children:s.jsxs(SU,{data:e,margin:{top:10,right:30,left:20,bottom:5},children:[s.jsx(Su,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Aa,{dataKey:r,tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"}}),s.jsx(ta,{tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:c}),s.jsx(Ar,{content:s.jsx(D3e,{formatValue:c})}),l&&s.jsx(Za,{}),s.jsx(Ki,{dataKey:a,fill:i,radius:[4,4,0,0],stroke:i,strokeWidth:1})]})})})]})}const I3e=({active:e,payload:t,label:n,formatValue:r})=>e&&t&&t.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",dir:"rtl",children:[s.jsx("p",{className:"font-medium text-gray-900",children:`${n}`}),t.map((a,i)=>s.jsx("p",{className:"text-sm",style:{color:a.color},children:`${a.name}: ${r?r(a.value):a.value}`},i))]}):null;function R3e({data:e,title:t,description:n,xAxisKey:r,lines:a,height:i=300,showLegend:o=!0,formatValue:l,className:c="",showDots:u=!0}){return s.jsxs(K,{className:`${c}`,"data-testid":"chart-interactive-line",children:[s.jsxs(le,{children:[s.jsx(oe,{className:"text-lg font-semibold text-gray-900","data-testid":"text-chart-title",children:t}),n&&s.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-chart-description",children:n})]}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:i,children:s.jsxs(NU,{data:e,margin:{top:10,right:30,left:20,bottom:5},children:[s.jsx(Su,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Aa,{dataKey:r,tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"}}),s.jsx(ta,{tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:l}),s.jsx(Ar,{content:s.jsx(I3e,{formatValue:l})}),o&&s.jsx(Za,{}),a.map((d,f)=>s.jsx(ac,{type:"monotone",dataKey:d.key,name:d.name,stroke:d.color,strokeWidth:d.strokeWidth||2,dot:u?{fill:d.color,strokeWidth:2,r:4}:!1,activeDot:{r:6,stroke:d.color,strokeWidth:2}},d.key))]})})})]})}const F3e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6b7280"],L3e=({active:e,payload:t,formatValue:n})=>{if(e&&t&&t.length){const r=t[0];return s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",dir:"rtl",children:[s.jsx("p",{className:"font-medium text-gray-900",children:r.name}),s.jsx("p",{className:"text-sm",style:{color:r.fill},children:`: ${n?n(r.value):r.value}`}),r.payload.percentage&&s.jsx("p",{className:"text-sm text-gray-600",children:`: ${r.payload.percentage.toFixed(1)}%`})]})}return null},B3e=({cx:e,cy:t,midAngle:n,innerRadius:r,outerRadius:a,percent:i,name:o})=>{const l=Math.PI/180,c=r+(a-r)*.5,u=e+c*Math.cos(-n*l),d=t+c*Math.sin(-n*l);return i<.05?null:s.jsx("text",{x:u,y:d,fill:"white",textAnchor:u>e?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(i*100).toFixed(0)}%`})};function n4({data:e,title:t,description:n,nameKey:r,valueKey:a,colors:i=F3e,height:o=300,showLegend:l=!0,showLabels:c=!0,formatValue:u,className:d="",innerRadius:f=0,outerRadius:h=80}){const m=e.reduce((p,g)=>p+(g[a]||0),0),v=e.map(p=>({...p,percentage:m>0?p[a]/m*100:0}));return s.jsxs(K,{className:`${d}`,"data-testid":"chart-interactive-pie",children:[s.jsxs(le,{children:[s.jsx(oe,{className:"text-lg font-semibold text-gray-900","data-testid":"text-chart-title",children:t}),n&&s.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-chart-description",children:n})]}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:o,children:s.jsxs(rP,{children:[s.jsx(ui,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:c?B3e:!1,outerRadius:h,innerRadius:f,fill:"#8884d8",dataKey:a,nameKey:r,children:v.map((p,g)=>s.jsx(ju,{fill:i[g%i.length]},`cell-${g}`))}),s.jsx(Ar,{content:s.jsx(L3e,{formatValue:u})}),l&&s.jsx(Za,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:p=>s.jsx("span",{className:"text-sm text-gray-700",children:p})})]})})})]})}const z3e=({active:e,payload:t,label:n,formatValue:r})=>e&&t&&t.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",dir:"rtl",children:[s.jsx("p",{className:"font-medium text-gray-900",children:`${n}`}),t.map((a,i)=>s.jsx("p",{className:"text-sm",style:{color:a.color},children:`${a.name}: ${r?r(a.value):a.value}`},i))]}):null;function q3e({data:e,title:t,description:n,xAxisKey:r,areas:a,height:i=300,showLegend:o=!0,formatValue:l,className:c="",stacked:u=!1}){return s.jsxs(K,{className:`${c}`,"data-testid":"chart-interactive-area",children:[s.jsxs(le,{children:[s.jsx(oe,{className:"text-lg font-semibold text-gray-900","data-testid":"text-chart-title",children:t}),n&&s.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-chart-description",children:n})]}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:i,children:s.jsxs(WMe,{data:e,margin:{top:10,right:30,left:20,bottom:5},children:[s.jsx("defs",{children:a.map((d,f)=>s.jsxs("linearGradient",{id:`colorGradient${f}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:d.color,stopOpacity:d.fillOpacity||.8}),s.jsx("stop",{offset:"95%",stopColor:d.color,stopOpacity:.1})]},d.key))}),s.jsx(Su,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Aa,{dataKey:r,tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"}}),s.jsx(ta,{tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:l}),s.jsx(Ar,{content:s.jsx(z3e,{formatValue:l})}),o&&s.jsx(Za,{}),a.map((d,f)=>s.jsx(Hi,{type:"monotone",dataKey:d.key,name:d.name,stackId:u?"1":d.key,stroke:d.color,fill:`url(#colorGradient${f})`,strokeWidth:2},d.key))]})})})]})}const W3e=({active:e,payload:t,label:n,formatValue:r,formatRightAxis:a})=>e&&t&&t.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded-lg shadow-lg",dir:"rtl",children:[s.jsx("p",{className:"font-medium text-gray-900",children:`${n}`}),t.map((i,o)=>{const l=i.yAxisId==="right"?a:r;return s.jsx("p",{className:"text-sm",style:{color:i.color},children:`${i.name}: ${l?l(i.value):i.value}`},o)})]}):null;function hg({data:e,title:t,description:n,xAxisKey:r,elements:a,height:i=350,showLegend:o=!0,formatValue:l,formatRightAxis:c,className:u="",leftAxisLabel:d,rightAxisLabel:f}){const h=a.some(m=>m.yAxisId==="right");return s.jsxs(K,{className:`${u}`,"data-testid":"chart-combo",children:[s.jsxs(le,{children:[s.jsx(oe,{className:"text-lg font-semibold text-gray-900","data-testid":"text-chart-title",children:t}),n&&s.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-chart-description",children:n})]}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:i,children:s.jsxs(UMe,{data:e,margin:{top:10,right:h?50:30,left:20,bottom:5},children:[s.jsx(Su,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Aa,{dataKey:r,tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"}}),s.jsx(ta,{yAxisId:"left",tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:l,label:d?{value:d,angle:-90,position:"insideLeft"}:void 0}),h&&s.jsx(ta,{yAxisId:"right",orientation:"right",tick:{fontSize:12,fill:"#374151"},tickLine:{stroke:"#d1d5db"},axisLine:{stroke:"#d1d5db"},tickFormatter:c||l,label:f?{value:f,angle:90,position:"insideRight"}:void 0}),s.jsx(Ar,{content:s.jsx(W3e,{formatValue:l,formatRightAxis:c})}),o&&s.jsx(Za,{}),a.map(m=>{const v={key:m.key,dataKey:m.key,name:m.name,yAxisId:m.yAxisId||"left"};switch(m.type){case"bar":return s.jsx(Ki,{...v,fill:m.color,radius:[2,2,0,0]});case"line":return s.jsx(ac,{...v,type:"monotone",stroke:m.color,strokeWidth:2,dot:{fill:m.color,strokeWidth:2,r:4},activeDot:{r:6,stroke:m.color,strokeWidth:2}});case"area":return s.jsx(Hi,{...v,type:"monotone",stroke:m.color,fill:m.color,fillOpacity:.3,strokeWidth:2});default:return null}})]})})})]})}function U3e({title:e,value:t,description:n,icon:r,trend:a,className:i="",valueClassName:o=""}){const l=()=>a?a.value===0?s.jsx(iJ,{className:"w-4 h-4 text-gray-500"}):a.isPositive?s.jsx(Po,{className:"w-4 h-4 text-green-500"}):s.jsx(y0,{className:"w-4 h-4 text-red-500"}):null,c=()=>a?a.value===0?"text-gray-500":a.isPositive?"text-green-600":"text-red-600":"";return s.jsx(K,{className:`${i}`,"data-testid":"card-metric",children:s.jsx(G,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600","data-testid":"text-metric-title",children:e}),r&&s.jsx("div",{className:"text-gray-400",children:r})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:`text-2xl font-bold text-gray-900 ${o}`,"data-testid":"text-metric-value",children:t}),n&&s.jsx("p",{className:"text-xs text-gray-500 mt-1","data-testid":"text-metric-description",children:n}),a&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[l(),s.jsxs("span",{className:`text-xs font-medium ${c()}`,"data-testid":"text-metric-trend",children:[a.value!==0&&`${Math.abs(a.value)}%`," ",a.label]})]})]})]})})})})}function Eh({metrics:e,columns:t=4,className:n=""}){const r={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"};return s.jsx("div",{className:`grid gap-4 ${r[t]} ${n}`,"data-testid":"grid-metrics",children:e.map((a,i)=>s.jsx(U3e,{...a},i))})}function V3e(){var C,E,P,A,O,I,F,B,$,R,M,T,J,re,X,ye,Re,Je,lt,je,Oe,ce,_e,H,Y,L,Z,Be,Ke,st,$t,ne;const[e,t]=x.useState({}),[n,r]=x.useState("month"),[a,i]=x.useState("production"),o=()=>{const pe=new Date;let kt,z;switch(n){case"week":kt=nn(new Date(pe.getTime()-7*24*60*60*1e3),"yyyy-MM-dd"),z=nn(pe,"yyyy-MM-dd");break;case"quarter":kt=nn(new Date(pe.getFullYear(),Math.floor(pe.getMonth()/3)*3,1),"yyyy-MM-dd"),z=nn(pe,"yyyy-MM-dd");break;case"year":kt=nn(new Date(pe.getFullYear(),0,1),"yyyy-MM-dd"),z=nn(pe,"yyyy-MM-dd");break;case"custom":kt=e.from?nn(e.from,"yyyy-MM-dd"):nn(new Date(pe.getTime()-30*24*60*60*1e3),"yyyy-MM-dd"),z=e.to?nn(e.to,"yyyy-MM-dd"):nn(pe,"yyyy-MM-dd");break;default:kt=nn(new Date(pe.getFullYear(),pe.getMonth(),1),"yyyy-MM-dd"),z=nn(pe,"yyyy-MM-dd")}return{from:kt,to:z}},{from:l,to:c}=o(),{data:u,isLoading:d}=$e({queryKey:["/api/reports/dashboard",l,c],queryFn:()=>fetch(`/api/reports/dashboard?date_from=${l}&date_to=${c}`).then(pe=>pe.json())}),{data:f,isLoading:h}=$e({queryKey:["/api/reports/orders",l,c],queryFn:()=>fetch(`/api/reports/orders?date_from=${l}&date_to=${c}`).then(pe=>pe.json())}),{data:m,isLoading:v}=$e({queryKey:["/api/reports/advanced-metrics",l,c],queryFn:()=>fetch(`/api/reports/advanced-metrics?date_from=${l}&date_to=${c}`).then(pe=>pe.json())}),{data:p,isLoading:g}=$e({queryKey:["/api/reports/hr",l,c],queryFn:()=>fetch(`/api/reports/hr?date_from=${l}&date_to=${c}`).then(pe=>pe.json())}),{data:y,isLoading:b}=$e({queryKey:["/api/reports/maintenance",l,c],queryFn:()=>fetch(`/api/reports/maintenance?date_from=${l}&date_to=${c}`).then(pe=>pe.json())}),j=d||h||v||g||b,w=[{value:"production",label:" ",icon:s.jsx(Qn,{className:"w-4 h-4"})},{value:"quality",label:" ",icon:s.jsx(cs,{className:"w-4 h-4"})},{value:"maintenance",label:" ",icon:s.jsx(wn,{className:"w-4 h-4"})},{value:"hr",label:"  ",icon:s.jsx(Ll,{className:"w-4 h-4"})},{value:"financial",label:" ",icon:s.jsx(eu,{className:"w-4 h-4"})}],N=async pe=>{try{const kt=await fetch("/api/reports/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report_type:a,format:pe,date_from:l,date_to:c,filters:{period:n}})});if(kt.ok){const z=await kt.json();if(pe==="json"){const se=new Blob([JSON.stringify(z.data,null,2)],{type:"application/json"}),he=URL.createObjectURL(se),ze=document.createElement("a");ze.href=he,ze.download=`${a}-${l}-${c}.json`,ze.click()}else console.log(`  : ${z.download_url}`)}}catch(kt){console.error("Export error:",kt)}},S=(pe,kt=1)=>{const z=typeof pe=="number"&&!isNaN(pe)?pe:typeof pe=="string"?parseFloat(pe):0;return(isNaN(z)?0:z).toFixed(kt)},_=(pe,kt="number")=>{const z=typeof pe=="number"&&!isNaN(pe)?pe:typeof pe=="string"?parseFloat(pe):0,se=isNaN(z)?0:z;switch(kt){case"percentage":return`${se.toFixed(1)}%`;case"currency":return`${$j(se)} `;default:return $j(se)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"    "})]}),s.jsxs(K,{className:"mb-6",children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(u2,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:" "}),s.jsxs(Xe,{value:a,onValueChange:i,children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsx(Ye,{children:w.map(pe=>s.jsx(q,{value:pe.value||"unknown",children:s.jsxs("div",{className:"flex items-center gap-2",children:[pe.icon,pe.label]})},pe.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:" "}),s.jsxs(Xe,{value:n,onValueChange:r,children:[s.jsx(Ge,{children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"week",children:" "}),s.jsx(q,{value:"month",children:" "}),s.jsx(q,{value:"quarter",children:" "}),s.jsx(q,{value:"year",children:" "}),s.jsx(q,{value:"custom",children:" "})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:" "}),s.jsxs(M3e,{children:[s.jsx($3e,{asChild:!0,children:s.jsxs(W,{variant:"outline",className:"w-full justify-start text-left",children:[s.jsx(Jc,{className:"mr-2 h-4 w-4"}),e.from?nn(e.from,"PPP",{locale:eK}):" "]})}),s.jsx(zK,{className:"w-auto p-0",children:s.jsx(dK,{mode:"single",selected:e.from,onSelect:pe=>t({...e,from:pe}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs(W,{onClick:()=>N("pdf"),className:"flex-1",children:[s.jsx(tl,{className:"w-4 h-4 mr-2"})," PDF"]}),s.jsx(W,{variant:"outline",onClick:()=>N("excel"),children:s.jsx(Ti,{className:"w-4 h-4"})})]})]})})]}),s.jsxs(Is,{value:a,onValueChange:i,children:[s.jsx(vs,{className:"grid w-full grid-cols-5",children:w.map(pe=>s.jsx(mt,{value:pe.value,className:"text-xs",children:s.jsxs("div",{className:"flex items-center gap-1",children:[pe.icon,s.jsx("span",{className:"hidden sm:inline",children:pe.label.split(" ")[1]})]})},pe.value))}),s.jsx(ct,{value:"production",children:j?s.jsxs("div",{className:"text-center py-8","data-testid":"loading-production",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"  ..."})]}):s.jsxs(s.Fragment,{children:[(u==null?void 0:u.success)&&s.jsx(Eh,{columns:4,className:"mb-6",metrics:[{title:" ",value:$j(((E=(C=u.data.realTime)==null?void 0:C.currentStats)==null?void 0:E.daily_weight)||0),description:"",icon:s.jsx(Qn,{className:"w-5 h-5"}),trend:{value:5.2,isPositive:!0,label:"  "}},{title:" ",value:`${S(((A=(P=u.data.realTime)==null?void 0:P.currentStats)==null?void 0:A.avg_efficiency)||90)}%`,description:" ",icon:s.jsx(vo,{className:"w-5 h-5"}),trend:{value:3.1,isPositive:!0,label:""}},{title:" ",value:Jt(((I=(O=u.data.realTime)==null?void 0:O.currentStats)==null?void 0:I.active_orders)||0),description:"  ",icon:s.jsx(ga,{className:"w-5 h-5"}),trend:{value:0,isPositive:!0,label:""}},{title:" ",value:`${S((((B=(F=u.data.realTime)==null?void 0:F.currentStats)==null?void 0:B.current_waste)||0)/Math.max(((R=($=u.data.realTime)==null?void 0:$.currentStats)==null?void 0:R.daily_weight)||1,1)*100)}%`,description:" ",icon:s.jsx(cn,{className:"w-5 h-5"}),trend:{value:1.8,isPositive:!1,label:" "}}]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(u==null?void 0:u.success)&&u.data.machineUtilization&&s.jsx(dc,{data:u.data.machineUtilization,title:" ",description:"    ",xAxisKey:"machine_name",yAxisKey:"total_weight",barColor:"#3b82f6",height:350,formatValue:pe=>_(pe,"number")+" ",className:"h-full"}),(u==null?void 0:u.success)&&((M=u.data.productionEfficiency)==null?void 0:M.trends)&&s.jsx(R3e,{data:u.data.productionEfficiency.trends,title:"  ",description:"     ",xAxisKey:"date",lines:[{key:"daily_efficiency",name:" ",color:"#10b981"}],height:350,formatValue:pe=>_(pe,"percentage"),className:"h-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(u==null?void 0:u.success)&&((T=u.data.realTime)==null?void 0:T.machineStatus)&&s.jsx(n4,{data:u.data.realTime.machineStatus.reduce((pe,kt)=>{const z=pe.find(se=>se.status===kt.status);return z?z.count+=1:pe.push({status:kt.status==="active"?"":kt.status==="idle"?"":" ",count:1}),pe},[]),title:" ",description:"  ",nameKey:"status",valueKey:"count",height:300,colors:["#10b981","#f59e0b","#ef4444"]}),(u==null?void 0:u.success)&&((J=u.data.realTime)==null?void 0:J.queueStats)&&s.jsx(dc,{data:[{stage:"",count:u.data.realTime.queueStats.film_queue},{stage:"",count:u.data.realTime.queueStats.printing_queue},{stage:"",count:u.data.realTime.queueStats.cutting_queue},{stage:" ",count:u.data.realTime.queueStats.pending_orders}],title:" ",description:"    ",xAxisKey:"stage",yAxisKey:"count",barColor:"#8b5cf6",height:300,formatValue:pe=>Jt(pe)}),(m==null?void 0:m.success)&&m.data.oeeMetrics&&m.data.oeeMetrics.length>0&&s.jsx(hg,{data:m.data.oeeMetrics,title:"   (OEE)",description:"  ",xAxisKey:"machine_name",elements:[{type:"bar",key:"availability",name:"",color:"#3b82f6",yAxisId:"left"},{type:"bar",key:"performance",name:"",color:"#10b981",yAxisId:"left"},{type:"line",key:"oee",name:"OEE ",color:"#f59e0b",yAxisId:"right"}],height:300,formatValue:pe=>_(pe,"percentage"),leftAxisLabel:" %",rightAxisLabel:"OEE %"})]}),(u==null?void 0:u.success)&&u.data.alerts&&u.data.alerts.length>0&&s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-5 h-5 text-amber-500"})," "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:u.data.alerts.slice(0,5).map((pe,kt)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg border border-amber-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${pe.priority==="critical"?"bg-red-500":pe.priority==="high"?"bg-amber-500":"bg-blue-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:pe.title}),s.jsx("p",{className:"text-sm text-gray-600",children:pe.message})]})]}),s.jsx(ge,{variant:pe.priority==="critical"?"destructive":"secondary",children:pe.priority==="critical"?"":pe.priority==="high"?"":""})]},kt))})})]})]})}),s.jsx(ct,{value:"quality",children:j?s.jsxs("div",{className:"text-center py-8","data-testid":"loading-quality",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"   ..."})]}):s.jsxs(s.Fragment,{children:[(m==null?void 0:m.success)&&s.jsx(Eh,{columns:4,className:"mb-6",metrics:[{title:" ",value:`${S(((re=m.data.qualityMetrics)==null?void 0:re.quality_rate)||95)}%`,description:"  ",icon:s.jsx(cs,{className:"w-5 h-5"}),trend:{value:2.1,isPositive:!0,label:""}},{title:" ",value:Jt(((X=m.data.qualityMetrics)==null?void 0:X.total_rolls)||0),description:" ",icon:s.jsx(Qn,{className:"w-5 h-5"}),trend:{value:15.3,isPositive:!0,label:""}},{title:" ",value:Jt(((ye=m.data.qualityMetrics)==null?void 0:ye.defective_rolls)||0),description:"  ",icon:s.jsx(cn,{className:"w-5 h-5"}),trend:{value:3.2,isPositive:!1,label:""}},{title:" ",value:`${S(((Re=m.data.qualityMetrics)==null?void 0:Re.avg_waste_percentage)||0)}%`,description:" ",icon:s.jsx(ga,{className:"w-5 h-5"}),trend:{value:1.5,isPositive:!1,label:" "}}]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(m==null?void 0:m.success)&&s.jsx(hg,{data:[{period:" ",quality_rate:((Je=m.data.qualityMetrics)==null?void 0:Je.quality_rate)||95,defect_rate:100-(((lt=m.data.qualityMetrics)==null?void 0:lt.quality_rate)||95),rework_rate:((je=m.data.qualityMetrics)==null?void 0:je.rework_rate)||2}],title:"  ",description:"    ",xAxisKey:"period",elements:[{type:"bar",key:"quality_rate",name:" ",color:"#10b981"},{type:"bar",key:"defect_rate",name:" ",color:"#ef4444"},{type:"line",key:"rework_rate",name:"  ",color:"#f59e0b"}],height:350,formatValue:pe=>_(pe,"percentage"),leftAxisLabel:" %"}),(m==null?void 0:m.success)&&m.data.cycleTimeStats&&s.jsx(dc,{data:[{stage:"  ",time:m.data.cycleTimeStats.avg_film_to_printing},{stage:"  ",time:m.data.cycleTimeStats.avg_printing_to_cutting},{stage:" ",time:m.data.cycleTimeStats.avg_total_cycle_time}],title:"  ",description:"    ",xAxisKey:"stage",yAxisKey:"time",barColor:"#6366f1",height:350,formatValue:pe=>`${S(pe)} `})]}),(m==null?void 0:m.success)&&m.data.oeeMetrics&&m.data.oeeMetrics.length>0&&s.jsxs(K,{className:"mb-6",children:[s.jsx(le,{children:s.jsx(oe,{children:"  -    (OEE)"})}),s.jsx(G,{children:s.jsx(dc,{data:m.data.oeeMetrics,title:"",xAxisKey:"machine_name",yAxisKey:"oee",barColor:"#10b981",height:300,formatValue:pe=>_(pe,"percentage")})})]})]})}),s.jsx(ct,{value:"maintenance",children:j?s.jsxs("div",{className:"text-center py-8","data-testid":"loading-maintenance",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"   ..."})]}):s.jsxs(s.Fragment,{children:[(y==null?void 0:y.success)&&s.jsx(Eh,{columns:4,className:"mb-6",metrics:[{title:" ",value:Jt(((Oe=y.data.maintenanceStats)==null?void 0:Oe.total_requests)||0),description:" ",icon:s.jsx(wn,{className:"w-5 h-5"}),trend:{value:8.3,isPositive:!1,label:""}},{title:" ",value:Jt(((ce=y.data.maintenanceStats)==null?void 0:ce.completed_requests)||0),description:" ",icon:s.jsx(cs,{className:"w-5 h-5"}),trend:{value:12.5,isPositive:!0,label:""}},{title:"  ",value:`${S(((_e=y.data.maintenanceStats)==null?void 0:_e.avg_resolution_time)||0)}`,description:"",icon:s.jsx(cr,{className:"w-5 h-5"}),trend:{value:5.7,isPositive:!1,label:" "}},{title:" ",value:Jt(((H=y.data.maintenanceStats)==null?void 0:H.critical_requests)||0),description:" ",icon:s.jsx(cn,{className:"w-5 h-5"}),trend:{value:15.2,isPositive:!1,label:""}}]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(y==null?void 0:y.success)&&y.data.costAnalysis&&s.jsx(dc,{data:y.data.costAnalysis,title:"  ",description:"    ",xAxisKey:"machine_name",yAxisKey:"estimated_cost",barColor:"#f59e0b",height:350,formatValue:pe=>_(pe,"currency")}),(y==null?void 0:y.success)&&y.data.downtimeAnalysis&&s.jsx(q3e,{data:[{type:" ",hours:y.data.downtimeAnalysis.planned_downtime},{type:" ",hours:y.data.downtimeAnalysis.unplanned_downtime},{type:"",hours:y.data.downtimeAnalysis.total_downtime}],title:"  ",description:"   ",xAxisKey:"type",areas:[{key:"hours",name:"",color:"#ef4444"}],height:350,formatValue:pe=>`${S(pe)} `})]}),(y==null?void 0:y.success)&&s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"    (MTBF)"})}),s.jsx(G,{children:s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:S(((Y=y.data.downtimeAnalysis)==null?void 0:Y.mtbf)||168,0)}),s.jsx("div",{className:"text-lg text-gray-600",children:""}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"    "})]})})})]})]})}),s.jsx(ct,{value:"hr",children:j?s.jsxs("div",{className:"text-center py-8","data-testid":"loading-hr",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"    ..."})]}):s.jsxs(s.Fragment,{children:[(p==null?void 0:p.success)&&s.jsx(Eh,{columns:4,className:"mb-6",metrics:[{title:" ",value:"94.5%",description:"  ",icon:s.jsx(Ll,{className:"w-5 h-5"}),trend:{value:2.1,isPositive:!0,label:""}},{title:" ",value:Jt(((L=p.data.trainingStats)==null?void 0:L.total_programs)||0),description:" ",icon:s.jsx(Qn,{className:"w-5 h-5"}),trend:{value:15.3,isPositive:!0,label:""}},{title:" ",value:`${S(((Z=p.data.trainingStats)==null?void 0:Z.completion_rate)||0)}%`,description:" ",icon:s.jsx(vo,{className:"w-5 h-5"}),trend:{value:8.7,isPositive:!0,label:""}},{title:" ",value:"91.2%",description:" ",icon:s.jsx(yu,{className:"w-5 h-5"}),trend:{value:4.3,isPositive:!0,label:" "}}]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(p==null?void 0:p.success)&&p.data.attendanceStats&&s.jsx(dc,{data:p.data.attendanceStats.slice(0,10),title:"  ",description:"   ",xAxisKey:"display_name_ar",yAxisKey:"attendance_rate",barColor:"#10b981",height:350,formatValue:pe=>_(pe,"percentage")}),(p==null?void 0:p.success)&&p.data.performanceStats&&s.jsx(hg,{data:p.data.performanceStats.slice(0,8),title:"  ",description:"   ",xAxisKey:"display_name_ar",elements:[{type:"bar",key:"production_efficiency",name:" ",color:"#3b82f6",yAxisId:"left"},{type:"line",key:"error_rate",name:" ",color:"#ef4444",yAxisId:"right"}],height:350,formatValue:pe=>_(pe,"percentage"),formatRightAxis:pe=>_(pe,"percentage"),leftAxisLabel:" %",rightAxisLabel:" %"})]}),(p==null?void 0:p.success)&&p.data.trainingStats&&s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.data.trainingStats.total_programs}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.data.trainingStats.completed_trainings}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:p.data.trainingStats.total_enrollments-p.data.trainingStats.completed_trainings}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]})]})})]})]})}),s.jsx(ct,{value:"financial",children:j?s.jsxs("div",{className:"text-center py-8","data-testid":"loading-financial",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"   ..."})]}):s.jsxs(s.Fragment,{children:[(f==null?void 0:f.success)&&s.jsx(Eh,{columns:4,className:"mb-6",metrics:[{title:" ",value:Jt(((Be=f.data.revenueStats)==null?void 0:Be.total_orders)||0),description:" ",icon:s.jsx(Qn,{className:"w-5 h-5"}),trend:{value:12.5,isPositive:!0,label:""}},{title:" ",value:_(((Ke=f.data.revenueStats)==null?void 0:Ke.estimated_revenue)||0,"currency"),description:" ",icon:s.jsx(eu,{className:"w-5 h-5"}),trend:{value:18.3,isPositive:!0,label:""}},{title:"  ",value:_(((st=f.data.revenueStats)==null?void 0:st.avg_order_value)||0,"currency"),description:" ",icon:s.jsx(vo,{className:"w-5 h-5"}),trend:{value:5.7,isPositive:!0,label:""}},{title:"  ",value:`${S(((($t=f.data.deliveryPerformance)==null?void 0:$t.on_time_orders)||0)/Math.max(((ne=f.data.revenueStats)==null?void 0:ne.total_orders)||1,1)*100)}%`,description:" ",icon:s.jsx(cs,{className:"w-5 h-5"}),trend:{value:8.9,isPositive:!0,label:""}}]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(f==null?void 0:f.success)&&f.data.orderStatusStats&&s.jsx(n4,{data:f.data.orderStatusStats.map(pe=>({status:pe.status==="completed"?"":pe.status==="in_production"?" ":pe.status==="pending"?" ":pe.status==="cancelled"?"":pe.status,count:pe.count})),title:"  ",description:"     ",nameKey:"status",valueKey:"count",height:350,colors:["#10b981","#3b82f6","#f59e0b","#ef4444"]}),(f==null?void 0:f.success)&&f.data.topCustomers&&s.jsx(dc,{data:f.data.topCustomers.slice(0,8),title:"  ",description:"      ",xAxisKey:"customer_name",yAxisKey:"order_count",barColor:"#8b5cf6",height:350,formatValue:pe=>Jt(pe)+" "})]}),(f==null?void 0:f.success)&&f.data.topCustomers&&s.jsx(hg,{data:f.data.topCustomers.slice(0,6),title:"  ",description:"    ",xAxisKey:"customer_name",elements:[{type:"bar",key:"total_quantity",name:" ()",color:"#3b82f6",yAxisId:"left"},{type:"line",key:"total_value",name:" ()",color:"#10b981",yAxisId:"right"}],height:350,formatValue:pe=>_(pe,"number")+" ",formatRightAxis:pe=>_(pe,"currency"),leftAxisLabel:"",rightAxisLabel:""}),(f==null?void 0:f.success)&&f.data.deliveryPerformance&&s.jsxs(K,{className:"mt-6",children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.data.deliveryPerformance.on_time_orders}),s.jsx("div",{className:"text-sm text-gray-600",children:"  "})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:f.data.deliveryPerformance.late_orders}),s.jsx("div",{className:"text-sm text-gray-600",children:" "})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S(f.data.deliveryPerformance.avg_delivery_days||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"  "})]})]})})]})]})})]})]})]})]})}const K3e="modulepreload",H3e=function(e){return"/"+e},r4={},s4=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=H3e(c),c in r4)return;r4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":K3e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function G3e(){var g,y,b,j,w,N,S;const[e,t]=x.useState(1),n=qn(),{data:r,isLoading:a,refetch:i}=$e({queryKey:["/api/ml/predictions",e],enabled:!!e}),{data:o,isLoading:l}=$e({queryKey:["/api/ml/anomalies",e],enabled:!!e}),{data:c,isLoading:u}=$e({queryKey:["/api/ml/patterns"]}),{data:d,isLoading:f}=$e({queryKey:["/api/ml/optimization",e],enabled:!!e}),h=et({mutationFn:async _=>{const{apiRequest:C}=await s4(async()=>{const{apiRequest:P}=await Promise.resolve().then(()=>hk);return{apiRequest:P}},void 0);return(await C(`/api/ml/train/${_}`,{method:"POST"})).json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/ml/predictions"]}),n.invalidateQueries({queryKey:["/api/ml/anomalies"]}),n.invalidateQueries({queryKey:["/api/ml/patterns"]}),n.invalidateQueries({queryKey:["/api/ml/optimization"]})}}),m=et({mutationFn:async _=>{const{apiRequest:C}=await s4(async()=>{const{apiRequest:P}=await Promise.resolve().then(()=>hk);return{apiRequest:P}},void 0);return(await C(`/api/ml/apply-optimization/${e}`,{method:"POST",body:JSON.stringify(_)})).json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/ml/optimization",e]})}}),v=_=>{switch(_){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"secondary"}},p=_=>_>=.8?"text-green-600":_>=.6?"text-yellow-600":"text-red-600";return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jk,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:e,onChange:_=>t(Number(_.target.value)),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:1,children:"  1"}),s.jsx("option",{value:2,children:"  2"}),s.jsx("option",{value:3,children:"  3"})]}),s.jsxs(W,{onClick:()=>h.mutate(e),disabled:h.isPending,className:"gap-2",children:[s.jsx(Br,{className:`h-4 w-4 ${h.isPending?"animate-spin":""}`})," "]})]})]}),s.jsxs(Is,{defaultValue:"predictions",className:"space-y-4",children:[s.jsxs(vs,{className:"grid w-full grid-cols-4",children:[s.jsxs(mt,{value:"predictions",className:"gap-2",children:[s.jsx(Po,{className:"h-4 w-4"}),""]}),s.jsxs(mt,{value:"anomalies",className:"gap-2",children:[s.jsx(cn,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"patterns",className:"gap-2",children:[s.jsx(eu,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"optimization",className:"gap-2",children:[s.jsx(vo,{className:"h-4 w-4"}),""]})]}),s.jsxs(ct,{value:"predictions",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"  "}),s.jsx(ga,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":`${r==null?void 0:r.predictedRate.toFixed(1)}%`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 24  "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":`${r==null?void 0:r.qualityForecast.toFixed(1)}%`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(wn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":r!=null&&r.maintenanceAlert?s.jsx(Zr,{className:"h-8 w-8 text-red-500"}):s.jsx(It,{className:"h-8 w-8 text-green-500"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r!=null&&r.maintenanceAlert?" ":"  "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(jk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:`text-2xl font-bold ${p((r==null?void 0:r.confidence)||0)}`,children:a?"...":`${(((r==null?void 0:r.confidence)||0)*100).toFixed(0)}%`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:(g=r==null?void 0:r.recommendations)==null?void 0:g.map((_,C)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded-md",children:[s.jsx(yu,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:_})]},C))})})]})]}),s.jsxs(ct,{value:"anomalies",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsx("div",{className:"text-center",children:l?s.jsx("div",{className:"animate-pulse",children:" ..."}):s.jsxs(s.Fragment,{children:[o!=null&&o.isAnomaly?s.jsx(Zr,{className:"h-16 w-16 text-red-500 mx-auto mb-2"}):s.jsx(It,{className:"h-16 w-16 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"font-medium",children:o!=null&&o.isAnomaly?"  ":"  "}),(o==null?void 0:o.isAnomaly)&&s.jsx(ge,{variant:v(o.severity),className:"mt-2",children:o.severity==="high"?"":o.severity==="medium"?"":""})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold text-center",children:l?"...":o==null?void 0:o.anomalyScore.toFixed(2)}),s.jsx("p",{className:"text-center text-muted-foreground",children:"  5.0"})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-1",children:[(y=o==null?void 0:o.affectedMetrics)==null?void 0:y.map((_,C)=>s.jsx(ge,{variant:"outline",className:"block text-center",children:_},C)),(!(o!=null&&o.affectedMetrics)||((b=o==null?void 0:o.affectedMetrics)==null?void 0:b.length)===0)&&s.jsx("p",{className:"text-center text-muted-foreground",children:" "})]})})]})]}),(o==null?void 0:o.isAnomaly)&&s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:(j=o==null?void 0:o.recommendations)==null?void 0:j.map((_,C)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 rounded-md",children:[s.jsx(cn,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm",children:_})]},C))})})]})]}),s.jsxs(ct,{value:"patterns",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-6 gap-2",children:(w=c==null?void 0:c.peakHours)==null?void 0:w.map(_=>s.jsxs(ge,{variant:"default",className:"text-center",children:[_,":00"]},_))})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"  "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:(N=c==null?void 0:c.optimalShifts)==null?void 0:N.map((_,C)=>s.jsxs(ge,{variant:"secondary",className:"block text-center",children:[" ",_]},C))})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:(S=c==null?void 0:c.efficiencyInsights)==null?void 0:S.map((_,C)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-md",children:[s.jsx(eu,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:_})]},C))})})]})]}),s.jsxs(ct,{value:"optimization",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-sm",children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:f?"...":`${d==null?void 0:d.recommendedSpeed}%`})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-sm",children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:f?"...":`${d==null?void 0:d.recommendedTemperature}C`})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-sm",children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:f?"...":`${d==null?void 0:d.recommendedPressure} `})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-sm",children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:f?"...":`+${d==null?void 0:d.expectedImprovement.toFixed(1)}%`})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{children:"   "}),s.jsx(ge,{variant:"secondary",children:d?`${(d.confidence*100).toFixed(0)}%`:"..."})]}),s.jsxs(W,{onClick:()=>d&&m.mutate(d),disabled:m.isPending||!d,className:"w-full gap-2",children:[s.jsx(vo,{className:"h-4 w-4"}),"  "]})]})})]})]})]})]})}var Y3e=Bi[" useInsertionEffect ".trim().toString()]||bt;function qK({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=Q3e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=x.useCallback(d=>{var f;if(l){const h=X3e(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function Q3e({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),a=x.useRef(n),i=x.useRef(t);return Y3e(()=>{i.current=t},[t]),x.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function X3e(e){return typeof e=="function"}var Z3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bs=Z3e.reduce((e,t)=>{const n=Tn(`Primitive.${t}`),r=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function WK(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}function UK(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:y}=p,b=D.useRef(null),j=D.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Tn(l),u=D.forwardRef((p,g)=>{const{scope:y,children:b}=p,j=i(l,y),w=Ve(g,j.collectionRef);return s.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Tn(d),m=D.forwardRef((p,g)=>{const{scope:y,children:b,...j}=p,w=D.useRef(null),N=Ve(g,w),S=i(d,y);return D.useEffect(()=>(S.itemMap.set(w,{ref:w,...j}),()=>void S.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:b})});m.displayName=d;function v(p){const g=i(e+"CollectionConsumer",p);return D.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>j.indexOf(S.ref.current)-j.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var J3e="DismissableLayer",eS="dismissableLayer.update",eFe="dismissableLayer.pointerDownOutside",tFe="dismissableLayer.focusOutside",a4,VK=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KK=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(VK),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ve(t,_=>f(_)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,N=sFe(_=>{const C=_.target,E=[...u.branches].some(P=>P.contains(C));!w||E||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),S=aFe(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Df(_=>{b===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),i4(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=a4)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),i4())},[d,u]),x.useEffect(()=>{const _=()=>m({});return document.addEventListener(eS,_),()=>document.removeEventListener(eS,_)},[]),s.jsx(bs.div,{...c,ref:v,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});KK.displayName=J3e;var nFe="DismissableLayerBranch",rFe=x.forwardRef((e,t)=>{const n=x.useContext(VK),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(bs.div,{...e,ref:a})});rFe.displayName=nFe;function sFe(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){HK(eFe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function aFe(e,t=globalThis==null?void 0:globalThis.document){const n=Ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!r.current&&HK(tFe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i4(){const e=new CustomEvent(eS);document.dispatchEvent(e)}function HK(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?WK(a,i):a.dispatchEvent(i)}var $w="focusScope.autoFocusOnMount",Dw="focusScope.autoFocusOnUnmount",o4={bubbles:!1,cancelable:!0},iFe="FocusScope",GK=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Ft(a),d=Ft(i),f=x.useRef(null),h=Ve(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:Zo(f.current,{select:!0})},g=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||Zo(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Zo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),b.disconnect()}}},[r,l,m.paused]),x.useEffect(()=>{if(l){c4.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent($w,o4);l.addEventListener($w,u),l.dispatchEvent(y),y.defaultPrevented||(oFe(fFe(YK(l)),{select:!0}),document.activeElement===p&&Zo(l))}return()=>{l.removeEventListener($w,u),setTimeout(()=>{const y=new CustomEvent(Dw,o4);l.addEventListener(Dw,d),l.dispatchEvent(y),y.defaultPrevented||Zo(p??document.body,{select:!0}),l.removeEventListener(Dw,d),c4.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!n&&!r||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const b=p.currentTarget,[j,w]=lFe(b);j&&w?!p.shiftKey&&y===w?(p.preventDefault(),n&&Zo(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&Zo(w,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(bs.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});GK.displayName=iFe;function oFe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zo(r,{select:t}),document.activeElement!==n)return}function lFe(e){const t=YK(e),n=l4(t,e),r=l4(t.reverse(),e);return[n,r]}function YK(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function l4(e,t){for(const n of e)if(!cFe(n,{upTo:t}))return n}function cFe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uFe(e){return e instanceof HTMLInputElement&&"select"in e}function Zo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uFe(e)&&t&&e.select()}}var c4=dFe();function dFe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=u4(e,t),e.unshift(t)},remove(t){var n;e=u4(e,t),(n=e[0])==null||n.resume()}}}function u4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fFe(e){return e.filter(t=>t.tagName!=="A")}var hFe="Arrow",QK=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(bs.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});QK.displayName=hFe;var mFe=QK,OP="Popper",[XK,ZK]=Jn(OP),[pFe,JK]=XK(OP),eH=e=>{const{__scopePopper:t,children:n}=e,[r,a]=x.useState(null);return s.jsx(pFe,{scope:t,anchor:r,onAnchorChange:a,children:n})};eH.displayName=OP;var tH="PopperAnchor",nH=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=JK(tH,n),o=x.useRef(null),l=Ve(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(bs.div,{...a,ref:l})});nH.displayName=tH;var TP="PopperContent",[xFe,gFe]=XK(TP),rH=x.forwardRef((e,t)=>{var je,Oe,ce,_e,H,Y;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=JK(TP,n),[y,b]=x.useState(null),j=Ve(t,L=>b(L)),[w,N]=x.useState(null),S=Lf(w),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,I={padding:P,boundary:A.filter(vFe),altBoundary:O},{refs:F,floatingStyles:B,placement:$,isPositioned:R,middlewareData:M}=_0({strategy:"fixed",placement:E,whileElementsMounted:(...L)=>w0(...L,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[N0({mainAxis:a+C,alignmentAxis:o}),c&&S0({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?C0():void 0,...I}),c&&P0({...I}),E0({...I,apply:({elements:L,rects:Z,availableWidth:Be,availableHeight:Ke})=>{const{width:st,height:$t}=Z.reference,ne=L.floating.style;ne.setProperty("--radix-popper-available-width",`${Be}px`),ne.setProperty("--radix-popper-available-height",`${Ke}px`),ne.setProperty("--radix-popper-anchor-width",`${st}px`),ne.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),w&&A0({element:w,padding:l}),bFe({arrowWidth:_,arrowHeight:C}),h&&k0({strategy:"referenceHidden",...I})]}),[T,J]=iH($),re=Ft(v);bt(()=>{R&&(re==null||re())},[R,re]);const X=(je=M.arrow)==null?void 0:je.x,ye=(Oe=M.arrow)==null?void 0:Oe.y,Re=((ce=M.arrow)==null?void 0:ce.centerOffset)!==0,[Je,lt]=x.useState();return bt(()=>{y&&lt(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:R?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(_e=M.transformOrigin)==null?void 0:_e.x,(H=M.transformOrigin)==null?void 0:H.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(xFe,{scope:n,placedSide:T,onArrowChange:N,arrowX:X,arrowY:ye,shouldHideArrow:Re,children:s.jsx(bs.div,{"data-side":T,"data-align":J,...p,ref:j,style:{...p.style,animation:R?void 0:"none"}})})})});rH.displayName=TP;var sH="PopperArrow",yFe={top:"bottom",right:"left",bottom:"top",left:"right"},aH=x.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=gFe(sH,r),o=yFe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(mFe,{...a,ref:n,style:{...a.style,display:"block"}})})});aH.displayName=sH;function vFe(e){return e!==null}var bFe=e=>({name:"transformOrigin",options:e,fn(t){var g,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=iH(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function iH(e){const[t,n="center"]=e.split("-");return[t,n]}var jFe=eH,wFe=nH,_Fe=rH,NFe=aH,SFe="Portal",oH=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=x.useState(!1);bt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Dp.createPortal(s.jsx(bs.div,{...r,ref:t}),o):null});oH.displayName=SFe;function CFe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var cx=e=>{const{present:t,children:n}=e,r=PFe(t),a=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ve(r.ref,EFe(a));return typeof n=="function"||r.isPresent?x.cloneElement(a,{ref:i}):null};cx.displayName="Presence";function PFe(e){const[t,n]=x.useState(),r=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=CFe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=mg(r.current);i.current=l==="mounted"?u:"none"},[l]),bt(()=>{const u=r.current,d=a.current;if(d!==e){const h=i.current,m=mg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=mg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=mg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function mg(e){return(e==null?void 0:e.animationName)||"none"}function EFe(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Iw="rovingFocusGroup.onEntryFocus",kFe={bubbles:!1,cancelable:!0},ux="RovingFocusGroup",[tS,lH,AFe]=UK(ux),[OFe,cH]=Jn(ux,[AFe]),[TFe,MFe]=OFe(ux),uH=x.forwardRef((e,t)=>s.jsx(tS.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tS.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx($Fe,{...e,ref:t})})}));uH.displayName=ux;var $Fe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Ve(t,h),v=zf(i),[p,g]=qK({prop:o,defaultProp:l??null,onChange:c,caller:ux}),[y,b]=x.useState(!1),j=Ft(u),w=lH(n),N=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Iw,j),()=>C.removeEventListener(Iw,j)},[j]),s.jsx(TFe,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>g(C),[g]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>_(C=>C-1),[]),children:s.jsx(bs.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{N.current=!0}),onFocus:we(e.onFocus,C=>{const E=!N.current;if(C.target===C.currentTarget&&E&&!y){const P=new CustomEvent(Iw,kFe);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=w().filter($=>$.focusable),O=A.find($=>$.active),I=A.find($=>$.id===p),B=[O,I,...A].filter(Boolean).map($=>$.ref.current);hH(B,d)}}N.current=!1}),onBlur:we(e.onBlur,()=>b(!1))})})}),dH="RovingFocusGroupItem",fH=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Qs(),u=i||c,d=MFe(dH,n),f=d.currentTabStopId===u,h=lH(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return x.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),s.jsx(tS.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(bs.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,g=>{r?d.onItemFocus(u):g.preventDefault()}),onFocus:we(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:we(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=RFe(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const w=j.indexOf(g.currentTarget);j=d.loop?FFe(j,w+1):j.slice(w+1)}setTimeout(()=>hH(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});fH.displayName=dH;var DFe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IFe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RFe(e,t,n){const r=IFe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DFe[r]}function hH(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function FFe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var LFe=uH,BFe=fH,nS=["Enter"," "],zFe=["ArrowDown","PageUp","Home"],mH=["ArrowUp","PageDown","End"],qFe=[...zFe,...mH],WFe={ltr:[...nS,"ArrowRight"],rtl:[...nS,"ArrowLeft"]},UFe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dx="Menu",[Np,VFe,KFe]=UK(dx),[Cu,pH]=Jn(dx,[KFe,ZK,cH]),Yb=ZK(),xH=cH(),[HFe,Pu]=Cu(dx),[GFe,fx]=Cu(dx),gH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Yb(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Ft(i),h=zf(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(jFe,{...l,children:s.jsx(HFe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(GFe,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};gH.displayName=dx;var YFe="MenuAnchor",MP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Yb(n);return s.jsx(wFe,{...a,...r,ref:t})});MP.displayName=YFe;var $P="MenuPortal",[QFe,yH]=Cu($P,{forceMount:void 0}),vH=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Pu($P,t);return s.jsx(QFe,{scope:t,forceMount:n,children:s.jsx(cx,{present:n||i.open,children:s.jsx(oH,{asChild:!0,container:a,children:r})})})};vH.displayName=$P;var ja="MenuContent",[XFe,DP]=Cu(ja),bH=x.forwardRef((e,t)=>{const n=yH(ja,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Pu(ja,e.__scopeMenu),o=fx(ja,e.__scopeMenu);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(cx,{present:r||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(ZFe,{...a,ref:t}):s.jsx(JFe,{...a,ref:t})})})})}),ZFe=x.forwardRef((e,t)=>{const n=Pu(ja,e.__scopeMenu),r=x.useRef(null),a=Ve(t,r);return x.useEffect(()=>{const i=r.current;if(i)return R0(i)},[]),s.jsx(IP,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JFe=x.forwardRef((e,t)=>{const n=Pu(ja,e.__scopeMenu);return s.jsx(IP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),e6e=Tn("MenuContent.ScrollLock"),IP=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...p}=e,g=Pu(ja,n),y=fx(ja,n),b=Yb(n),j=xH(n),w=VFe(n),[N,S]=x.useState(null),_=x.useRef(null),C=Ve(t,_,g.onContentChange),E=x.useRef(0),P=x.useRef(""),A=x.useRef(0),O=x.useRef(null),I=x.useRef("right"),F=x.useRef(0),B=v?qp:x.Fragment,$=v?{as:e6e,allowPinchZoom:!0}:void 0,R=T=>{var je,Oe;const J=P.current+T,re=w().filter(ce=>!ce.disabled),X=document.activeElement,ye=(je=re.find(ce=>ce.ref.current===X))==null?void 0:je.textValue,Re=re.map(ce=>ce.textValue),Je=f6e(Re,J,ye),lt=(Oe=re.find(ce=>ce.textValue===Je))==null?void 0:Oe.ref.current;(function ce(_e){P.current=_e,window.clearTimeout(E.current),_e!==""&&(E.current=window.setTimeout(()=>ce(""),1e3))})(J),lt&&setTimeout(()=>lt.focus())};x.useEffect(()=>()=>window.clearTimeout(E.current),[]),D0();const M=x.useCallback(T=>{var re,X;return I.current===((re=O.current)==null?void 0:re.side)&&m6e(T,(X=O.current)==null?void 0:X.area)},[]);return s.jsx(XFe,{scope:n,searchRef:P,onItemEnter:x.useCallback(T=>{M(T)&&T.preventDefault()},[M]),onItemLeave:x.useCallback(T=>{var J;M(T)||((J=_.current)==null||J.focus(),S(null))},[M]),onTriggerLeave:x.useCallback(T=>{M(T)&&T.preventDefault()},[M]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(T=>{O.current=T},[]),children:s.jsx(B,{...$,children:s.jsx(GK,{asChild:!0,trapped:a,onMountAutoFocus:we(i,T=>{var J;T.preventDefault(),(J=_.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(KK,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(LFe,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:we(c,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(_Fe,{role:"menu","aria-orientation":"vertical","data-state":IH(g.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:we(p.onKeyDown,T=>{const re=T.target.closest("[data-radix-menu-content]")===T.currentTarget,X=T.ctrlKey||T.altKey||T.metaKey,ye=T.key.length===1;re&&(T.key==="Tab"&&T.preventDefault(),!X&&ye&&R(T.key));const Re=_.current;if(T.target!==Re||!qFe.includes(T.key))return;T.preventDefault();const lt=w().filter(je=>!je.disabled).map(je=>je.ref.current);mH.includes(T.key)&&lt.reverse(),u6e(lt)}),onBlur:we(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:we(e.onPointerMove,Sp(T=>{const J=T.target,re=F.current!==T.clientX;if(T.currentTarget.contains(J)&&re){const X=T.clientX>F.current?"right":"left";I.current=X,F.current=T.clientX}}))})})})})})})});bH.displayName=ja;var t6e="MenuGroup",RP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(bs.div,{role:"group",...r,ref:t})});RP.displayName=t6e;var n6e="MenuLabel",jH=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(bs.div,{...r,ref:t})});jH.displayName=n6e;var Qv="MenuItem",d4="menu.itemSelect",Qb=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=x.useRef(null),o=fx(Qv,e.__scopeMenu),l=DP(Qv,e.__scopeMenu),c=Ve(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(d4,{bubbles:!0,cancelable:!0});f.addEventListener(d4,m=>r==null?void 0:r(m),{once:!0}),WK(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(wH,{...a,ref:c,disabled:n,onClick:we(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:we(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:we(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||nS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qb.displayName=Qv;var wH=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=DP(Qv,n),l=xH(n),c=x.useRef(null),u=Ve(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),s.jsx(Np.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:s.jsx(BFe,{asChild:!0,...l,focusable:!r,children:s.jsx(bs.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:we(e.onPointerMove,Sp(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(e.onPointerLeave,Sp(v=>o.onItemLeave(v))),onFocus:we(e.onFocus,()=>f(!0)),onBlur:we(e.onBlur,()=>f(!1))})})})}),r6e="MenuCheckboxItem",_H=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(EH,{scope:e.__scopeMenu,checked:n,children:s.jsx(Qb,{role:"menuitemcheckbox","aria-checked":Xv(n)?"mixed":n,...a,ref:t,"data-state":LP(n),onSelect:we(a.onSelect,()=>r==null?void 0:r(Xv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_H.displayName=r6e;var NH="MenuRadioGroup",[s6e,a6e]=Cu(NH,{value:void 0,onValueChange:()=>{}}),SH=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Ft(r);return s.jsx(s6e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(RP,{...a,ref:t})})});SH.displayName=NH;var CH="MenuRadioItem",PH=x.forwardRef((e,t)=>{const{value:n,...r}=e,a=a6e(CH,e.__scopeMenu),i=n===a.value;return s.jsx(EH,{scope:e.__scopeMenu,checked:i,children:s.jsx(Qb,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":LP(i),onSelect:we(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});PH.displayName=CH;var FP="MenuItemIndicator",[EH,i6e]=Cu(FP,{checked:!1}),kH=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=i6e(FP,n);return s.jsx(cx,{present:r||Xv(i.checked)||i.checked===!0,children:s.jsx(bs.span,{...a,ref:t,"data-state":LP(i.checked)})})});kH.displayName=FP;var o6e="MenuSeparator",AH=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(bs.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});AH.displayName=o6e;var l6e="MenuArrow",OH=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Yb(n);return s.jsx(NFe,{...a,...r,ref:t})});OH.displayName=l6e;var c6e="MenuSub",[WLe,TH]=Cu(c6e),Fh="MenuSubTrigger",MH=x.forwardRef((e,t)=>{const n=Pu(Fh,e.__scopeMenu),r=fx(Fh,e.__scopeMenu),a=TH(Fh,e.__scopeMenu),i=DP(Fh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(MP,{asChild:!0,...u,children:s.jsx(wH,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":IH(n.open),...e,ref:Rp(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(e.onPointerMove,Sp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:we(e.onPointerLeave,Sp(f=>{var m,v;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(v=n.content)==null?void 0:v.dataset.side,g=p==="right",y=g?-5:5,b=h[g?"left":"right"],j=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:we(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||WFe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});MH.displayName=Fh;var $H="MenuSubContent",DH=x.forwardRef((e,t)=>{const n=yH(ja,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Pu(ja,e.__scopeMenu),o=fx(ja,e.__scopeMenu),l=TH($H,e.__scopeMenu),c=x.useRef(null),u=Ve(t,c);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(cx,{present:r||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:s.jsx(IP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:we(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:we(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:we(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=UFe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});DH.displayName=$H;function IH(e){return e?"open":"closed"}function Xv(e){return e==="indeterminate"}function LP(e){return Xv(e)?"indeterminate":e?"checked":"unchecked"}function u6e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function d6e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function f6e(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=d6e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function h6e(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function m6e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return h6e(n,t)}function Sp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var p6e=gH,x6e=MP,g6e=vH,y6e=bH,v6e=RP,b6e=jH,j6e=Qb,w6e=_H,_6e=SH,N6e=PH,S6e=kH,C6e=AH,P6e=OH,E6e=MH,k6e=DH,Xb="DropdownMenu",[A6e,ULe]=Jn(Xb,[pH]),js=pH(),[O6e,RH]=A6e(Xb),FH=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=js(t),u=x.useRef(null),[d,f]=qK({prop:a,defaultProp:i??!1,onChange:o,caller:Xb});return s.jsx(O6e,{scope:t,triggerId:Qs(),triggerRef:u,contentId:Qs(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(p6e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};FH.displayName=Xb;var LH="DropdownMenuTrigger",BH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=RH(LH,n),o=js(n);return s.jsx(x6e,{asChild:!0,...o,children:s.jsx(bs.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Rp(t,i.triggerRef),onPointerDown:we(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:we(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BH.displayName=LH;var T6e="DropdownMenuPortal",zH=e=>{const{__scopeDropdownMenu:t,...n}=e,r=js(t);return s.jsx(g6e,{...r,...n})};zH.displayName=T6e;var qH="DropdownMenuContent",WH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=RH(qH,n),i=js(n),o=x.useRef(!1);return s.jsx(y6e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:we(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:we(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WH.displayName=qH;var M6e="DropdownMenuGroup",$6e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(v6e,{...a,...r,ref:t})});$6e.displayName=M6e;var D6e="DropdownMenuLabel",UH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(b6e,{...a,...r,ref:t})});UH.displayName=D6e;var I6e="DropdownMenuItem",VH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(j6e,{...a,...r,ref:t})});VH.displayName=I6e;var R6e="DropdownMenuCheckboxItem",KH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(w6e,{...a,...r,ref:t})});KH.displayName=R6e;var F6e="DropdownMenuRadioGroup",L6e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(_6e,{...a,...r,ref:t})});L6e.displayName=F6e;var B6e="DropdownMenuRadioItem",HH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(N6e,{...a,...r,ref:t})});HH.displayName=B6e;var z6e="DropdownMenuItemIndicator",GH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(S6e,{...a,...r,ref:t})});GH.displayName=z6e;var q6e="DropdownMenuSeparator",YH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(C6e,{...a,...r,ref:t})});YH.displayName=q6e;var W6e="DropdownMenuArrow",U6e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(P6e,{...a,...r,ref:t})});U6e.displayName=W6e;var V6e="DropdownMenuSubTrigger",QH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(E6e,{...a,...r,ref:t})});QH.displayName=V6e;var K6e="DropdownMenuSubContent",XH=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=js(n);return s.jsx(k6e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XH.displayName=K6e;var H6e=FH,G6e=BH,Y6e=zH,ZH=WH,JH=UH,eG=VH,tG=KH,nG=HH,rG=GH,sG=YH,aG=QH,iG=XH;const Q6e=H6e,X6e=G6e,Z6e=x.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(aG,{ref:a,className:tt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(Rl,{className:"ml-auto"})]}));Z6e.displayName=aG.displayName;const J6e=x.forwardRef(({className:e,...t},n)=>s.jsx(iG,{ref:n,className:tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));J6e.displayName=iG.displayName;const oG=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Y6e,{children:s.jsx(ZH,{ref:r,sideOffset:t,className:tt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));oG.displayName=ZH.displayName;const Lh=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(eG,{ref:r,className:tt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Lh.displayName=eG.displayName;const eLe=x.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(tG,{ref:a,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(rG,{children:s.jsx(qd,{className:"h-4 w-4"})})}),t]}));eLe.displayName=tG.displayName;const tLe=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(nG,{ref:r,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(rG,{children:s.jsx(XZ,{className:"h-2 w-2 fill-current"})})}),t]}));tLe.displayName=nG.displayName;const nLe=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(JH,{ref:r,className:tt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));nLe.displayName=JH.displayName;const rLe=x.forwardRef(({className:e,...t},n)=>s.jsx(sG,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));rLe.displayName=sG.displayName;const lG=[{id:"PT-111111",name:"WHITE",name_ar:"",color:"#FFFFFF",textColor:"#000000"},{id:"PT-000000",name:"BLACK",name_ar:"",color:"#000000",textColor:"#FFFFFF"},{id:"PT-8B0000",name:"DARK_RED",name_ar:" ",color:"#8B0000",textColor:"#FFFFFF"},{id:"PT-006400",name:"DARK_GREEN",name_ar:" ",color:"#006400",textColor:"#FFFFFF"},{id:"PT-000080",name:"NAVY_BLUE",name_ar:" ",color:"#000080",textColor:"#FFFFFF"},{id:"PT-2F4F4F",name:"DARK_GRAY",name_ar:" ",color:"#2F4F4F",textColor:"#FFFFFF"},{id:"PT-FF0000",name:"RED",name_ar:"",color:"#FF0000",textColor:"#FFFFFF"},{id:"PT-0000FF",name:"BLUE",name_ar:"",color:"#0000FF",textColor:"#FFFFFF"},{id:"PT-00FF00",name:"GREEN",name_ar:"",color:"#00FF00",textColor:"#000000"},{id:"PT-FFFF00",name:"YELLOW",name_ar:"",color:"#FFFF00",textColor:"#000000"},{id:"PT-FFA500",name:"ORANGE",name_ar:"",color:"#FFA500",textColor:"#000000"},{id:"PT-800080",name:"PURPLE",name_ar:"",color:"#800080",textColor:"#FFFFFF"},{id:"PT-FFC0CB",name:"PINK",name_ar:"",color:"#FFC0CB",textColor:"#000000"},{id:"PT-A52A2A",name:"BROWN",name_ar:"",color:"#A52A2A",textColor:"#FFFFFF"},{id:"PT-C0C0C0",name:"SILVER",name_ar:"",color:"#C0C0C0",textColor:"#000000"},{id:"PT-FFD700",name:"GOLD",name_ar:"",color:"#FFD700",textColor:"#000000"},{id:"PT-E2DCC8",name:"BEIGE",name_ar:"",color:"#E2DCC8",textColor:"#000000"},{id:"PT-ADD8E6",name:"LIGHT_BLUE",name_ar:" ",color:"#ADD8E6",textColor:"#000000"},{id:"PT-90EE90",name:"LIGHT_GREEN",name_ar:" ",color:"#90EE90",textColor:"#000000"},{id:"PT-D3D3D3",name:"LIGHT_GRAY",name_ar:" ",color:"#D3D3D3",textColor:"#000000"},{id:"PT-MIX",name:"MIX",name_ar:"",color:"#E2DCC8",textColor:"#000000"},{id:"PT-CLEAR",name:"CLEAR",name_ar:"",color:"#E2DCC8",textColor:"#000000"}],pg=e=>{if(!e)return" ";const t=lG.find(n=>n.id===e);return(t==null?void 0:t.name_ar)||e},sLe=ie.object({customer_id:ie.string().min(1," "),delivery_days:ie.coerce.number().int().positive().max(365,"       1  365"),notes:ie.string().optional()}),aLe=ie.object({order_id:ie.coerce.number().int().positive().optional(),production_order_number:ie.string().optional(),customer_product_id:ie.coerce.number().int().positive().optional(),quantity_kg:ie.coerce.number().positive().optional(),overrun_percentage:ie.coerce.number().min(0).max(100).optional(),final_quantity_kg:ie.coerce.number().positive().optional(),status:ie.string().min(1," ")});function iLe(){const[e,t]=x.useState(""),[n,r]=x.useState("waiting"),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(null),[v,p]=x.useState(null),[g,y]=x.useState(null),[b,j]=x.useState(""),[w,N]=x.useState([]),[S,_]=x.useState(""),[C,E]=x.useState({}),[P,A]=x.useState(""),[O,I]=x.useState(""),[F,B]=x.useState(""),[$,R]=x.useState(1),[M,T]=x.useState(25),J=qn(),{toast:re}=Sn(),X=async(te,ae)=>{if(!te||!ae||ae<=0)return null;try{const be=await fetch("/api/production-orders/preview-quantities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_product_id:te,quantity_kg:ae})});return be.ok?await be.json():null}catch(be){return console.error("Error previewing quantity calculation:",be),null}},ye=async(te,ae,be)=>{const ve=w[te],ft=ae||ve.customer_product_id,xt=be||ve.quantity_kg;if(ft&&xt>0){const ht=await X(ft,xt);ht&&E(qe=>({...qe,[te]:ht}))}},{data:Re,isLoading:Je,refetch:lt}=$e({queryKey:["/api/orders/enhanced",{search:e,customer_id:P,status:n==="all"?"":n,date_from:O,date_to:F,page:$,limit:M}],queryFn:async({queryKey:te})=>{const[,ae]=te,be=new URLSearchParams;Object.entries(ae).forEach(([xt,ht])=>{ht&&ht!==""&&be.append(xt,String(ht))});const ve=await fetch(`/api/orders/enhanced?${be}`);if(!ve.ok)throw new Error("   ");const ft=await ve.json();return ft.success?ft.data:{orders:[],pagination:{page:1,limit:25,total:0,totalPages:0}}},staleTime:1e4}),je=(Re==null?void 0:Re.orders)||[];Re==null||Re.pagination;const{data:Oe=[]}=$e({queryKey:["/api/production-orders"],queryFn:async()=>{const te=await fetch("/api/production-orders");if(!te.ok)throw new Error("    ");const ae=await te.json(),be=ae.data||ae;return Array.isArray(be)?be:[]}}),{data:ce=[]}=$e({queryKey:["/api/customers"],queryFn:async()=>{const te=await fetch("/api/customers");if(!te.ok)throw new Error("   ");const ae=await te.json(),be=ae.data||ae;return Array.isArray(be)?be:[]}}),{data:_e=[]}=$e({queryKey:["/api/customer-products"],queryFn:async()=>{const te=await fetch("/api/customer-products");if(!te.ok)throw new Error("    ");const ae=await te.json(),be=ae.data||ae;return Array.isArray(be)?be:[]}}),{data:H=[]}=$e({queryKey:["/api/users"],queryFn:async()=>{const te=await fetch("/api/users");if(!te.ok)throw new Error("   ");const ae=await te.json(),be=ae.data||ae;return Array.isArray(be)?be:[]}}),{data:Y=[]}=$e({queryKey:["/api/items"],queryFn:async()=>{const te=await fetch("/api/items");if(!te.ok)throw new Error("   ");const ae=await te.json(),be=ae.data||ae;return Array.isArray(be)?be:[]}});et({mutationFn:async te=>{const ae=d?`/api/orders/${d.id}`:"/api/orders",ve=await fetch(ae,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!ve.ok)throw new Error("   ");return ve.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/orders"]}),i(!1),f(null),re({title:"  ",description:d?"  ":"  "})},onError:()=>{re({title:"",description:"   ",variant:"destructive"})}});const L=et({mutationFn:async te=>{const ae=h?`/api/production-orders/${h.id}`:"/api/production-orders",ve=await fetch(ae,{method:h?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!ve.ok)throw new Error("   ");return ve.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/production-orders"]}),l(!1),m(null),re({title:"  ",description:h?"   ":"   "})},onError:()=>{re({title:"",description:"   ",variant:"destructive"})}}),Z=Sr({resolver:Qr(sLe),defaultValues:{customer_id:"",delivery_days:"15",notes:""}}),Be=_e.filter(te=>te.customer_id===b),Ke=ce.filter(te=>{var ae,be;return((ae=te.name_ar)==null?void 0:ae.toLowerCase().includes(S.toLowerCase()))||((be=te.name)==null?void 0:be.toLowerCase().includes(S.toLowerCase()))}),st=Sr({resolver:Qr(aLe),defaultValues:{order_id:void 0,production_order_number:"",customer_product_id:void 0,quantity_kg:void 0,status:"pending"}}),$t=je.filter(te=>{var ve,ft,xt,ht;const ae=e===""||(te.order_number||"").toLowerCase().includes(e.toLowerCase())||(te.customer_name||"").toLowerCase().includes(e.toLowerCase())||((ft=(ve=ce.find(qe=>qe.id===te.customer_id))==null?void 0:ve.name)==null?void 0:ft.toLowerCase().includes(e.toLowerCase()))||((ht=(xt=ce.find(qe=>qe.id===te.customer_id))==null?void 0:xt.name_ar)==null?void 0:ht.toLowerCase().includes(e.toLowerCase())),be=n==="all"||te.status===n;return ae&&be}),ne=Oe.filter(te=>{var ae,be,ve,ft,xt;if(v&&te.order_id!==v)return!1;if(e){const ht=ce.find(We=>{const Wt=je.find(sr=>sr.id===te.order_id);return Wt&&We.id===Wt.customer_id}),qe=_e.find(We=>We.id===te.customer_product_id);return((ae=te.production_order_number)==null?void 0:ae.toLowerCase().includes(e.toLowerCase()))||((be=ht==null?void 0:ht.name)==null?void 0:be.toLowerCase().includes(e.toLowerCase()))||((ve=ht==null?void 0:ht.name_ar)==null?void 0:ve.toLowerCase().includes(e.toLowerCase()))||((ft=qe==null?void 0:qe.size_caption)==null?void 0:ft.toLowerCase().includes(e.toLowerCase()))||((xt=qe==null?void 0:qe.raw_material)==null?void 0:xt.toLowerCase().includes(e.toLowerCase()))}return!0}).sort((te,ae)=>{const be=je.find(ft=>ft.id===te.order_id),ve=je.find(ft=>ft.id===ae.order_id);if(be!=null&&be.order_number&&(ve!=null&&ve.order_number)){const ft=be.order_number,xt=ve.order_number;if(ft!==xt)return xt.localeCompare(ft)}return te.production_order_number&&ae.production_order_number?te.production_order_number.localeCompare(ae.production_order_number):0}),pe=()=>{f(null),j(""),N([]),Z.reset({customer_id:"",delivery_days:"15",notes:""}),i(!0)},kt=te=>{m(null),st.reset({order_id:void 0,production_order_number:"",customer_product_id:void 0,quantity_kg:void 0,status:"pending"}),l(!0)},z=te=>{var ae,be,ve;m(te),st.reset({order_id:((ae=te.order_id)==null?void 0:ae.toString())||"",production_order_number:te.production_order_number||"",customer_product_id:((be=te.customer_product_id)==null?void 0:be.toString())||"",quantity_kg:((ve=te.quantity_kg)==null?void 0:ve.toString())||"",status:te.status||"pending"}),l(!0)},se=async te=>{try{if(console.log("   ...",{data:te,productionOrdersInForm:w}),w.length===0){re({title:"",description:"      ",variant:"destructive"});return}if(w.filter(We=>!We.customer_product_id||We.customer_product_id===""||!We.quantity_kg||We.quantity_kg<=0).length>0){re({title:"  ",description:"       (   )",variant:"destructive"});return}console.log("  ...");const be=await fetch("/api/orders/next-number");if(!be.ok)throw new Error("    ");const{orderNumber:ve}=await be.json();console.log("  :",ve);const ft={order_number:ve,customer_id:te.customer_id,delivery_days:Gv(te.delivery_days,"Delivery days",{min:1,max:365}),notes:te.notes||"",created_by:"8"};console.log("  :",ft);const xt=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ft)});if(!xt.ok){const We=await xt.text();throw console.error("   :",We),new Error(`   : ${We}`)}const ht=await xt.json();console.log("   :",ht);const qe=w.filter(We=>We.customer_product_id&&We.customer_product_id!==""&&We.quantity_kg&&We.quantity_kg>0);console.log("  ...",qe.length);for(let We=0;We<qe.length;We++){const Wt=qe[We],sr=w.findIndex(k=>k.customer_product_id===Wt.customer_product_id&&k.quantity_kg===Wt.quantity_kg),Dr=C[sr],oc=(Dr==null?void 0:Dr.overrun_percentage)||5,zo=(Dr==null?void 0:Dr.final_quantity_kg)||Wt.quantity_kg*1.05,qo={order_id:ht.data.id,customer_product_id:parseInt(Wt.customer_product_id),quantity_kg:Wt.quantity_kg.toString(),overrun_percentage:oc.toString(),final_quantity_kg:zo.toString(),status:Wt.status||"pending"};console.log(`   ${We+1}:`,qo);const vn=await fetch("/api/production-orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qo)});if(vn.ok){const k=await vn.json();console.log(`    ${We+1} :`,k)}else{const k=await vn.text();console.error(`     ${We+1}:`,k)}}console.log(" ..."),J.invalidateQueries({queryKey:["/api/orders"]}),J.invalidateQueries({queryKey:["/api/production-orders"]}),i(!1),N([]),j(""),_(""),Z.reset(),console.log("   "),re({title:"  ",description:`    ${ve}  ${w.length}  `})}catch(ae){console.error("   :",ae),re({title:"",description:ae instanceof Error?ae.message:"   ",variant:"destructive"})}},he=()=>{if(!b){re({title:"",description:"   ",variant:"destructive"});return}N([...w,{customer_product_id:"",quantity_kg:0,overrun_percentage:5,final_quantity_kg:0,status:"pending"}])},ze=te=>{const ae=w.filter((be,ve)=>ve!==te);N(ae)},Le=async(te,ae,be)=>{const ve=[...w];ve[te]={...ve[te],[ae]:be},N(ve),ae==="customer_product_id"?await ye(te,be,ve[te].quantity_kg):ae==="quantity_kg"&&await ye(te,ve[te].customer_product_id,be)},De=te=>{L.mutate(te)},at=te=>{y(te),p(te.id),u(!0)},Yt=te=>{const ae=ce.find(qe=>qe.id===te.customer_id),be=H.find(qe=>qe.id===parseInt(te.created_by)),ve=Oe.filter(qe=>qe.order_id===te.id),ft=[{id:"CAT01",name:" ",name_ar:" "},{id:"CAT02",name:" ",name_ar:" "},{id:"CAT03",name:" ",name_ar:" "}],xt=`
      <html dir="rtl">
        <head>
          <meta charset="UTF-8">
          <title>  ${te.order_number}</title>
          <style>
            body { font-family: 'Arial', sans-serif; direction: rtl; margin: 20px; line-height: 1.6; font-size: 16px; color: #000; font-weight: bold; }
            .header { text-align: center; border-bottom: 3px solid #000; padding-bottom: 15px; margin-bottom: 25px; }
            .order-info { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 25px; }
            .info-box { border: 2px solid #000; padding: 20px; border-radius: 8px; background: #fff; }
            .production-orders { margin-top: 25px; margin-bottom: 25px; }
            .production-order-card { page-break-inside: avoid; border: 2px solid #000; margin: 20px 0; padding: 20px; border-radius: 8px; background: #f9f9f9; }
            .user-info { margin-top: 25px; }
            h1 { font-size: 24px; font-weight: bold; color: #000; margin: 10px 0; }
            h3 { color: #000; border-bottom: 2px solid #000; padding-bottom: 8px; font-size: 20px; font-weight: bold; }
            h4 { color: #000; margin-bottom: 15px; font-size: 18px; font-weight: bold; }
            h5 { color: #000; margin-bottom: 10px; border-bottom: 1px solid #000; padding-bottom: 5px; font-size: 16px; font-weight: bold; }
            p { margin: 8px 0; font-size: 14px; }
            strong { color: #000; font-weight: bold; }
            @media print { 
              body { margin: 0; font-size: 14px; } 
              .production-order-card { margin: 15px 0; }
              .info-box { border: 1px solid #000; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1> : ${te.order_number}</h1>
            <p> : ${nn(new Date,"dd/MM/yyyy HH:mm")}</p>
          </div>
          
          <div class="order-info">
            <div class="info-box">
              <h3> </h3>
              <p><strong> :</strong> ${te.order_number}</p>
              <p><strong> :</strong> ${nn(new Date(te.created_at),"dd/MM/yyyy")}</p>
              <p><strong> :</strong> ${te.delivery_days} </p>
              <p><strong>:</strong> ${te.status}</p>
              <p><strong>:</strong> ${te.notes||"  "}</p>
            </div>
            
            <div class="info-box">
              <h3> </h3>
              <p><strong> :</strong> ${(ae==null?void 0:ae.name_ar)||(ae==null?void 0:ae.name)}</p>
              <p><strong> :</strong> ${ae==null?void 0:ae.id}</p>
              <p><strong>:</strong> ${(ae==null?void 0:ae.phone)||" "}</p>
              <p><strong>:</strong> ${(ae==null?void 0:ae.address)||" "}</p>
            </div>
          </div>
          
          
          <div class="production-orders">
            <h3> </h3>
            ${ve.map(qe=>{const We=_e.find(Wt=>Wt.id===qe.customer_product_id);return`
                <div class="production-order-card">
                  <h4> : ${qe.production_order_number}</h4>
                  
                  <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                    <div class="product-details">
                      <h5> :</h5>
                      <p><strong> :</strong> ${(We==null?void 0:We.size_caption)||" "}</p>
                      <p><strong> :</strong> ${(We==null?void 0:We.raw_material)||" "}</p>
                      <p><strong>:</strong> ${(We==null?void 0:We.width)||" "} </p>
                      <p><strong>:</strong> ${(We==null?void 0:We.thickness)||" "} </p>
                      <p><strong> :</strong> ${(We==null?void 0:We.cutting_length_cm)||" "} </p>
                      <p><strong>  :</strong> ${(We==null?void 0:We.pieces_per_kg)||" "}</p>
                    </div>
                    
                    <div class="product-specs">
                      <h5> :</h5>
                      <p><strong>:</strong> ${(We==null?void 0:We.punching)||" "}</p>
                      <p><strong> :</strong> ${(We==null?void 0:We.master_batch_id)||" "}</p>
                      ${We!=null&&We.color?`<p><strong>:</strong> ${We.color}</p>`:""}
                      ${We!=null&&We.bag_type?`<p><strong> :</strong> ${We.bag_type}</p>`:""}
                      <p><strong>:</strong> ${We!=null&&We.print_colors?`${We.print_colors} `:" "}</p>
                      <p><strong> :</strong> ${(()=>{const Wt=ft.find(sr=>sr.id===(We==null?void 0:We.category_id));return(Wt==null?void 0:Wt.name_ar)||(Wt==null?void 0:Wt.name)||" "})()}</p>
                    </div>
                    
                    <div class="production-details">
                      <h5> :</h5>
                      <p><strong> :</strong> ${qe.quantity_kg} </p>
                      <p><strong>  :</strong> ${We!=null&&We.pieces_per_kg?Math.round(parseFloat(qe.quantity_kg)*parseFloat(We.pieces_per_kg)):" "} </p>
                      <p><strong> :</strong> ${qe.status==="pending"?" ":qe.status==="in_progress"?" ":qe.status==="completed"?"":""}</p>
                      <p><strong> :</strong> ${nn(new Date(qe.created_at),"dd/MM/yyyy")}</p>
                      <p><strong> :</strong> ${(We==null?void 0:We.production_notes)||" "}</p>
                    </div>
                  </div>
                  
                  ${We!=null&&We.additional_notes?`
                    <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee;">
                      <p><strong> :</strong> ${We.additional_notes}</p>
                    </div>
                  `:""}
                </div>
              `}).join("")}
          </div>
          
          <div class="user-info info-box">
            <h3> </h3>
            <p><strong> :</strong> ${be==null?void 0:be.username}</p>
            <p><strong> :</strong> ${be==null?void 0:be.id}</p>
            <p><strong>  :</strong> ${nn(new Date(te.created_at),"dd/MM/yyyy HH:mm")}</p>
          </div>
        </body>
      </html>
    `,ht=window.open("","_blank");ht&&(ht.document.write(xt),ht.document.close(),ht.print()),re({title:" ",description:`     ${te.order_number}`})},dn=async te=>{if(confirm(`      ${te.order_number}      .`))try{if(!(await fetch(`/api/orders/${te.id}`,{method:"DELETE"})).ok)throw new Error("   ");J.invalidateQueries({queryKey:["/api/orders"]}),re({title:"  ",description:`   ${te.order_number}`})}catch{re({title:"",description:"   ",variant:"destructive"})}},$n=async(te,ae)=>{try{if(!(await fetch(`/api/orders/${te.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:ae})})).ok)throw new Error("    ");J.invalidateQueries({queryKey:["/api/orders"]}),re({title:"  ",description:`    ${te.order_number}`})}catch{re({title:"",description:"    ",variant:"destructive"})}},Gi=te=>{const ae={waiting:{label:"",variant:"secondary"},in_production:{label:"",variant:"default"},paused:{label:"",variant:"destructive"},completed:{label:"",variant:"default"},received:{label:"",variant:"default"},delivered:{label:" ",variant:"default"},cancelled:{label:"",variant:"destructive"}},be=ae[te]||ae.waiting;return s.jsx(ge,{variant:be.variant,children:be.label})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600",children:"     "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:n==="all"?" ":n==="waiting"?"  ":n==="in_production"?"  ":n==="paused"?" ":n==="completed"?" ":n==="received"?" ":n==="delivered"?"  ":" "}),s.jsx(Ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:$t.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="all"?`  ${je.length} `:`  ${je.length}  `})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Oe.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:" "}),s.jsx(cr,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Oe.filter(te=>te.status==="in_progress").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),s.jsxs(K,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:""}),s.jsx(Qn,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Oe.filter(te=>te.status==="completed").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),s.jsxs(Is,{defaultValue:"orders",className:"space-y-4",children:[s.jsxs(vs,{children:[s.jsx(mt,{value:"orders",children:""}),s.jsx(mt,{value:"production-orders",children:" "})]}),s.jsx(ct,{value:"orders",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oe,{children:" "}),s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"  ...",value:e,onChange:te=>t(te.target.value),className:"pl-10 w-64"})]}),s.jsxs(Xe,{value:n||"",onValueChange:r,children:[s.jsx(Ge,{className:"w-48",children:s.jsx(Ze,{placeholder:"  "})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"waiting",children:""}),s.jsx(q,{value:"in_production",children:""}),s.jsx(q,{value:"paused",children:""}),s.jsx(q,{value:"completed",children:""}),s.jsx(q,{value:"received",children:""}),s.jsx(q,{value:"delivered",children:" "})]})]}),s.jsxs(ln,{open:a,onOpenChange:i,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:pe,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(rn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:"  "}),s.jsx(jn,{children:"       "})]}),s.jsx(Cr,{...Z,children:s.jsxs("form",{onSubmit:Z.handleSubmit(se),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsx("div",{className:"text-lg font-bold text-blue-600",children:"  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:nn(new Date,"dd/MM/yyyy")})]})]}),s.jsx(Ee,{control:Z.control,name:"customer_id",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"    ...",value:S,onChange:ae=>_(ae.target.value),className:"pl-10"})]}),s.jsxs(Xe,{onValueChange:ae=>{te.onChange(ae),j(ae),N([])},value:te.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:Ke.map(ae=>s.jsxs(q,{value:ae.id.toString(),children:[ae.name_ar||ae.name," (",ae.id,")"]},ae.id))})]})]}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:" "}),s.jsxs(W,{type:"button",onClick:he,variant:"outline",size:"sm",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"  "]})]}),w.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"      "}),s.jsx("div",{className:"space-y-4",children:w.map((te,ae)=>{var be;return s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["  #",ae+1]}),s.jsx(W,{type:"button",onClick:()=>ze(ae),variant:"ghost",size:"sm",children:s.jsx(ya,{className:"h-4 w-4 text-red-500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsxs(Xe,{onValueChange:ve=>Le(ae,"customer_product_id",parseInt(ve)),value:((be=te.customer_product_id)==null?void 0:be.toString())||"",children:[s.jsx(Ge,{className:"h-auto min-h-[60px] w-full",children:s.jsx(Ze,{placeholder:" ",children:te.customer_product_id&&Be.find(ve=>ve.id===te.customer_product_id)&&s.jsxs("div",{className:"text-right w-full py-2",children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm leading-relaxed mb-1",children:(()=>{const ve=Be.find(qe=>qe.id===te.customer_product_id);if(!ve)return"";const ft=Y.find(qe=>qe.id===ve.item_id);let ht=(ft==null?void 0:ft.name_ar)||(ft==null?void 0:ft.name)||"  ";return ve!=null&&ve.size_caption&&(ht+=` - ${ve.size_caption}`),ht})()}),s.jsx("div",{className:"text-xs text-gray-600 space-y-0.5",children:(()=>{var ft;const ve=Be.find(xt=>xt.id===te.customer_product_id);return ve?s.jsxs("div",{className:"grid grid-cols-1 gap-0.5",children:[ve.thickness&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:":"})," ",s.jsxs("span",{className:"text-blue-600 font-medium",children:[ve.thickness," "]})]}),ve.master_batch_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium text-gray-700",children:" :"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:(()=>{var qe;return{WHITE:"#FFFFFF",BLACK:"#000000",CLEAR:"#FFFFFF",RED:"#FF0000",BLUE:"#0000FF",GREEN:"#008000",YELLOW:"#FFFF00",ORANGE:"#FFA500",PURPLE:"#800080"}[(qe=ve.master_batch_id)==null?void 0:qe.toUpperCase()]||"#808080"})(),borderColor:((ft=ve.master_batch_id)==null?void 0:ft.toUpperCase())==="WHITE"?"#CCCCCC":(()=>{var ht;return{WHITE:"#FFFFFF",BLACK:"#000000",CLEAR:"#FFFFFF",RED:"#FF0000",BLUE:"#0000FF",GREEN:"#008000",YELLOW:"#FFFF00",ORANGE:"#FFA500",PURPLE:"#800080"}[(ht=ve.master_batch_id)==null?void 0:ht.toUpperCase()]||"#808080"})()}}),s.jsx("span",{className:"text-purple-600 font-medium",children:pg(ve.master_batch_id)})]})]}),ve.raw_material&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:":"})," ",s.jsx("span",{className:"text-green-600 font-medium",children:ve.raw_material})]})]}):null})()})]})})}),s.jsx(Ye,{className:"max-w-[800px] w-[800px]",children:Be.map(ve=>{var ft;return s.jsx(q,{value:ve.id.toString(),className:"h-auto min-h-[80px] py-3",children:s.jsxs("div",{className:"w-full text-right py-2 min-w-[700px]",children:[s.jsx("div",{className:"font-semibold text-gray-900 mb-2 text-base leading-relaxed",children:(()=>{const xt=Y.find(ht=>ht.id===ve.item_id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{children:(xt==null?void 0:xt.name_ar)||(xt==null?void 0:xt.name)||"  "}),(ve==null?void 0:ve.size_caption)&&s.jsx("div",{children:ve.size_caption}),ve.cutting_length_cm&&s.jsxs("div",{children:[" : ",ve.cutting_length_cm," "]})]})})()}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"space-y-2",children:[ve.thickness&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-700",children:":"}),s.jsxs("span",{className:"text-blue-600 font-semibold bg-blue-50 px-2 py-0.5 rounded",children:[ve.thickness," "]})]}),ve.master_batch_id&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-700",children:" :"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{backgroundColor:(()=>{var ht;return{WHITE:"#FFFFFF",BLACK:"#000000",CLEAR:"#FFFFFF",RED:"#FF0000",BLUE:"#0000FF",GREEN:"#008000",YELLOW:"#FFFF00",ORANGE:"#FFA500",PURPLE:"#800080",PINK:"#FFC0CB",BROWN:"#A52A2A"}[(ht=ve.master_batch_id)==null?void 0:ht.toUpperCase()]||"#808080"})(),borderColor:((ft=ve.master_batch_id)==null?void 0:ft.toUpperCase())==="WHITE"?"#CCCCCC":(()=>{var ht;return{WHITE:"#FFFFFF",BLACK:"#000000",CLEAR:"#FFFFFF",RED:"#FF0000",BLUE:"#0000FF",GREEN:"#008000",YELLOW:"#FFFF00",ORANGE:"#FFA500",PURPLE:"#800080",PINK:"#FFC0CB",BROWN:"#A52A2A"}[(ht=ve.master_batch_id)==null?void 0:ht.toUpperCase()]||"#808080"})()}}),s.jsx("span",{className:"text-purple-600 font-semibold bg-purple-50 px-2 py-0.5 rounded",children:pg(ve.master_batch_id)})]})]}),ve.raw_material&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-700",children:" :"}),s.jsx("span",{className:"text-green-600 font-semibold bg-green-50 px-2 py-0.5 rounded",children:ve.raw_material})]})]}),s.jsxs("div",{className:"space-y-2",children:[ve.width&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:":"})," ",s.jsxs("span",{className:"text-orange-600 font-medium",children:[ve.width," "]})]}),ve.punching&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:":"})," ",s.jsx("span",{className:"text-teal-600 font-medium",children:ve.punching})]}),ve.cutting_unit&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:" :"})," ",s.jsx("span",{className:"text-indigo-600 font-medium",children:ve.cutting_unit})]})]})]}),ve.notes&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 rounded p-2",children:[s.jsx("span",{className:"font-medium",children:":"})," ",ve.notes]})]})},ve.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"  ()"}),s.jsx(fe,{type:"number",placeholder:" ",value:te.quantity_kg||"",onChange:ve=>Le(ae,"quantity_kg",parseFloat(ve.target.value)||0),className:"w-full","data-testid":`input-base-quantity-${ae}`}),C[ae]&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:"font-medium",children:[C[ae].quantity_kg," "]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:"font-medium text-orange-600",children:[C[ae].overrun_percentage,"%"]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-1",children:[s.jsx("span",{className:"font-semibold",children:" :"}),s.jsxs("span",{className:"font-bold text-green-600",children:[C[ae].final_quantity_kg," "]})]}),s.jsx("div",{className:"text-xs text-blue-600 italic",children:C[ae].overrun_reason})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),s.jsxs(Xe,{onValueChange:ve=>Le(ae,"status",ve),value:te.status||"pending",children:[s.jsx(Ge,{className:"w-full",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"pending",children:" "}),s.jsx(q,{value:"in_progress",children:" "}),s.jsx(q,{value:"completed",children:""})]})]})]})]})]})]},ae)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:Z.control,name:"delivery_days",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  ()"}),s.jsx(Pe,{children:s.jsx(fe,{...te,type:"number",placeholder:" "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:Z.control,name:"notes",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsx(Pe,{children:s.jsx(rr,{...te,placeholder:" ",rows:1})}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"flex gap-4 pt-6 border-t",children:[s.jsx(W,{type:"submit",className:"flex-1",disabled:w.length===0,children:"   "}),s.jsx(W,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1",children:""})]})]})})]})]})]})]})}),s.jsx(G,{children:s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{children:[s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:"  "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:""})]})}),s.jsx(uu,{children:$t.map(te=>{const ae=ce.find(qe=>qe.id===te.customer_id),be=H.find(qe=>qe.id===parseInt(te.created_by)),ve=new Date(te.created_at),ft=new Date(ve);ft.setDate(ft.getDate()+te.delivery_days);const xt=new Date,ht=Math.ceil((ft.getTime()-xt.getTime())/(1e3*60*60*24));return s.jsxs(us,{children:[s.jsx(St,{className:"font-medium",children:te.order_number}),s.jsx(St,{children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:(ae==null?void 0:ae.name_ar)||(ae==null?void 0:ae.name)}),s.jsx("div",{className:"text-sm text-gray-500",children:ae==null?void 0:ae.id})]})}),s.jsx(St,{children:te.created_at?nn(new Date(te.created_at),"dd/MM/yyyy"):"-"}),s.jsx(St,{children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:be==null?void 0:be.username}),s.jsxs("div",{className:"text-sm text-gray-500",children:["#",be==null?void 0:be.id]})]})}),s.jsx(St,{children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:ht>0?s.jsxs("span",{className:"text-green-600",children:[ht,"  "]}):ht===0?s.jsx("span",{className:"text-orange-600",children:"  "}):s.jsxs("span",{className:"text-red-600",children:[" ",Math.abs(ht)," "]})}),s.jsxs("div",{className:"text-sm text-gray-500",children:[": ",nn(ft,"dd/MM/yyyy")]})]})}),s.jsx(St,{children:te.notes||"-"}),s.jsx(St,{className:"text-center",children:Gi(te.status||"pending")}),s.jsx(St,{children:s.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[s.jsx(W,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>at(te),title:"",children:s.jsx(Wd,{className:"h-4 w-4"})}),s.jsx(W,{variant:"outline",size:"sm",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>Yt(te),title:"",children:s.jsx(Ti,{className:"h-4 w-4"})}),s.jsxs(Q6e,{children:[s.jsx(X6e,{asChild:!0,children:s.jsxs(W,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-600 hover:bg-orange-50",title:" ",children:[s.jsx(Br,{className:"h-4 w-4 mr-1"}),s.jsx(Oi,{className:"h-3 w-3"})]})}),s.jsxs(oG,{align:"end",className:"w-48",children:[s.jsx(Lh,{onClick:()=>$n(te,"for_production"),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"})," "]})}),s.jsx(Lh,{onClick:()=>$n(te,"on_hold"),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"})," "]})}),s.jsx(Lh,{onClick:()=>$n(te,"pending"),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"})," "]})}),s.jsx(Lh,{onClick:()=>$n(te,"completed"),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),""]})})]})]}),s.jsx(W,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>dn(te),title:"",children:s.jsx(ya,{className:"h-4 w-4"})})]})})]},te.id)})})]})})]})}),s.jsx(ct,{value:"production-orders",className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsx(oe,{children:" "}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[s.jsx(yo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(fe,{placeholder:"   ...",value:e,onChange:te=>t(te.target.value),className:"pr-10"})]}),s.jsxs(ln,{open:o,onOpenChange:l,children:[s.jsx(Os,{asChild:!0,children:s.jsxs(W,{onClick:()=>kt(),children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"  "]})}),s.jsxs(rn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsx(an,{children:h?"  ":"   "}),s.jsx(jn,{children:h?"    ":"      "})]}),s.jsx(Cr,{...st,children:s.jsxs("form",{onSubmit:st.handleSubmit(De),className:"space-y-4",children:[s.jsx(Ee,{control:st.control,name:"order_id",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:ae=>te.onChange(parseInt(ae)),value:te.value?String(te.value):"",children:[s.jsx(Pe,{children:s.jsx(Ge,{children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{children:je.map(ae=>s.jsxs(q,{value:ae.id.toString(),children:[ae.order_number," - ",ae.customer_name]},ae.id))})]}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:st.control,name:"production_order_number",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:"  "}),s.jsx(Pe,{children:s.jsx(fe,{...te,placeholder:"  "})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:st.control,name:"customer_product_id",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsxs(Xe,{onValueChange:ae=>te.onChange(parseInt(ae)),value:te.value?String(te.value):"",children:[s.jsx(Pe,{children:s.jsx(Ge,{className:"h-auto min-h-[40px]",children:s.jsx(Ze,{placeholder:" "})})}),s.jsx(Ye,{className:"max-w-[700px]",children:_e.map(ae=>s.jsx(q,{value:ae.id.toString(),children:s.jsxs("div",{className:"w-full text-right py-2",children:[s.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:(()=>{let be="",ve="";return ae.size_caption?ve=ae.size_caption:ae.raw_material&&ae.width&&ae.thickness?ve=`${ae.raw_material} ${ae.width}${ae.thickness}`:ae.raw_material?ve=ae.raw_material:ve="  ",ae.cutting_length_cm?be=`${ve}  ${ae.cutting_length_cm} `:be=ve,be})()}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[ae.raw_material&&s.jsxs("div",{children:[" : ",ae.raw_material]}),ae.master_batch_id&&s.jsxs("div",{children:[" : ",pg(ae.master_batch_id)]}),ae.punching&&s.jsxs("div",{children:[": ",ae.punching]}),ae.thickness&&s.jsxs("div",{children:[": ",ae.thickness]})]})]})},ae.id))})]}),s.jsx(ke,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ee,{control:st.control,name:"quantity_kg",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" ()"}),s.jsx(Pe,{children:s.jsx(fe,{...te,type:"number",step:"0.01",placeholder:" ",className:"w-full"})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:st.control,name:"status",render:({field:te})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:""}),s.jsxs(Xe,{onValueChange:te.onChange,value:te.value||"",children:[s.jsx(Pe,{children:s.jsx(Ge,{className:"w-full",children:s.jsx(Ze,{placeholder:" "})})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"pending",children:" "}),s.jsx(q,{value:"in_progress",children:" "}),s.jsx(q,{value:"completed",children:""}),s.jsx(q,{value:"cancelled",children:""})]})]}),s.jsx(ke,{})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-2 space-x-reverse",children:[s.jsx(W,{type:"button",variant:"outline",onClick:()=>l(!1),children:""}),s.jsx(W,{type:"submit",children:h?"":""})]})]})})]})]})]})]})}),s.jsx(G,{children:(()=>{const te=ne.reduce((be,ve)=>{const ft=je.find(ht=>ht.id===ve.order_id),xt=(ft==null?void 0:ft.order_number)||" ";return be[xt]||(be[xt]={order:ft,productionOrders:[]}),be[xt].productionOrders.push(ve),be},{}),ae=Object.keys(te).sort((be,ve)=>ve.localeCompare(be));return ae.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"   "}):s.jsx("div",{className:"space-y-6",children:ae.map(be=>{const ve=te[be],ft=ve.order,xt=ce.find(ht=>ft&&ht.id===ft.customer_id);return s.jsxs("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[" : ",be]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[": ",(xt==null?void 0:xt.name_ar)||(xt==null?void 0:xt.name)||" "]}),ft&&s.jsxs("span",{className:"text-sm text-gray-600",children:[": ",nn(new Date(ft.created_at),"dd/MM/yyyy")]})]}),s.jsxs(ge,{variant:"outline",children:[ve.productionOrders.length,"  "]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(lu,{children:[s.jsx(cu,{children:s.jsxs(us,{className:"bg-gray-25",children:[s.jsx(Ot,{className:"text-center min-w-[120px]",children:"  "}),s.jsx(Ot,{className:"text-center min-w-[150px]",children:" "}),s.jsx(Ot,{className:"text-center min-w-[120px]",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:" "}),s.jsx(Ot,{className:"text-center",children:""}),s.jsx(Ot,{className:"text-center",children:""})]})}),s.jsx(uu,{children:ve.productionOrders.map(ht=>{const qe=_e.find(Wt=>Wt.id===ht.customer_product_id),We=Wt=>{if(!Wt)return s.jsx("span",{className:"text-xs",children:" "});const sr=lG.find(qo=>qo.id===Wt),Dr=(sr==null?void 0:sr.color)||"#808080",oc=Dr==="#FFFFFF"?"#CCCCCC":Dr,zo=(sr==null?void 0:sr.name_ar)||Wt;return s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{backgroundColor:Dr,borderColor:oc},title:zo}),s.jsx("span",{className:"text-xs",children:zo})]})};return s.jsxs(us,{className:"hover:bg-gray-50",children:[s.jsx(St,{className:"font-medium text-center",children:s.jsx("div",{className:"text-sm font-mono",children:ht.production_order_number||" "})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"font-medium text-sm",children:(()=>{if(!qe)return" ";const Wt=Y.find(sr=>sr.id===qe.item_id);return(Wt==null?void 0:Wt.name_ar)||(Wt==null?void 0:Wt.name)||(qe==null?void 0:qe.size_caption)||" "})()})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm font-mono",children:(()=>{if(!qe)return" ";const Wt=[];qe.width&&Wt.push(Math.round(parseFloat(qe.width))),qe.left_facing&&Wt.push(Math.round(parseFloat(qe.left_facing))),qe.right_facing&&Wt.push(Math.round(parseFloat(qe.right_facing)));const sr=Wt.length>0?Wt.join("+"):"",Dr=qe.cutting_length_cm||"51";return sr?`${sr}X${Dr}`:`X${Dr}`})()})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm font-medium",children:qe!=null&&qe.printing_cylinder?`${qe.printing_cylinder}`:" "})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm font-medium",children:(qe==null?void 0:qe.raw_material)||" "})}),s.jsx(St,{className:"text-center",children:We(qe==null?void 0:qe.master_batch_id)}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm",children:(qe==null?void 0:qe.punching)||" "})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm font-medium",children:(qe==null?void 0:qe.cutting_unit)||""})}),s.jsx(St,{className:"text-center",children:s.jsx("div",{className:"text-sm font-medium",children:qe!=null&&qe.package_weight_kg?`${qe.package_weight_kg} `:" "})}),s.jsx(St,{className:"text-center",children:s.jsxs("div",{className:"text-sm font-bold text-blue-600",children:[ht.quantity_kg," "]})}),s.jsx(St,{className:"text-center",children:s.jsxs("div",{className:"flex justify-center space-x-1 space-x-reverse",children:[s.jsx(W,{variant:"outline",size:"sm",onClick:()=>z(ht),className:"h-8 w-8 p-0",children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx(W,{variant:"outline",size:"sm",onClick:()=>{ft&&at(ft)},className:"h-8 w-8 p-0",children:s.jsx(Wd,{className:"h-4 w-4"})})]})})]},ht.id)})})]})})]},be)})})})()})]})})]})]})]}),s.jsx(ln,{open:c,onOpenChange:u,children:s.jsxs(rn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(sn,{children:[s.jsxs(an,{children:["  ",g==null?void 0:g.order_number]}),s.jsx(jn,{children:"       "})]}),g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-lg",children:" "})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("span",{className:"text-blue-600 font-bold",children:g.order_number})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("span",{children:nn(new Date(g.created_at),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsxs("span",{children:[g.delivery_days," "]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:":"}),s.jsx("span",{children:Gi(g.status)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:":"}),s.jsx("span",{children:g.notes||"  "})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-lg",children:" "})}),s.jsx(G,{className:"space-y-3",children:(()=>{const te=ce.find(ae=>ae.id===g.customer_id);return te?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("span",{className:"font-semibold",children:te.name_ar||te.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("span",{children:te.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:":"}),s.jsx("span",{children:te.phone||" "})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:":"}),s.jsx("span",{children:te.address||" "})]})]}):s.jsx("div",{className:"text-gray-500",children:"   "})})()})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-lg",children:" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:(()=>{const te=Oe.filter(ae=>ae.order_id===g.id);return te.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"     "}):te.map(ae=>{const be=_e.find(ve=>ve.id===ae.customer_product_id);return s.jsxs(K,{className:"border-l-4 border-l-blue-500",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(oe,{className:"text-base",children:[" : ",ae.production_order_number]}),s.jsx(ge,{children:Gi(ae.status)})]})}),s.jsxs(G,{children:[be?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-900 mb-2 border-b pb-1",children:" "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",be.size_caption||" "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",be.raw_material||" "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",be.width||" "," "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",be.thickness||" "," "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",be.cutting_length_cm||" "," "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"  :"})," ",be.pieces_per_kg||" "]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-900 mb-2 border-b pb-1",children:" "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",be.punching||" "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",pg(be.master_batch_id)]}),be.color&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",be.color]}),be.bag_type&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",be.bag_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",be.print_colors?`${be.print_colors} `:" "]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-900 mb-2 border-b pb-1",children:" "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",s.jsxs("span",{className:"font-bold text-blue-600",children:[ae.quantity_kg," "]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"  :"})," ",be.pieces_per_kg?Math.round(parseFloat(ae.quantity_kg)*parseFloat(be.pieces_per_kg)).toLocaleString():" "," "]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",nn(new Date(ae.created_at),"dd/MM/yyyy")]}),be.production_notes&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",be.production_notes]})]})]})]}):s.jsxs("div",{className:"text-red-500",children:[":     ( : ",ae.customer_product_id,")"]}),(be==null?void 0:be.additional_notes)&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border-l-4 border-l-amber-400",children:[s.jsx("span",{className:"font-medium",children:" :"}),s.jsx("p",{className:"mt-1 text-sm text-gray-700",children:be.additional_notes})]})]})]},ae.id)})})()})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{className:"text-lg",children:" "})}),s.jsx(G,{children:(()=>{const te=H.find(ae=>ae.id===parseInt(g.created_by));return te?s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",te.username]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",te.display_name_ar||te.display_name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"  :"})," ",nn(new Date(g.created_at),"dd/MM/yyyy HH:mm")]})]}):s.jsx("div",{className:"text-gray-500",children:"   "})})()})]})]})]})})]})}function oLe(e){const{user:t,isAuthenticated:n}=ii(),[r,a]=x.useState({isConnected:!1,isConnecting:!1,error:null,lastMessage:null}),i=x.useRef(null),o=x.useRef(null),l=x.useRef(0),c=10,u=1e3,d=3e4,f=x.useCallback(()=>{const y=u*Math.pow(2,l.current);return Math.min(y,d)},[]),h=x.useCallback((y,b=!0)=>{if(b)try{const j=new(window.AudioContext||window.webkitAudioContext),w={low:300,normal:400,high:600,urgent:800},N=w[y]||w.normal,S=j.createOscillator(),_=j.createGain();S.connect(_),_.connect(j.destination),S.frequency.value=N,S.type="sine";const C=y==="urgent"?.3:y==="high"?.2:.1;_.gain.setValueAtTime(C,j.currentTime),_.gain.exponentialRampToValueAtTime(.01,j.currentTime+.5),S.start(j.currentTime),S.stop(j.currentTime+.5),y==="urgent"&&setTimeout(()=>{const E=j.createOscillator(),P=j.createGain();E.connect(P),P.connect(j.destination),E.frequency.value=N,E.type="sine",P.gain.setValueAtTime(.3,j.currentTime),P.gain.exponentialRampToValueAtTime(.01,j.currentTime+.3),E.start(),E.stop(j.currentTime+.3)},600)}catch(j){console.warn("Could not play notification sound:",j)}},[]),m=x.useCallback(()=>{i.current&&(i.current.close(),i.current=null),o.current&&(clearTimeout(o.current),o.current=null),a(y=>({...y,isConnected:!1,isConnecting:!1}))},[]),v=x.useCallback(()=>{if(!n||!t){console.log("[SSE] Not authenticated, skipping connection");return}if(i.current){console.log("[SSE] Connection already exists");return}a(y=>({...y,isConnecting:!0,error:null})),console.log("[SSE] Establishing connection...");try{const y=new EventSource("/api/notifications/stream",{withCredentials:!0});i.current=y,y.onopen=()=>{console.log("[SSE] Connection established successfully"),l.current=0,a(b=>({...b,isConnected:!0,isConnecting:!1,error:null}))},y.onmessage=b=>{try{const j=JSON.parse(b.data);a(w=>({...w,lastMessage:{event:"message",data:j}})),console.log("[SSE] Received message:",j)}catch(j){console.error("[SSE] Error parsing message:",j)}},y.addEventListener("connected",b=>{var j;try{const w=JSON.parse(b.data);console.log("[SSE] Connected event received:",w),(j=e==null?void 0:e.onConnected)==null||j.call(e)}catch(w){console.error("[SSE] Error parsing connected event:",w)}}),y.addEventListener("notification",b=>{var j;try{const w=JSON.parse(b.data);console.log("[SSE] Notification received:",w),a(N=>({...N,lastMessage:{event:"notification",data:w}})),w.sound&&h(w.priority,!0),(j=e==null?void 0:e.onNotification)==null||j.call(e,w)}catch(w){console.error("[SSE] Error parsing notification event:",w)}}),y.addEventListener("recent_notifications",b=>{var j;try{const w=JSON.parse(b.data);console.log("[SSE] Recent notifications received:",w),(j=e==null?void 0:e.onRecentNotifications)==null||j.call(e,w)}catch(w){console.error("[SSE] Error parsing recent notifications:",w)}}),y.addEventListener("heartbeat",b=>{var j;try{const w=JSON.parse(b.data);console.log("[SSE] Heartbeat received:",w.timestamp),(j=e==null?void 0:e.onHeartbeat)==null||j.call(e)}catch(w){console.error("[SSE] Error parsing heartbeat:",w)}}),y.onerror=b=>{var w;console.error("[SSE] Connection error:",b);const j=y.readyState===EventSource.CLOSED?" ":"  ";if(a(N=>({...N,isConnected:!1,isConnecting:!1,error:j})),(w=e==null?void 0:e.onError)==null||w.call(e,b),y.readyState!==EventSource.CLOSED&&l.current<c){const N=f();console.log(`[SSE] Attempting reconnection in ${N}ms (attempt ${l.current+1})`),l.current++,o.current=setTimeout(()=>{m(),v()},N)}else l.current>=c&&(console.error("[SSE] Max reconnection attempts reached"),a(N=>({...N,error:"    -   "})))}}catch(y){console.error("[SSE] Error creating EventSource:",y),a(b=>({...b,isConnecting:!1,error:"   "}))}},[n,t,e,m,f,h]),p=x.useCallback(()=>{console.log("[SSE] Manual reconnection requested"),l.current=0,m(),setTimeout(v,1e3)},[m,v]),g=x.useCallback(()=>{var y;console.log("[SSE] Manual disconnection requested"),m(),(y=e==null?void 0:e.onClose)==null||y.call(e)},[m,e]);return x.useEffect(()=>(n&&t?(console.log("[SSE] User authenticated, establishing connection"),v()):(console.log("[SSE] User not authenticated, cleaning up connection"),m()),m),[n,t,v,m]),x.useEffect(()=>m,[m]),x.useEffect(()=>{const y=()=>{document.visibilityState==="visible"&&n&&t&&!r.isConnected&&!r.isConnecting&&(console.log("[SSE] Page became visible, attempting to reconnect"),p())};return document.addEventListener("visibilitychange",y),()=>document.removeEventListener("visibilitychange",y)},[n,t,r.isConnected,r.isConnecting,p]),{connectionState:r,reconnect:p,disconnect:g}}function lLe(){const{toast:e}=Sn(),[t,n]=x.useState(""),[r,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState("normal"),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,v]=x.useState("system"),[p,g]=x.useState("normal"),[y,b]=x.useState("all"),[j,w]=x.useState(""),[N,S]=x.useState(!1),[_,C]=x.useState([]),[E,P]=x.useState(!1),{data:A,isLoading:O}=$e({queryKey:["/api/notifications"]}),{data:I,isLoading:F,refetch:B}=$e({queryKey:["/api/notifications/user",{unread_only:E}],queryFn:async()=>{const ne=await fetch(`/api/notifications/user?unread_only=${E}&limit=100`,{credentials:"include"});if(!ne.ok)throw new Error("Failed to fetch user notifications");return ne.json()}}),$=x.useCallback(ne=>{C(pe=>[ne,...pe]),e({title:ne.icon+" "+(ne.title_ar||ne.title),description:ne.message_ar||ne.message,duration:ne.priority==="urgent"?1e4:ne.priority==="high"?7e3:5e3}),Ma.invalidateQueries({queryKey:["/api/notifications/user"]})},[e,Ma]),R=x.useCallback(ne=>{C(ne.notifications),console.log(`[NotificationCenter] Received ${ne.count} recent notifications`)},[]),M=x.useCallback(()=>{console.log("[NotificationCenter] SSE connected successfully")},[]),T=x.useCallback(ne=>{console.error("[NotificationCenter] SSE connection error:",ne)},[]),J=x.useMemo(()=>({onNotification:$,onRecentNotifications:R,onConnected:M,onError:T}),[$,R,M,T]),{connectionState:re,reconnect:X}=oLe(J),ye=et({mutationFn:async ne=>await Qt("/api/notifications/system",{method:"POST",body:JSON.stringify(ne)}),onSuccess:()=>{e({title:"   ",description:"    "}),d(""),h(""),w(""),Ma.invalidateQueries({queryKey:["/api/notifications/user"]})},onError:ne=>{e({title:"   ",description:ne.message||"    ",variant:"destructive"})}}),Re=et({mutationFn:async ne=>await Qt(`/api/notifications/mark-read/${ne}`,{method:"PATCH"}),onSuccess:()=>{Ma.invalidateQueries({queryKey:["/api/notifications/user"]}),Ma.invalidateQueries({queryKey:["/api/notifications"]})},onError:ne=>{e({title:" ",description:ne.message||"    ",variant:"destructive"})}}),Je=et({mutationFn:async()=>await Qt("/api/notifications/mark-all-read",{method:"PATCH"}),onSuccess:()=>{Ma.invalidateQueries({queryKey:["/api/notifications/user"]}),C([]),e({title:"  ",description:"    "})},onError:ne=>{e({title:" ",description:ne.message||"    ",variant:"destructive"})}}),lt=et({mutationFn:async ne=>await Qt(`/api/notifications/delete/${ne}`,{method:"DELETE"}),onSuccess:()=>{Ma.invalidateQueries({queryKey:["/api/notifications/user"]}),Ma.invalidateQueries({queryKey:["/api/notifications"]}),e({title:"  ",description:"   "})},onError:ne=>{e({title:"   ",description:ne.message||"   ",variant:"destructive"})}}),je=et({mutationFn:async ne=>await Qt("/api/notifications/whatsapp",{method:"POST",body:JSON.stringify(ne)}),onSuccess:ne=>{Ma.invalidateQueries({queryKey:["/api/notifications"]}),e({title:"   ",description:"     "}),a(""),o(""),n("")},onError:ne=>{e({title:"   ",description:ne.message||"     ",variant:"destructive"})}}),Oe=et({mutationFn:async ne=>await Qt("/api/notifications/test",{method:"POST",body:JSON.stringify({phone_number:ne})}),onSuccess:()=>{Ma.invalidateQueries({queryKey:["/api/notifications"]}),e({title:"  ",description:"    "})},onError:ne=>{e({title:"   ",description:ne.message||"    ",variant:"destructive"})}}),ce=()=>{if(!t||!r){e({title:"  ",description:"    ",variant:"destructive"});return}je.mutate({phone_number:t,message:r,title:i,priority:l})},_e=()=>{if(!u||!f){e({title:"  ",description:"   ",variant:"destructive"});return}if(y!=="all"&&!j){e({title:"   ",description:"     ",variant:"destructive"});return}ye.mutate({title:u,message:f,type:m,priority:p,recipient_type:y,recipient_id:y==="all"?void 0:j,sound:N})},H=ne=>{Re.mutate(ne)},Y=ne=>{lt.mutate(ne)},L=()=>{Je.mutate()},Z=()=>{X()};x.useEffect(()=>{B()},[E,B]);const Be=()=>{if(!t){e({title:"   ",description:"      ",variant:"destructive"});return}Oe.mutate(t)},Ke=ne=>{switch(ne){case"sent":return s.jsx(Ci,{className:"h-4 w-4 text-blue-500"});case"delivered":return s.jsx(It,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Zr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(cr,{className:"h-4 w-4 text-yellow-500"})}},st=ne=>{switch(ne){case"sent":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}},$t=ne=>{switch(ne){case"urgent":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"high":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case"normal":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(fo,{className:"h-6 w-6 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" "})]}),s.jsx(K,{className:"mb-6",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[re.isConnected?s.jsx(gJ,{className:"h-5 w-5 text-green-500"}):re.isConnecting?s.jsx(ho,{className:"h-5 w-5 text-yellow-500 animate-spin"}):s.jsx(xJ,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm font-medium",children:re.isConnected?" -   ":re.isConnecting?" ...":"  -   "})]}),re.error&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-red-600",children:re.error}),s.jsx(W,{size:"sm",variant:"outline",onClick:Z,children:" "})]})]})})}),s.jsxs(Is,{defaultValue:"realtime",className:"space-y-6",children:[s.jsxs(vs,{className:"grid w-full grid-cols-4",children:[s.jsxs(mt,{value:"realtime",className:"flex items-center gap-2","data-testid":"tab-realtime",children:[s.jsx(fo,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"send",className:"flex items-center gap-2","data-testid":"tab-send",children:[s.jsx(zc,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"system",className:"flex items-center gap-2","data-testid":"tab-system",children:[s.jsx(wn,{className:"h-4 w-4"})," "]}),s.jsxs(mt,{value:"history",className:"flex items-center gap-2","data-testid":"tab-history",children:[s.jsx(cr,{className:"h-4 w-4"})," "]})]}),s.jsx(ct,{value:"realtime",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(yu,{className:"h-5 w-5 text-blue-600"})," ",(I==null?void 0:I.unread_count)&&I.unread_count>0&&s.jsx(ge,{variant:"destructive",className:"ml-2",children:I.unread_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zs,{checked:E,onCheckedChange:P,"data-testid":"switch-unread-only"}),s.jsx("span",{className:"text-sm text-gray-600",children:"  "})]}),((I==null?void 0:I.unread_count)||0)>0&&s.jsxs(W,{size:"sm",variant:"outline",onClick:L,disabled:Je.isPending,"data-testid":"button-mark-all-read",children:[Je.isPending&&s.jsx(ho,{className:"h-4 w-4 animate-spin ml-1"}),"  "]})]})]})}),s.jsx(G,{children:F?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ho,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2",children:"  ..."})]}):s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:I!=null&&I.notifications&&I.notifications.length>0?I.notifications.map(ne=>s.jsx("div",{className:`p-4 border rounded-lg transition-all ${ne.read_at?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"}`,"data-testid":`notification-${ne.id}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ne.title_ar||ne.title}),s.jsx(ge,{className:$t(ne.priority),children:ne.priority}),s.jsxs(ge,{className:st(ne.status),children:[Ke(ne.status),ne.status]}),!ne.read_at&&s.jsx(ge,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:""})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:ne.message_ar||ne.message}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:[": ",ne.type]}),s.jsxs("span",{children:[": ",new Date(ne.created_at).toLocaleString("ar")]}),ne.context_type&&s.jsxs("span",{children:[": ",ne.context_type]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!ne.read_at&&s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>H(ne.id),disabled:Re.isPending,"data-testid":`button-mark-read-${ne.id}`,children:s.jsx(Wd,{className:"h-4 w-4"})}),s.jsx(W,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>Y(ne.id),disabled:lt.isPending,"data-testid":`button-delete-${ne.id}`,children:s.jsx(ya,{className:"h-4 w-4"})})]})]})},ne.id)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(fo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"   "})]})})})]})}),s.jsx(ct,{value:"system",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5 text-purple-600"}),"  "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"  *"}),s.jsx(fe,{placeholder:" ",value:u,onChange:ne=>d(ne.target.value),"data-testid":"input-system-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" "}),s.jsxs(Xe,{value:m??"",onValueChange:ne=>v(ne),children:[s.jsx(Ge,{"data-testid":"select-system-type",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"system",children:""}),s.jsx(q,{value:"order",children:""}),s.jsx(q,{value:"production",children:""}),s.jsx(q,{value:"maintenance",children:""}),s.jsx(q,{value:"quality",children:""}),s.jsx(q,{value:"hr",children:" "})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"  *"}),s.jsx(rr,{placeholder:"   ...",value:f,onChange:ne=>h(ne.target.value),rows:3,"data-testid":"textarea-system-message"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsxs(Xe,{value:p??"",onValueChange:ne=>g(ne),children:[s.jsx(Ge,{"data-testid":"select-system-priority",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"low",children:""}),s.jsx(q,{value:"normal",children:""}),s.jsx(q,{value:"high",children:""}),s.jsx(q,{value:"urgent",children:""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsxs(Xe,{value:y??"",onValueChange:ne=>b(ne),children:[s.jsx(Ge,{"data-testid":"select-recipient-type",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"user",children:" "}),s.jsx(q,{value:"role",children:" "})]})]})]}),y!=="all"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" "}),s.jsx(fe,{placeholder:y==="user"?" ":" ",value:j,onChange:ne=>w(ne.target.value),type:"number","data-testid":"input-recipient-id"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zs,{checked:N,onCheckedChange:S,"data-testid":"switch-notification-sound"}),s.jsx("label",{className:"text-sm",children:"  "})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(W,{onClick:_e,disabled:ye.isPending,className:"flex-1","data-testid":"button-send-system-notification",children:[ye.isPending&&s.jsx(ho,{className:"h-4 w-4 animate-spin ml-1"}),s.jsx(Ci,{className:"h-4 w-4 ml-1"})," "]})})]})]})}),s.jsx(ct,{value:"send",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5 text-green-600"}),"   "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"  *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{placeholder:"+966501234567",value:t,onChange:ne=>n(ne.target.value),className:"flex-1",dir:"ltr"}),s.jsx(W,{variant:"outline",size:"sm",onClick:Be,disabled:Oe.isPending,children:s.jsx(Pk,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:": +966501234567 (    )"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" "}),s.jsx(fe,{placeholder:" ",value:i,onChange:ne=>o(ne.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"  *"}),s.jsx(rr,{placeholder:"   ...",value:r,onChange:ne=>a(ne.target.value),rows:4,className:"resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsxs("select",{value:l,onChange:ne=>c(ne.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:border-gray-600 dark:bg-gray-800",children:[s.jsx("option",{value:"low",children:""}),s.jsx("option",{value:"normal",children:""}),s.jsx("option",{value:"high",children:""}),s.jsx("option",{value:"urgent",children:""})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{onClick:ce,disabled:je.isPending,className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-4 w-4"}),je.isPending?" ...":" "]}),s.jsxs(W,{variant:"outline",onClick:Be,disabled:Oe.isPending||!t,className:"flex items-center gap-2",children:[s.jsx(Pk,{className:"h-4 w-4"})," "]})]})]})]})}),s.jsx(ct,{value:"history",className:"space-y-6",children:s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"  ..."})]}):A&&A.length>0?s.jsx("div",{className:"space-y-3",children:A.map(ne=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 space-y-3",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Ke(ne.status),s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:ne.title_ar||ne.title}),s.jsx(ge,{className:st(ne.status),children:ne.status==="sent"?"":ne.status==="delivered"?"":ne.status==="failed"?"":""}),s.jsx(ge,{className:$t(ne.priority),children:ne.priority==="urgent"?"":ne.priority==="high"?"":ne.priority==="low"?"":""})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:ne.message_ar||ne.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[ne.phone_number&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(P6,{className:"h-3 w-3"}),ne.phone_number]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),new Date(ne.created_at).toLocaleString("ar")]})]})]})}),ne.error_message&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-2",children:s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm",children:[": ",ne.error_message]})})]},ne.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]})})]})})]})]})}function cLe(){return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsx(oi,{}),s.jsx("main",{className:"flex-1 lg:mr-64 p-4 pb-20 lg:pb-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(lLe,{})})})]})]})}function uLe(){const{toast:e}=Sn(),[t,n]=x.useState("CmEKHQiXiLXLyZi7AhIGZW50OndhIgRNUEJGUPrb48QGGkCr8LSQ5wTCvUiJ5/EVMWcWnrs6hjWAcMwfaGfagJvEow6UVO4Wqzmpaq5kSaDjZXbrjqPgUwYfVtyXGt7pnK8CEi5tbgik9NfihfNatbOdqWgunFvl4F/C2OedL0VOrTxez1dCeu7pPITYOVBNqw5j"),[r,a]=x.useState("MPBF"),[i,o]=x.useState(""),[l,c]=x.useState({accountSid:"",authToken:"",phoneNumber:""}),u=f=>{navigator.clipboard.writeText(f),e({title:" ",description:"    "})},d=async()=>{try{e({title:" ",description:"   Twilio "})}catch{e({title:"",description:"   ",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx($s,{}),s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{}),s.jsxs("main",{className:"flex-1 lg:mr-64 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" WhatsApp Business API"}),s.jsx("p",{className:"text-gray-600",children:"       Meta Business"})]}),s.jsxs(Is,{defaultValue:"meta",className:"space-y-6",children:[s.jsxs(vs,{className:"grid w-full grid-cols-3",children:[s.jsx(mt,{value:"meta",children:" Meta"}),s.jsx(mt,{value:"twilio",children:" Twilio"}),s.jsx(mt,{value:"test",children:" "})]}),s.jsx(ct,{value:"meta",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-5 w-5 text-green-600"}),"   Meta"]}),s.jsx(Nn,{children:"        Meta Business"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"displayName",children:"  "}),s.jsx(fe,{id:"displayName",value:r,onChange:f=>a(f.target.value),className:"mt-1",readOnly:!0}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"   Meta"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"certificate",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{id:"certificate",value:t,onChange:f=>n(f.target.value),className:"mt-1 min-h-[120px] font-mono text-sm",dir:"ltr"}),s.jsx(W,{size:"sm",variant:"outline",className:"absolute top-2 left-2",onClick:()=>u(t),children:s.jsx(dd,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"       WhatsApp Business API"})]}),s.jsxs($i,{children:[s.jsx(Ga,{className:"h-4 w-4"}),s.jsxs(Di,{children:[s.jsx("strong",{children:" :"}),s.jsx("br",{}),"1.      ",s.jsx("br",{}),"2.        Twilio",s.jsx("br",{}),"3.         "]})]})]})]})}),s.jsxs(ct,{value:"twilio",className:"space-y-4",children:[s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5 text-blue-600"})," Twilio WhatsApp"]}),s.jsx(Nn,{children:"   Twilio   WhatsApp"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"accountSid",children:"Account SID"}),s.jsx(fe,{id:"accountSid",value:l.accountSid,onChange:f=>c(h=>({...h,accountSid:f.target.value})),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"mt-1",dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"authToken",children:"Auth Token"}),s.jsx(fe,{id:"authToken",type:"password",value:l.authToken,onChange:f=>c(h=>({...h,authToken:f.target.value})),placeholder:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"mt-1",dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"twilioPhone",children:" WhatsApp  Twilio"}),s.jsx(fe,{id:"twilioPhone",value:l.phoneNumber,onChange:f=>c(h=>({...h,phoneNumber:f.target.value})),placeholder:"whatsapp:+1234567890",className:"mt-1",dir:"ltr"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'    "whatsapp:"   '})]}),s.jsx(W,{onClick:d,className:"w-full",children:"  Twilio"})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{children:" Twilio "})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{children:" Meta "})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ga,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:"    Twilio Console"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ga,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{children:" WhatsApp Business API"})]})]})})]})]}),s.jsx(ct,{value:"test",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"       WhatsApp "})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"testPhone",children:"  "}),s.jsx(fe,{id:"testPhone",value:i,onChange:f=>o(f.target.value),placeholder:"+966501234567",className:"mt-1",dir:"ltr"})]}),s.jsx(W,{className:"w-full",onClick:()=>{e({title:" ...",description:"   "})},children:"  "}),s.jsx($i,{children:s.jsx(Di,{children:"       .       WhatsApp."})})]})]})})]})]})]}),s.jsx(oi,{})]})}function dLe(){const[e,t]=x.useState(""),[n,r]=x.useState("all"),[a,i]=x.useState("all"),[o,l]=x.useState("active"),{toast:c}=Sn(),u=qn(),{data:d=[],isLoading:f}=$e({queryKey:["/api/alerts",{status:o,type:n==="all"?void 0:n,severity:a==="all"?void 0:a}],refetchInterval:3e4}),{data:h}=$e({queryKey:["/api/alerts/stats"],refetchInterval:6e4}),{data:m}=$e({queryKey:["/api/system/health"],refetchInterval:3e4}),v=et({mutationFn:async({alertId:w,notes:N})=>Qt(`/api/alerts/${w}/resolve`,{method:"POST",body:JSON.stringify({notes:N})}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/alerts"]}),u.invalidateQueries({queryKey:["/api/alerts/stats"]}),c({title:"   ",description:"   "})},onError:w=>{c({title:"   ",description:w.message,variant:"destructive"})}}),p=et({mutationFn:async w=>Qt(`/api/alerts/${w}/dismiss`,{method:"POST"}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/alerts"]}),u.invalidateQueries({queryKey:["/api/alerts/stats"]}),c({title:"  ",description:"   "})},onError:w=>{c({title:"   ",description:w.message,variant:"destructive"})}}),g=d.filter(w=>e===""||w.title_ar.toLowerCase().includes(e.toLowerCase())||w.message_ar.toLowerCase().includes(e.toLowerCase())),y=w=>({system:Ol,production:Cm,inventory:Qn,quality:cs,maintenance:wn,security:Ya,performance:ga})[w]||cn,b=w=>{switch(w){case"critical":return"destructive";case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"secondary"}},j=w=>{switch(w){case"active":return cn;case"resolved":return cs;case"dismissed":return Zr;default:return cr}};return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"     "})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ge,{variant:"outline",className:"text-sm",children:[s.jsx(ga,{className:"w-4 h-4 ml-1"})," "]})})]}),m&&s.jsxs(K,{className:"border-2",children:[s.jsx(le,{className:"pb-3",children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"  "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${m.overall_status==="healthy"?"text-green-600":m.overall_status==="warning"?"text-yellow-600":"text-red-600"}`,children:m.overall_status==="healthy"?"":m.overall_status==="warning"?"":""}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.healthy_checks}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:m.warning_checks}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:""})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.critical_checks}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]})]})})]}),h&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:" "}),s.jsx("p",{className:"text-2xl font-bold",children:h.total_alerts})]}),s.jsx(fo,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:h.active_alerts})]}),s.jsx(cn,{className:"w-8 h-8 text-orange-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.critical_alerts})]}),s.jsx(Ga,{className:"w-8 h-8 text-red-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"  "}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.resolved_today})]}),s.jsx(cs,{className:"w-8 h-8 text-green-600"})]})})})]}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(fe,{placeholder:"  ...",value:e,onChange:w=>t(w.target.value),className:"pr-10","data-testid":"input-search-alerts"})]})}),s.jsxs(Xe,{value:o,onValueChange:l,children:[s.jsx(Ge,{className:"w-40","data-testid":"select-filter-status",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"active",children:""}),s.jsx(q,{value:"resolved",children:""}),s.jsx(q,{value:"dismissed",children:""})]})]}),s.jsxs(Xe,{value:n,onValueChange:r,children:[s.jsx(Ge,{className:"w-40","data-testid":"select-filter-type",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"system",children:""}),s.jsx(q,{value:"production",children:""}),s.jsx(q,{value:"inventory",children:""}),s.jsx(q,{value:"quality",children:""}),s.jsx(q,{value:"maintenance",children:""}),s.jsx(q,{value:"security",children:""})]})]}),s.jsxs(Xe,{value:a,onValueChange:i,children:[s.jsx(Ge,{className:"w-40","data-testid":"select-filter-severity",children:s.jsx(Ze,{})}),s.jsxs(Ye,{children:[s.jsx(q,{value:"all",children:" "}),s.jsx(q,{value:"critical",children:""}),s.jsx(q,{value:"high",children:""}),s.jsx(q,{value:"medium",children:""}),s.jsx(q,{value:"low",children:""})]})]})]})})}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-5 h-5"})," (",g.length,")"]})}),s.jsx(G,{children:s.jsx(Hp,{className:"h-[600px]",children:f?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"  ..."})]})}):g.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(cs,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"!      "})]}):s.jsx("div",{className:"space-y-4",children:g.map(w=>{const N=y(w.type),S=j(w.status);return s.jsx(K,{className:`border-r-4 ${w.severity==="critical"?"border-r-red-500":w.severity==="high"?"border-r-orange-500":w.severity==="medium"?"border-r-yellow-500":"border-r-blue-500"}`,children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:s.jsx(N,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:w.title_ar}),s.jsx(ge,{variant:b(w.severity),children:w.severity==="critical"?"":w.severity==="high"?"":w.severity==="medium"?"":""}),s.jsx(ge,{variant:"outline",children:w.type==="system"?"":w.type==="production"?"":w.type==="inventory"?"":w.type==="quality"?"":w.type==="maintenance"?"":w.type==="security"?"":w.type})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:w.message_ar}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(S,{className:"w-4 h-4"}),w.status==="active"?"":w.status==="resolved"?"":w.status==="dismissed"?"":w.status]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"w-4 h-4"}),BDe(new Date(w.created_at),{addSuffix:!0,locale:eK})]}),w.occurrences>1&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Po,{className:"w-4 h-4"}),w.occurrences," "]})]}),w.suggested_actions&&w.suggested_actions.length>0&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:" :"}),s.jsx("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:w.suggested_actions.map((_,C)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"w-3 h-3"}),_.description||_.action]},C))})]})]})]}),w.status==="active"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(W,{size:"sm",onClick:()=>v.mutate({alertId:w.id}),disabled:v.isPending,"data-testid":`button-resolve-${w.id}`,children:[s.jsx(cs,{className:"w-4 h-4 ml-1"}),""]}),s.jsxs(W,{size:"sm",variant:"outline",onClick:()=>p.mutate(w.id),disabled:p.isPending,"data-testid":`button-dismiss-${w.id}`,children:[s.jsx(Zr,{className:"w-4 h-4 ml-1"}),""]})]})]})})},w.id)})})})})]})]})}function fLe(){var u,d;const[e,t]=x.useState("24h"),{data:n}=$e({queryKey:["/api/system/health/overview"],refetchInterval:12e4,staleTime:9e4}),{data:r=[]}=$e({queryKey:["/api/system/health/checks"],refetchInterval:12e4,staleTime:9e4}),{data:a=[]}=$e({queryKey:["/api/system/performance",{timeRange:e}],refetchInterval:12e4,staleTime:9e4}),i=f=>{switch(f){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}},o=f=>({database:Ol,api:lJ,service:uJ,memory:Nk,cpu:ZZ,disk:H_,system:f2})[f]||ga,l=a.filter(f=>f.metric_name==="memory_usage_percent").slice(-24).map(f=>({time:new Date(f.timestamp).toLocaleTimeString("ar"),memory:parseFloat(f.value.toString()),timestamp:f.timestamp})),c=[{name:"",value:(n==null?void 0:n.healthy_checks)||0,color:"#10B981"},{name:"",value:(n==null?void 0:n.warning_checks)||0,color:"#F59E0B"},{name:"",value:(n==null?void 0:n.critical_checks)||0,color:"#EF4444"}];return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"       "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ge,{variant:"outline",className:"text-sm",children:[s.jsx(ga,{className:"w-4 h-4 ml-1"})," "]}),n&&s.jsxs(ge,{variant:n.overall_status==="healthy"?"default":n.overall_status==="warning"?"secondary":"destructive",children:[s.jsx(Ya,{className:"w-4 h-4 ml-1"}),n.overall_status==="healthy"?" ":n.overall_status==="warning"?"":""]})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:" "}),s.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:n.healthy_checks})]}),s.jsx(cs,{className:"w-10 h-10 text-green-600"})]})})}),s.jsx(K,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950 dark:to-yellow-900",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:""}),s.jsx("p",{className:"text-3xl font-bold text-yellow-900 dark:text-yellow-100",children:n.warning_checks})]}),s.jsx(cn,{className:"w-10 h-10 text-yellow-600"})]})})}),s.jsx(K,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:" "}),s.jsx("p",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:n.critical_checks})]}),s.jsx(cn,{className:"w-10 h-10 text-red-600"})]})})}),s.jsx(K,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:" "}),s.jsxs("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:[(u=n.uptime_percent)==null?void 0:u.toFixed(1),"%"]})]}),s.jsx(yu,{className:"w-10 h-10 text-blue-600"})]})})})]}),s.jsxs(Is,{defaultValue:"checks",className:"w-full",children:[s.jsxs(vs,{className:"grid w-full grid-cols-3",children:[s.jsx(mt,{value:"checks","data-testid":"tab-health-checks",children:" "}),s.jsx(mt,{value:"performance","data-testid":"tab-performance",children:" "}),s.jsx(mt,{value:"overview","data-testid":"tab-overview",children:" "})]}),s.jsx(ct,{value:"checks",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"w-5 h-5"}),"  (",r.length,")"]}),s.jsx(Nn,{children:"     "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:r.map(f=>{var m;const h=o(f.check_type);return s.jsxs(K,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:s.jsx(h,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:f.check_name_ar}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:f.check_type==="database"?" ":f.check_type==="api"?" ":f.check_type==="memory"?"":f.check_type==="cpu"?"":f.check_type==="disk"?" ":""})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`font-semibold ${i(f.status)}`,children:f.status==="healthy"?"":f.status==="warning"?"":f.status==="critical"?"":" "}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[f.check_duration_ms,"ms"]})]}),s.jsxs("div",{className:"w-20",children:[s.jsx(va,{value:f.success_rate_24h,className:"h-2"}),s.jsxs("div",{className:"text-xs text-center mt-1 text-gray-600 dark:text-gray-300",children:[(m=f.success_rate_24h)==null?void 0:m.toFixed(1),"%"]})]}),f.is_critical&&s.jsx(ge,{variant:"destructive",className:"text-xs",children:""})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" : "}),s.jsxs("span",{className:"font-medium",children:[f.average_response_time,"ms"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" 24: "}),s.jsx("span",{className:"font-medium",children:f.error_count_24h})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" : "}),s.jsx("span",{className:"font-medium",children:new Date(f.last_check_time).toLocaleTimeString("ar")})]})]})]},f.id)})})})]})}),s.jsxs(ct,{value:"performance",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Nk,{className:"w-5 h-5"})," "]})}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:300,children:s.jsxs(NU,{data:l,children:[s.jsx(Su,{strokeDasharray:"3 3"}),s.jsx(Aa,{dataKey:"time"}),s.jsx(ta,{}),s.jsx(Ar,{labelFormatter:f=>`: ${f}`,formatter:f=>[`${f}%`," "]}),s.jsx(ac,{type:"monotone",dataKey:"memory",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(ga,{className:"w-5 h-5"}),"  "]})}),s.jsx(G,{children:s.jsx(Oo,{width:"100%",height:300,children:s.jsxs(rP,{children:[s.jsx(ui,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,value:h})=>`${f}: ${h}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((f,h)=>s.jsx(ju,{fill:f.color},`cell-${h}`))}),s.jsx(Ar,{})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"  "}),s.jsxs("p",{className:"text-2xl font-bold",children:[r.reduce((f,h)=>f+h.average_response_time,0)/(r.length||1),"ms"]})]}),s.jsx(cr,{className:"w-8 h-8 text-blue-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(r.reduce((f,h)=>f+h.success_rate_24h,0)/(r.length||1)).toFixed(1),"%"]})]}),s.jsx(Po,{className:"w-8 h-8 text-green-600"})]})})}),s.jsx(K,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.reduce((f,h)=>f+h.error_count_24h,0)})]}),s.jsx(y0,{className:"w-8 h-8 text-red-600"})]})})})]})]}),s.jsx(ct,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),s.jsx(ge,{variant:(n==null?void 0:n.overall_status)==="healthy"?"default":"destructive",children:(n==null?void 0:n.overall_status)==="healthy"?"":" "})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),s.jsx("span",{className:"font-medium",children:n==null?void 0:n.total_checks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),s.jsxs("span",{className:"font-medium",children:[(d=n==null?void 0:n.uptime_percent)==null?void 0:d.toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" :"}),s.jsx("span",{className:"font-medium",children:n!=null&&n.last_check?new Date(n.last_check).toLocaleString("ar"):" "})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:""})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[(n==null?void 0:n.critical_checks)&&n.critical_checks>0&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-950/20 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:["  ",n.critical_checks,"       "]})}),(n==null?void 0:n.warning_checks)&&n.warning_checks>0&&s.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100",children:["  ",n.warning_checks,"   "]})}),(n==null?void 0:n.uptime_percent)&&n.uptime_percent<99&&s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:s.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"     -   "})}),!(n!=null&&n.critical_checks)&&!(n!=null&&n.warning_checks)&&s.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:s.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"     "})})]})})]})]})})]})]})}function hLe(){const{toast:e}=Sn(),t=qn(),[n,r]=x.useState("+966"),[a,i]=x.useState("!      MPBF."),[o,l]=x.useState([]),{data:c,refetch:u}=$e({queryKey:["/api/notifications"],refetchInterval:!1,staleTime:2*60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1});x.useEffect(()=>()=>{t.cancelQueries({queryKey:["/api/notifications"]})},[t]);const d=Array.isArray(c)?c:[],f=et({mutationFn:async p=>await Qt("/api/notifications/whatsapp",{method:"POST",body:JSON.stringify({phoneNumber:p.phone,message:p.message,title:" "})}),onSuccess:p=>{e({title:"   ",description:`     ${n}`}),l(g=>[{timestamp:new Date,phone:n,message:a,status:"sent",messageId:(p==null?void 0:p.messageId)||"unknown",success:!0},...g]),u()},onError:p=>{e({title:"   ",description:p.message||"    ",variant:"destructive"}),l(g=>[{timestamp:new Date,phone:n,message:a,status:"failed",error:p.message,success:!1},...g])}}),h=()=>{if(!n||!a){e({title:"  ",description:"    ",variant:"destructive"});return}if(!n.startsWith("+")){e({title:"    ",description:"      +",variant:"destructive"});return}f.mutate({phone:n,message:a})},m=p=>{switch(p){case"sent":return s.jsx(It,{className:"h-4 w-4 text-green-600"});case"delivered":return s.jsx(It,{className:"h-4 w-4 text-blue-600"});case"failed":return s.jsx(Zr,{className:"h-4 w-4 text-red-600"});default:return s.jsx(cr,{className:"h-4 w-4 text-yellow-600"})}},v=p=>{switch(p){case"sent":return"bg-green-100 text-green-800";case"delivered":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   WhatsApp"}),s.jsx("p",{className:"text-gray-600",children:"    WhatsApp  Twilio"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5"}),"  "]}),s.jsx(Nn,{children:"  WhatsApp  "})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",children:" "}),s.jsx(fe,{id:"phone",value:n,onChange:p=>r(p.target.value),placeholder:"+966501234567",dir:"ltr","data-testid":"input-phone"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"    +  "})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"message",children:""}),s.jsx(rr,{id:"message",value:a,onChange:p=>i(p.target.value),placeholder:"  ...",rows:4,"data-testid":"textarea-message"})]}),s.jsx(W,{onClick:h,disabled:f.isPending,className:"w-full","data-testid":"button-send-test",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sk,{className:"mr-2 h-4 w-4"}),"  "]})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(P6,{className:"h-5 w-5"})," "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" WhatsApp:"}),s.jsx(ge,{variant:"outline","data-testid":"badge-whatsapp-number",children:"+15557911537"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" :"}),s.jsx(ge,{variant:"outline","data-testid":"badge-business-name",children:"MPBF"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" :"}),s.jsx(ge,{className:"bg-green-100 text-green-800","data-testid":"badge-service-status",children:" "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Webhook URL:"}),s.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded","data-testid":"text-webhook-url",children:"/api/notifications/webhook/twilio"})]})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:" :"}),"    Webhook URL  Twilio Console   ."]})})]})]})]}),o.length>0&&s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"   "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:o.map((p,g)=>s.jsxs("div",{className:"border rounded-lg p-3 bg-white","data-testid":`test-result-${g}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[m(p.status),s.jsx("span",{className:"font-medium",children:p.phone}),s.jsx(ge,{className:v(p.status),children:p.status})]}),s.jsx("span",{className:"text-sm text-gray-500",children:p.timestamp.toLocaleTimeString("ar")})]}),s.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:['"',p.message,'"']}),p.messageId&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Message ID: ",p.messageId]}),p.error&&s.jsxs("p",{className:"text-xs text-red-600",children:[": ",p.error]})]},g))})})]}),d&&d.length>0&&s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"   "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(p=>s.jsxs("div",{className:"border rounded-lg p-3 bg-white","data-testid":`notification-${p.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sk,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:p.title}),s.jsx(ge,{className:v(p.status),children:p.status})]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.created_at).toLocaleString("ar")})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-1",children:p.message}),p.phone_number&&s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",p.phone_number]})]},p.id))})})]})]})})}function mLe(){qn();const[e,t]=x.useState([]),{data:n}=$e({queryKey:["/api/notifications"],refetchInterval:3e4}),a=(Array.isArray(n)?n:[]).filter(u=>u.status==="failed"||u.external_status==="undelivered"),i=[{id:"check-twilio-console",title:"  Twilio Console",description:"   WhatsApp Business  Twilio Console",status:"pending",actions:["  Twilio Console  Messaging  WhatsApp senders","   +15557911537   ","   WhatsApp Business Account"]},{id:"verify-recipient",title:"   ",description:"       WhatsApp",status:"pending",actions:["     WhatsApp","       ","     "]},{id:"check-template-approval",title:"   ",description:"       Meta Business Manager",status:"pending",actions:["  Meta Business Manager  WhatsApp  Message Templates","      ",'   "Hello World"    ']},{id:"sandbox-mode",title:" Sandbox",description:"    ",status:"pending",actions:[" WhatsApp Sandbox     ",'  "join"   Sandbox  ',"      Sandbox"]},{id:"webhook-setup",title:" Webhook",description:"   Webhook  Twilio",status:"pending",actions:["  Twilio Console  Messaging  WhatsApp senders  Configure","   Webhook URL  ",`: ${window.location.origin}/api/notifications/webhook/twilio`]}],o=u=>{t(d=>d.includes(u)?d.filter(f=>f!==u):[...d,u])},c={code:"63016",description:"WhatsApp Business Account        ",solutions:["   WhatsApp Business Account  Meta Business Manager","     Twilio  ","      WhatsApp   ","  Sandbox     "]};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   WhatsApp"}),s.jsx("p",{className:"text-gray-600",children:"       WhatsApp"})]}),s.jsxs(K,{className:"border-red-200 bg-red-50",children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2 text-red-700",children:[s.jsx(Zr,{className:"h-5 w-5"})," Twilio: ",c.code]}),s.jsx(Nn,{className:"text-red-600",children:c.description})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-red-700",children:" :"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:c.solutions.map((u,d)=>s.jsx("li",{children:u},d))})]})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5"}),"  "]})}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" WhatsApp:"}),s.jsx(ge,{variant:"outline",children:"+15557911537"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Business Account ID:"}),s.jsx(ge,{variant:"outline",className:"text-xs",children:"795259496521200"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Twilio Account:"}),s.jsx(ge,{variant:"outline",className:"text-xs",children:"ACe4ba2fd2e98be5b019c354539404cc29"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" :"}),s.jsx(ge,{className:"bg-red-100 text-red-800",children:"undelivered"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" :"}),s.jsx(ge,{className:"bg-red-100 text-red-800",children:"63016"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" :"}),s.jsx(ge,{className:"bg-red-100 text-red-800",children:a.length})]})]})]})})]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"     "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:i.map(u=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:()=>o(u.id),className:`mt-1 h-5 w-5 rounded-full border-2 flex items-center justify-center ${e.includes(u.id)?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-gray-400"}`,children:e.includes(u.id)&&s.jsx(It,{className:"h-3 w-3"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),s.jsx("div",{className:"space-y-1",children:u.actions.map((d,f)=>s.jsxs("div",{className:"text-sm text-gray-700 flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:""}),s.jsx("span",{children:d})]},f))})]})]})},u.id))})})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(g0,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://console.twilio.com/us1/develop/sms/senders/whatsapp",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Twilio WhatsApp Console"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  WhatsApp"})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://business.facebook.com/wa/manage",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Meta Business Manager"}),s.jsx("div",{className:"text-sm text-gray-500",children:" WhatsApp Business"})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://www.twilio.com/docs/whatsapp/sandbox",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"WhatsApp Sandbox"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://www.twilio.com/docs/errors/63016",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"  63016"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]})})})]})})]}),a.length>0&&s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2 text-red-700",children:[s.jsx(cn,{className:"h-5 w-5"}),"  (",a.length,")"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(u=>s.jsxs("div",{className:"border rounded-lg p-3 bg-red-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-red-700",children:u.phone_number||"  "}),s.jsx(ge,{className:"bg-red-100 text-red-800",children:u.status})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-1",children:u.message}),u.error_message&&s.jsxs("p",{className:"text-xs text-red-600",children:[": ",u.error_message]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(u.created_at).toLocaleString("ar")})]},u.id))})})]})]})})}function pLe(){const{toast:e}=Sn(),[t,n]=x.useState([]),r=h=>{n(m=>m.includes(h)?m.filter(v=>v!==h):[...m,h])},a=h=>{navigator.clipboard.writeText(h),e({title:" ",description:"    "})},i=`${window.location.origin}/api/notifications/webhook/twilio`,o=[{id:"meta-business-setup",title:" Meta Business Manager",description:"   WhatsApp Business Account  ",category:"Meta Setup",steps:["  Meta Business Manager (business.facebook.com)"," WhatsApp   ","  WhatsApp Business Account ID: 795259496521200 ",'   Display Name "MPBF"  ',"    +15557911537 "],important:!0},{id:"message-templates",title:"  ",description:"     ",category:"Templates",steps:["  WhatsApp  Message Templates  Meta Business Manager",'  "hello_world"  ',"    (  )","    (  24-48 )",'   "APPROVED"  '],templates:[{name:"hello_world",content:"Hello {{1}}, your appointment is confirmed.",language:"en"},{name:"system_notification_ar",content:" {{1}}      MPBF: {{2}}",language:"ar"},{name:"order_status_ar",content:"   {{1}}: {{2}}.  .",language:"ar"}]},{id:"twilio-production",title:" Production  Twilio",description:" WhatsApp Business Account  Twilio",category:"Twilio Setup",steps:["  Twilio Console  Messaging  WhatsApp senders",' "Connect a WhatsApp Business Account"'," Business Account ID: 795259496521200","   ","    +15557911537   Connected Numbers"]},{id:"webhook-configuration",title:" Webhook",description:" endpoints   ",category:"Integration",steps:[" Twilio Console   WhatsApp ","  Configuration  Webhooks",` Webhook URL: ${i}`," HTTP Method: POST",' "When a message comes in"  "Status callback"',"   "]},{id:"permissions-verification",title:"  ",description:"     ",category:"Verification",steps:["  Business Verification  Meta Business Manager","  Payment Method  ","  Message Limits (  )","  Quality Rating ","  Compliance  WhatsApp Policies"]},{id:"system-integration",title:" ",description:"   Production templates",category:"System Update",steps:[" notification service  approved templates","   production-specific"," message formatting   "," rate limiting  WhatsApp limits"," production logging "]}],l={businessAccountId:"795259496521200",businessManagerId:"8726984570657839",whatsappNumber:"+15557911537",displayName:"MPBF",twilioAccountSid:"ACe4ba2fd2e98be5b019c354539404cc29"},c=h=>t.includes(h)?s.jsx(It,{className:"h-5 w-5 text-green-600"}):s.jsx("div",{className:"h-5 w-5 border-2 border-gray-300 rounded-full"}),u=t.length,d=o.length,f=u/d*100;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  WhatsApp Production Mode"}),s.jsx("p",{className:"text-gray-600",children:"   WhatsApp Business   "})]}),s.jsx(K,{children:s.jsxs(G,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:" "}),s.jsxs("span",{className:"text-sm text-gray-500",children:[u,"  ",d]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]})}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Business Account ID:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",className:"font-mono",children:l.businessAccountId}),s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>a(l.businessAccountId),children:s.jsx(dd,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Business Manager ID:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",className:"font-mono",children:l.businessManagerId}),s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>a(l.businessManagerId),children:s.jsx(dd,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"WhatsApp Number:"}),s.jsx(ge,{variant:"outline",children:l.whatsappNumber})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Display Name:"}),s.jsx(ge,{variant:"outline",children:l.displayName})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Twilio Account:"}),s.jsx(ge,{variant:"outline",className:"font-mono text-xs",children:l.twilioAccountSid})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Webhook URL:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",className:"text-xs max-w-[200px] truncate",children:i}),s.jsx(W,{size:"sm",variant:"ghost",onClick:()=>a(i),children:s.jsx(dd,{className:"h-3 w-3"})})]})]})]})]})})]}),s.jsxs($i,{children:[s.jsx(Ya,{className:"h-4 w-4"}),s.jsxs(Di,{children:[s.jsx("strong",{children:":"}),"  Production Mode     Meta      .     24-48 ."]})]}),s.jsx("div",{className:"space-y-4",children:o.map((h,m)=>s.jsxs(K,{className:`${h.important?"border-blue-200 bg-blue-50":""}`,children:[s.jsx(le,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(oe,{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>r(h.id),className:"flex-shrink-0",children:c(h.id)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{children:[" ",m+1,": ",h.title]}),s.jsx(ge,{variant:"secondary",className:"text-xs",children:h.category})]}),s.jsx(Nn,{className:"mt-1",children:h.description})]})]})})}),s.jsxs(G,{children:[s.jsx("div",{className:"space-y-2",children:h.steps.map((v,p)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsxs("span",{className:"text-blue-500 mt-1 flex-shrink-0",children:[p+1,"."]}),s.jsx("span",{className:"text-gray-700",children:v})]},p))}),h.id==="message-templates"&&"templates"in h&&h.templates&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"  :"}),h.templates.map((v,p)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:v.name}),s.jsx(ge,{variant:"outline",className:"text-xs",children:v.language==="ar"?"":""})]}),s.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded font-mono",children:v.content})]},p))]})]})]},h.id))}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(g0,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsxs("a",{href:"https://business.facebook.com/wa/manage",target:"_blank",rel:"noopener noreferrer",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Meta Business Manager"}),s.jsx("div",{className:"text-sm text-gray-500",children:" WhatsApp Business Account"})]}),s.jsx(Rx,{className:"h-4 w-4 mr-2"})]})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsxs("a",{href:"https://console.twilio.com/us1/develop/sms/senders/whatsapp",target:"_blank",rel:"noopener noreferrer",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Twilio WhatsApp Console"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  WhatsApp"})]}),s.jsx(Rx,{className:"h-4 w-4 mr-2"})]})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsxs("a",{href:"https://business.facebook.com/wa/manage/message-templates/",target:"_blank",rel:"noopener noreferrer",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Message Templates"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]}),s.jsx(Rx,{className:"h-4 w-4 mr-2"})]})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsxs("a",{href:"https://business.facebook.com/settings/business-verification",target:"_blank",rel:"noopener noreferrer",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Business Verification"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]}),s.jsx(Rx,{className:"h-4 w-4 mr-2"})]})})]})})]}),u===d&&s.jsxs(K,{className:"border-green-200 bg-green-50",children:[s.jsx(le,{children:s.jsx(oe,{className:"text-green-700",children:"  Production !"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-green-700 mb-3",children:"!     Production Mode."}),s.jsxs("div",{className:"space-y-2 text-sm text-green-600",children:[s.jsx("p",{children:"        WhatsApp "}),s.jsx("p",{children:"       "}),s.jsx("p",{children:"  Message Limits  Quality Rating"}),s.jsx("p",{children:"     "})]})]})]})]})})}function xLe(){var _,C,E,P;const{toast:e}=Sn(),t=qn(),[n,r]=x.useState("+966"),[a,i]=x.useState("welcome_hxc4485f514cb7d4536026fc56250f75e7"),[o,l]=x.useState(["   MPBF"]),[c,u]=x.useState(!0),[d,f]=x.useState([]),h=[{id:"welcome_hxc4485f514cb7d4536026fc56250f75e7",name:"Welcome Template",language:"Arabic",description:"     Meta",variables:["{{1}}"],example:" {{1}}"}],{data:m,refetch:v}=$e({queryKey:["/api/notifications"],refetchInterval:!1,staleTime:2*60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1});x.useEffect(()=>()=>{t.cancelQueries({queryKey:["/api/notifications"]})},[t]);const p=Array.isArray(m)?m:[],g=et({mutationFn:async A=>await Qt("/api/notifications/whatsapp",{method:"POST",body:JSON.stringify({phone_number:A.phone,message:A.variables[0]||" ",title:"  ",template_name:A.template,variables:A.variables,use_template:A.useTemplate})}),onSuccess:A=>{e({title:"   ",description:`      ${n}`}),f(O=>[{timestamp:new Date,phone:n,template:a,variables:o,status:"sent",messageId:(A==null?void 0:A.messageId)||"unknown",success:!0,useTemplate:c},...O]),v()},onError:A=>{e({title:"  ",description:A.message||"    ",variant:"destructive"}),f(O=>[{timestamp:new Date,phone:n,template:a,variables:o,status:"failed",error:A.message,success:!1,useTemplate:c},...O])}}),y=()=>{if(!n){e({title:" ",description:"   ",variant:"destructive"});return}if(!n.startsWith("+")){e({title:"   ",description:"      +",variant:"destructive"});return}g.mutate({phone:n,template:a,variables:o,useTemplate:c})},b=()=>{l([...o,""])},j=(A,O)=>{const I=[...o];I[A]=O,l(I)},w=A=>{l(o.filter((O,I)=>I!==A))},N=A=>{switch(A){case"sent":return s.jsx(It,{className:"h-4 w-4 text-green-600"});case"delivered":return s.jsx(It,{className:"h-4 w-4 text-blue-600"});case"failed":return s.jsx(Zr,{className:"h-4 w-4 text-red-600"});default:return s.jsx(zc,{className:"h-4 w-4 text-yellow-600"})}},S=A=>{switch(A){case"sent":return"bg-green-100 text-green-800";case"delivered":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"   WhatsApp "}),s.jsx("p",{className:"text-gray-600",children:"   WhatsApp      Meta"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(dJ,{className:"h-5 w-5"}),"   "]}),s.jsx(Nn,{children:"     Meta  "})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",children:" "}),s.jsx(fe,{id:"phone",value:n,onChange:A=>r(A.target.value),placeholder:"+966501234567",dir:"ltr","data-testid":"input-phone"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"template",children:""}),s.jsxs(Xe,{value:a,onValueChange:i,children:[s.jsx(Ge,{"data-testid":"select-template",children:s.jsx(Ze,{placeholder:" "})}),s.jsx(Ye,{children:h.filter(A=>A.id&&A.id!==""&&A.id!==null&&A.id!==void 0).map(A=>s.jsx(q,{value:A.id.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:A.name}),s.jsx(ge,{variant:"secondary",className:"text-xs",children:A.language})]})},A.id))})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:" "}),s.jsxs("div",{className:"space-y-2",children:[o.map((A,O)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{value:A,onChange:I=>j(O,I.target.value),placeholder:` ${O+1}`,"data-testid":`input-variable-${O}`}),s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>w(O),"data-testid":`button-remove-variable-${O}`,children:""})]},O)),s.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:b,"data-testid":"button-add-variable",children:" "})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"useTemplate",checked:c,onChange:A=>u(A.target.checked),"data-testid":"checkbox-use-template"}),s.jsx(de,{htmlFor:"useTemplate",className:"text-sm",children:"    (Production Mode)"})]}),s.jsx(W,{onClick:y,disabled:g.isPending,className:"w-full","data-testid":"button-send-template",children:g.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"mr-2 h-4 w-4"}),"  "]})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:h.find(A=>A.id===a)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-medium",children:" :"}),s.jsx("p",{className:"text-sm text-gray-600 font-mono",children:(_=h.find(A=>A.id===a))==null?void 0:_.name})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-medium",children:" :"}),s.jsx("p",{className:"text-xs text-gray-500 font-mono break-all",children:a})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-medium",children:":"}),s.jsx(ge,{variant:"outline",children:(C=h.find(A=>A.id===a))==null?void 0:C.language})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-medium",children:":"}),s.jsx("div",{className:"text-sm text-gray-600",children:(E=h.find(A=>A.id===a))==null?void 0:E.variables.join(", ")})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-medium",children:":"}),s.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm font-mono",children:(P=h.find(A=>A.id===a))==null?void 0:P.example})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded",children:s.jsxs("p",{className:"text-xs text-blue-700",children:[s.jsx("strong",{children:" :"}),"    Meta ",s.jsx("br",{}),"       WhatsApp "]})})]})})]})]}),d.length>0&&s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"   "}),s.jsx(Nn,{children:"    "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:d.map((A,O)=>{var I;return s.jsxs("div",{className:"border rounded-lg p-3 bg-white","data-testid":`template-result-${O}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N(A.status),s.jsx("span",{className:"font-medium",children:A.phone}),s.jsx(ge,{className:S(A.status),children:A.status}),A.useTemplate&&s.jsx(ge,{variant:"outline",className:"text-xs",children:""})]}),s.jsx("span",{className:"text-sm text-gray-500",children:A.timestamp.toLocaleTimeString("ar")})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",A.template]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",((I=A.variables)==null?void 0:I.join(", "))||" "]})]}),A.messageId&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Message ID: ",A.messageId]}),A.error&&s.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[": ",A.error]})]},O)})})})]}),p&&p.length>0&&s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"    "})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:p.slice(0,5).map(A=>s.jsxs("div",{className:"border rounded-lg p-3 bg-white","data-testid":`notification-${A.id}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:A.title}),s.jsx(ge,{className:S(A.status),children:A.status})]}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(A.created_at).toLocaleString("ar")})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-1",children:A.message}),A.phone_number&&s.jsxs("p",{className:"text-xs text-gray-500",children:[": ",A.phone_number]})]},A.id))})})]})]})})}function gLe(){const{toast:e}=Sn(),[t,n]=x.useState("+966"),[r,a]=x.useState("!      MPBF"),[i,o]=x.useState(!0),l=et({mutationFn:async u=>await Qt("/api/notifications/whatsapp",{method:"POST",body:JSON.stringify({phone_number:u.phone,message:u.message,title:" ",use_template:u.useTemplate,template_name:u.useTemplate?"welcome_hxc4485f514cb7d4536026fc56250f75e7":void 0})}),onSuccess:()=>{e({title:"   !",description:"   WhatsApp  Content Template"})},onError:u=>{e({title:"  ",description:u.message,variant:"destructive"})}}),c=[{icon:s.jsx(zc,{className:"h-5 w-5"}),title:" ",description:"  WhatsApp  ",status:"active"},{icon:s.jsx(It,{className:"h-5 w-5"}),title:" ",description:"  Meta  ",status:"active"},{icon:s.jsx(yu,{className:"h-5 w-5"}),title:" ",description:"   ",status:"active"},{icon:s.jsx(wn,{className:"h-5 w-5"}),title:" ",description:"   ",status:"active"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto",children:s.jsx(It,{className:"h-12 w-12 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:" WhatsApp Business API !"}),s.jsx("p",{className:"text-xl text-gray-600",children:"   WhatsApp     "})]}),s.jsxs($i,{className:"border-green-200 bg-green-50",children:[s.jsx(It,{className:"h-4 w-4 text-green-600"}),s.jsxs(Di,{className:"text-green-700",children:[s.jsx("strong",{children:" !"}),"     WhatsApp  Twilio  Content Template   Meta  .     63016!"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5"})," "]}),s.jsx(Nn,{children:"    "})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:" Twilio"}),s.jsx(ge,{className:"bg-green-100 text-green-800",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Content Template"}),s.jsx(ge,{className:"bg-green-100 text-green-800",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Meta Template"}),s.jsx(ge,{className:"bg-green-100 text-green-800",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Webhook"}),s.jsx(ge,{className:"bg-green-100 text-green-800",children:""})]}),s.jsxs("div",{className:"flex items-center justify-between font-medium pt-2 border-t",children:[s.jsx("span",{children:" "}),s.jsx(ge,{className:"bg-green-600 text-white",children:" "})]})]})]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5"})," "]}),s.jsx(Nn,{children:"      "})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"finalTestPhone",children:" "}),s.jsx(fe,{id:"finalTestPhone",value:t,onChange:u=>n(u.target.value),placeholder:"+966501234567",dir:"ltr","data-testid":"input-final-phone"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"finalTestMessage",children:""}),s.jsx(fe,{id:"finalTestMessage",value:r,onChange:u=>a(u.target.value),"data-testid":"input-final-message"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"finalUseTemplate",checked:i,onChange:u=>o(u.target.checked),"data-testid":"checkbox-final-template"}),s.jsx(de,{htmlFor:"finalUseTemplate",className:"text-sm",children:" Content Template ( )"})]}),s.jsx(W,{onClick:()=>l.mutate({phone:t,message:r,useTemplate:i}),disabled:l.isPending,className:"w-full bg-green-600 hover:bg-green-700","data-testid":"button-final-test",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"mr-2 h-4 w-4"}),"  "]})})]})]})]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsx(oe,{children:"  "}),s.jsx(Nn,{children:"      MPBF"})]}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((u,d)=>s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg bg-white",children:[s.jsx("div",{className:"text-green-600",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description})]}),s.jsx(ge,{className:"bg-green-100 text-green-800",children:""})]},d))})})]}),s.jsxs(K,{className:"border-blue-200 bg-blue-50",children:[s.jsx(le,{children:s.jsx(oe,{className:"text-blue-800",children:" "})}),s.jsxs(G,{className:"text-blue-700 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{children:"Twilio Account SID: ACe4ba2fd2e98be5b019c354539404cc29"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{children:"WhatsApp Number: +15557911537"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{children:"Content Template SID: HXc4485f514cb7d4536026fc56250f75e7"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{children:"Meta Template: welcome_hxc4485f514cb7d4536026fc56250f75e7"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{children:"Business Account ID: 795259496521200"})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:" "})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm text-gray-600",children:"     "})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"  "}),s.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]})]})})]})]})})}function yLe(){const{toast:e}=Sn(),[t,n]=x.useState("+966"),[r,a]=x.useState("!    Meta WhatsApp API "),[i,o]=x.useState(!0),[l,c]=x.useState("welcome_hxc4485f514cb7d4536026fc56250f75e7"),u=et({mutationFn:async v=>await Qt("/api/notifications/whatsapp",{method:"POST",body:JSON.stringify({phone_number:v.phone,message:v.message,title:" Meta API",use_template:v.useTemplate,template_name:v.templateName})}),onSuccess:()=>{e({title:"   ",description:"     Meta WhatsApp API"})},onError:v=>{e({title:"  ",description:v.message,variant:"destructive"})}}),d=[{id:"business-manager",title:" Meta Business Manager",status:"completed",description:"   Meta Business Manager",details:["  Business Account ID: 795259496521200","  WhatsApp Business Account","    "]},{id:"app-creation",title:"  Meta",status:"required",description:"   Meta for Developers",details:["  developers.facebook.com",'     "Business"',"  WhatsApp Business Platform","  App ID  App Secret"]},{id:"access-token",title:" Access Token",status:"required",description:"  Access Token ",details:[" App Dashboard  WhatsApp  API Setup"," System User  Business Manager"," System User  WhatsApp Business Account","  Permanent Access Token"]},{id:"phone-number",title:"  ",status:"required",description:"   WhatsApp Business",details:["     Meta","    SMS/Voice","  Phone Number ID","  "]},{id:"webhook",title:" Webhook",status:"required",description:"   Meta Webhook",details:[" URL: https://your-domain.replit.app/api/notifications/webhook/meta","Verify Token: mpbf_webhook_token","Subscribe to messages, message_status","  "]}],f=[{name:"META_ACCESS_TOKEN",description:"Access Token   Meta Business Manager",example:"EAABsBCS1iL8BAxxxxxx...",required:!0},{name:"META_PHONE_NUMBER_ID",description:"     Meta",example:"1234567890123456",required:!0},{name:"META_BUSINESS_ACCOUNT_ID",description:"  WhatsApp Business",example:"795259496521200",required:!1},{name:"META_WEBHOOK_VERIFY_TOKEN",description:"   Webhook",example:"mpbf_webhook_token",required:!1}],h=v=>{switch(v){case"completed":return s.jsx(It,{className:"h-5 w-5 text-green-600"});case"required":return s.jsx(cn,{className:"h-5 w-5 text-yellow-600"});case"optional":return s.jsx(wn,{className:"h-5 w-5 text-gray-400"});default:return s.jsx(wn,{className:"h-5 w-5 text-gray-400"})}},m=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"required":return"bg-yellow-100 text-yellow-800";case"optional":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  Meta WhatsApp Business API"}),s.jsx("p",{className:"text-gray-600",children:"  Meta WhatsApp Business API  "})]}),s.jsxs($i,{children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsxs(Di,{children:[s.jsx("strong",{children:":"}),"  Meta WhatsApp API        Twilio      .      ."]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),d.map((v,p)=>s.jsxs(K,{className:"relative",children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:p+1}),s.jsx("span",{children:v.title})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h(v.status),s.jsx(ge,{className:m(v.status),children:v.status==="completed"?"":v.status==="required"?"":""})]})]}),s.jsx(Nn,{children:v.description})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:v.details.map((g,y)=>s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:""}),s.jsx("span",{className:v.status==="completed"?"text-green-700":"text-gray-700",children:g})]},y))})})]},v.id))]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(rJ,{className:"h-5 w-5"})," "]}),s.jsx(Nn,{children:"    Replit Secrets"})]}),s.jsx(G,{className:"space-y-4",children:f.map(v=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm",children:v.name}),s.jsx(ge,{variant:v.required?"destructive":"secondary",children:v.required?"":""})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:v.description}),s.jsx("code",{className:"text-xs bg-gray-100 p-1 rounded block",children:v.example})]},v.name))})]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5"})," Meta API"]}),s.jsx(Nn,{children:"    Meta WhatsApp API"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"testPhone",children:" "}),s.jsx(fe,{id:"testPhone",value:t,onChange:v=>n(v.target.value),placeholder:"+966501234567",dir:"ltr","data-testid":"input-phone"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"testMessage",children:""}),s.jsx(fe,{id:"testMessage",value:r,onChange:v=>a(v.target.value),placeholder:" ","data-testid":"input-message"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"useTemplate",checked:i,onChange:v=>o(v.target.checked),"data-testid":"checkbox-template"}),s.jsx(de,{htmlFor:"useTemplate",className:"text-sm",children:"   "})]}),i&&s.jsxs("div",{children:[s.jsx(de,{htmlFor:"templateName",children:" "}),s.jsx(fe,{id:"templateName",value:l,onChange:v=>c(v.target.value),placeholder:"welcome_hxc4485f514cb7d4536026fc56250f75e7",className:"font-mono text-xs","data-testid":"input-template-name"})]}),s.jsx(W,{onClick:()=>u.mutate({phone:t,message:r,useTemplate:i,templateName:i?l:void 0}),disabled:u.isPending,className:"w-full","data-testid":"button-test-meta",children:u.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ho,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"mr-2 h-4 w-4"})," Meta API"]})})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(g0,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{variant:"outline",className:"w-full justify-start h-auto p-4",asChild:!0,children:s.jsx("a",{href:"https://developers.facebook.com/apps",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Meta for Developers"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  Meta "})]})})}),s.jsx(W,{variant:"outline",className:"w-full justify-start h-auto p-4",asChild:!0,children:s.jsx("a",{href:"https://business.facebook.com/",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Meta Business Manager"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]})})}),s.jsx(W,{variant:"outline",className:"w-full justify-start h-auto p-4",asChild:!0,children:s.jsx("a",{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"WhatsApp Cloud API Guide"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]})})}),s.jsx(W,{variant:"outline",className:"w-full justify-start h-auto p-4",asChild:!0,children:s.jsx("a",{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/webhooks",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Webhook Configuration"}),s.jsx("div",{className:"text-sm text-gray-500",children:" Webhooks"})]})})})]})})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsx(oe,{children:"   Meta API "})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"      Meta"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"   WhatsApp Business"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-green-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-gray-600",children:"   Meta"})]})]})]})})]})]})})}function vLe(){const[e,t]=x.useState(!1),n=o=>{navigator.clipboard.writeText(o),t(!0),setTimeout(()=>t(!1),2e3)},r={metaTemplate:"welcome_hxc4485f514cb7d4536026fc56250f75e7",businessId:"795259496521200",metaBusinessManagerId:"8726984570657839",twilioAccountSid:"ACe4ba2fd2e98be5b019c354539404cc29",twilioPhoneNumber:"+15557911537",allCredentialsReady:!0},a=[{id:"access-console",title:"  Twilio Console",description:"  Content Template Builder",completed:!1,actions:["  console.twilio.com","  ",' "Content"   ',' "Content Template Builder"']},{id:"create-template",title:" Content Template ",description:" Meta template  Twilio",completed:!1,actions:[' "Create new template"',' "WhatsApp"  ',' "Pre-approved template" '," WhatsApp Business Account ID: 795259496521200"," Meta template name: welcome_hxc4485f514cb7d4536026fc56250f75e7"]},{id:"configure-template",title:" ",description:"  ",completed:!1,actions:['  : "MPBF Welcome Template"'," : Arabic (ar)","    ","    ContentSid"]},{id:"get-content-sid",title:"  ContentSid",description:"     ",completed:!0,actions:["    ContentSid: HXc4485f514cb7d4536026fc56250f75e7","   TWILIO_CONTENT_SID  Replit Secrets","    Content Template","  63016   "]}],i=`//  server/services/notification-service.ts
async sendWhatsAppTemplateMessage(
  phoneNumber: string,
  templateName: string,
  variables: string[] = []
) {
  const messageData = {
    from: \`whatsapp:\${this.twilioPhoneNumber}\`,
    to: formattedNumber,
    contentSid: "HXxxxxxxxxxxxxxxxxxxxxx", // ContentSid  Twilio Console
    contentVariables: JSON.stringify({
      "1": variables[0] || "   MPBF"
    })
  };

  return await this.twilioClient.messages.create(messageData);
}`;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",dir:"rtl",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  Twilio Content Template"}),s.jsx("p",{className:"text-gray-600",children:" Meta template    Twilio   63016"})]}),s.jsxs($i,{children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsxs(Di,{children:[s.jsx("strong",{children:"  63016:"})," Twilio    Meta template ID .   Content Template  Twilio Console      Meta."]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-5 w-5"}),"  "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Meta Template ID:"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1 break-all",children:r.metaTemplate})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Business Account ID:"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:r.businessId})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Twilio Account SID:"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:r.twilioAccountSid})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Twilio Phone Number:"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:r.twilioPhoneNumber})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Meta Business Manager ID:"}),s.jsx("div",{className:"font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:r.metaBusinessManagerId})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Content Template SID:"}),s.jsx("div",{className:"font-mono text-xs bg-green-100 p-2 rounded mt-1",children:"HXc4485f514cb7d4536026fc56250f75e7"})]}),s.jsxs("div",{children:[s.jsx(fc,{className:"font-medium",children:"Status:"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(It,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:" ! "})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),a.map((o,l)=>s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:l+1}),s.jsx("span",{children:o.title})]}),s.jsx(ge,{className:o.completed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:o.completed?"":""})]}),s.jsx(Nn,{children:o.description})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:o.actions.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:""}),s.jsx("span",{children:c})]},u))})})]},o.id))]}),s.jsxs(K,{children:[s.jsxs(le,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5"}),"     ContentSid"]}),s.jsx(Nn,{children:"       Content Template"})]}),s.jsx(G,{children:s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:s.jsx("code",{children:i})}),s.jsxs(W,{variant:"outline",size:"sm",className:"absolute top-2 left-2",onClick:()=>n(i),children:[e?s.jsx(It,{className:"h-4 w-4"}):s.jsx(dd,{className:"h-4 w-4"}),e?" ":""]})]})})]}),s.jsxs(K,{className:"border-blue-200 bg-blue-50",children:[s.jsx(le,{children:s.jsx(oe,{className:"text-blue-800",children:" "})}),s.jsxs(G,{className:"text-blue-700 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(It,{className:"h-4 w-4 mt-1 text-blue-600"}),s.jsx("span",{children:" Meta template name : welcome_hxc4485f514cb7d4536026fc56250f75e7"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(It,{className:"h-4 w-4 mt-1 text-blue-600"}),s.jsx("span",{children:"ContentSid   HX    "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(It,{className:"h-4 w-4 mt-1 text-blue-600"}),s.jsx("span",{children:"       JSON "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(It,{className:"h-4 w-4 mt-1 text-blue-600"}),s.jsx("span",{children:"   Twilio Console    "})]})]})]}),s.jsxs(K,{children:[s.jsx(le,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(g0,{className:"h-5 w-5"})," "]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://console.twilio.com/us1/develop/sms/content-template-builder",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Twilio Content Template Builder"}),s.jsx("div",{className:"text-sm text-gray-500",children:" Content Template"})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://console.twilio.com/us1/develop/sms/content-template-builder/templates",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"My Content Templates"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  "})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://support.twilio.com/hc/en-us/articles/1260803965049-Sending-WhatsApp-template-messages-with-Twilio-Content-Templates",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Twilio Documentation"}),s.jsx("div",{className:"text-sm text-gray-500",children:" Content Templates"})]})})}),s.jsx(W,{variant:"outline",className:"h-auto p-4 justify-start",asChild:!0,children:s.jsx("a",{href:"https://business.facebook.com/wa/manage/message-templates/",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:"Meta Message Templates"}),s.jsx("div",{className:"text-sm text-gray-500",children:"  Meta"})]})})})]})})]}),s.jsxs($i,{children:[s.jsx(It,{className:"h-4 w-4"}),s.jsxs(Di,{children:[s.jsx("strong",{children:" :"}),"   Content Template   ContentSid          ."]})]})]})})}function fc({className:e,children:t,...n}){return s.jsx("label",{className:`text-sm font-medium ${e||""}`,...n,children:t})}const bLe="/attached_assets/FactoryLogoHPNGWg.png",jLe=ie.object({username:ie.string().min(1,"  ").min(3,"     3   "),password:ie.string().min(1,"  ").min(6,"     6   ")});function cG(){const{login:e,isLoading:t}=ii(),{toast:n}=Sn(),r=Sr({resolver:Qr(jLe),defaultValues:{username:"",password:""}}),a=async i=>{try{await e(i.username,i.password),n({title:" ",description:"   "})}catch(o){let l="   ";o instanceof Error&&(l=o.message),(l.includes("Network error")||l.includes("Failed to fetch"))&&(l="  .        ."),n({title:"   ",description:l,variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"mx-auto bg-primary text-primary-foreground p-3 rounded-full w-fit mb-4",children:s.jsx("img",{src:bLe,alt:"Logo",className:"w-34 h-34"})}),s.jsx(oe,{className:"text-2xl font-bold",children:"MPBF System"}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]}),s.jsxs(G,{children:[s.jsx(Cr,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-4",children:[s.jsx(Ee,{control:r.control,name:"username",render:({field:i})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{placeholder:"  ",className:"text-right",disabled:t,"data-testid":"input-username",...i})}),s.jsx(ke,{})]})}),s.jsx(Ee,{control:r.control,name:"password",render:({field:i})=>s.jsxs(Se,{children:[s.jsx(Ce,{children:" "}),s.jsx(Pe,{children:s.jsx(fe,{type:"password",placeholder:"  ",className:"text-right",disabled:t,"data-testid":"input-password",...i})}),s.jsx(ke,{})]})}),s.jsx(W,{type:"submit",className:"w-full btn-primary",disabled:t,"data-testid":"button-login",children:t?"  ...":" "})]})}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"    AbuKhalid  "})})]})]})})}function wLe(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(K,{className:"w-full max-w-md mx-4",children:s.jsxs(G,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Ga,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Wn({children:e}){const{user:t,isLoading:n}=ii();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:" ..."})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(cG,{})}function _Le(){return s.jsxs(hX,{children:[s.jsx(Cn,{path:"/login",component:cG}),s.jsx(Cn,{path:"/production",children:s.jsx(Wn,{children:s.jsx(Doe,{})})}),s.jsx(Cn,{path:"/production-monitoring",children:s.jsx(Wn,{children:s.jsx(VMe,{})})}),s.jsx(Cn,{path:"/quality",children:s.jsx(Wn,{children:s.jsx(KMe,{})})}),s.jsx(Cn,{path:"/maintenance",children:s.jsx(Wn,{children:s.jsx(v4e,{})})}),s.jsx(Cn,{path:"/hr",children:s.jsx(Wn,{children:s.jsx(YDe,{})})}),s.jsx(Cn,{path:"/warehouse",children:s.jsx(Wn,{children:s.jsx(JDe,{})})}),s.jsx(Cn,{path:"/definitions",children:s.jsx(Wn,{children:s.jsx(nIe,{})})}),s.jsx(Cn,{path:"/settings",children:s.jsx(Wn,{children:s.jsx(OIe,{})})}),s.jsx(Cn,{path:"/reports",children:s.jsx(Wn,{children:s.jsx(V3e,{})})}),s.jsx(Cn,{path:"/ml-analytics",children:s.jsx(Wn,{children:s.jsx(G3e,{})})}),s.jsx(Cn,{path:"/orders",children:s.jsx(Wn,{children:s.jsx(iLe,{})})}),s.jsx(Cn,{path:"/notifications",children:s.jsx(Wn,{children:s.jsx(cLe,{})})}),s.jsx(Cn,{path:"/alerts",children:s.jsx(Wn,{children:s.jsx(dLe,{})})}),s.jsx(Cn,{path:"/system-health",children:s.jsx(Wn,{children:s.jsx(fLe,{})})}),s.jsx(Cn,{path:"/whatsapp-setup",children:s.jsx(Wn,{children:s.jsx(uLe,{})})}),s.jsx(Cn,{path:"/whatsapp-test",children:s.jsx(Wn,{children:s.jsx(hLe,{})})}),s.jsx(Cn,{path:"/whatsapp-troubleshoot",children:s.jsx(Wn,{children:s.jsx(mLe,{})})}),s.jsx(Cn,{path:"/whatsapp-production",children:s.jsx(Wn,{children:s.jsx(pLe,{})})}),s.jsx(Cn,{path:"/whatsapp-template",children:s.jsx(Wn,{children:s.jsx(xLe,{})})}),s.jsx(Cn,{path:"/whatsapp-final",children:s.jsx(Wn,{children:s.jsx(gLe,{})})}),s.jsx(Cn,{path:"/meta-whatsapp",children:s.jsx(Wn,{children:s.jsx(yLe,{})})}),s.jsx(Cn,{path:"/twilio-content",children:s.jsx(Wn,{children:s.jsx(vLe,{})})}),s.jsx(Cn,{path:"/user-dashboard",children:s.jsx(Wn,{children:s.jsx($oe,{})})}),s.jsx(Cn,{path:"/",children:s.jsx(Wn,{children:s.jsx(Moe,{})})}),s.jsx(Cn,{component:wLe})]})}function NLe(){const e=D.useMemo(()=>s2(),[]),t=s.jsx(NL,{children:s.jsx(TX,{client:e,children:s.jsx(Tte,{children:s.jsxs($te,{children:[s.jsx(JJ,{}),s.jsx(_Le,{})]})})})});return s.jsx(D.StrictMode,{children:t})}window.addEventListener("unhandledrejection",e=>{e.reason});yF(document.getElementById("root")).render(s.jsx(NLe,{}));
